{"version":3,"file":"d4234457874676dee57c482d3beb490710d2b21e-0f365d7572a7d4d5fcaf.js","mappings":"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","sources":["webpack:///./node_modules/motion-dom/dist/es/render/utils/keys-transform.mjs","webpack:///./node_modules/motion-dom/dist/es/render/dom/parse-transform.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/utils/is-css-variable.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/geometry/conversion.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/mix/number.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/utils/has-transform.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/geometry/delta-apply.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/utils/measure.mjs","webpack:///./node_modules/motion-dom/dist/es/render/utils/keys-position.mjs","webpack:///./node_modules/motion-utils/dist/es/clamp.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/numbers/index.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/numbers/units.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/test.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/dimensions.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/auto.mjs","webpack:///./node_modules/motion-utils/dist/es/is-numerical-string.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/utils/css-variables-conversion.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/keyframes/utils/unit-conversion.mjs","webpack:///./node_modules/motion-utils/dist/es/noop.mjs","webpack:///./node_modules/motion-utils/dist/es/global-config.mjs","webpack:///./node_modules/motion-dom/dist/es/frameloop/order.mjs","webpack:///./node_modules/motion-dom/dist/es/stats/buffer.mjs","webpack:///./node_modules/motion-dom/dist/es/frameloop/batcher.mjs","webpack:///./node_modules/motion-dom/dist/es/frameloop/render-step.mjs","webpack:///./node_modules/motion-dom/dist/es/frameloop/frame.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/keyframes/KeyframesResolver.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/keyframes/utils/fill-wildcards.mjs","webpack:///./node_modules/motion-utils/dist/es/is-zero-value-string.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/keyframes/utils/is-none.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/utils/sanitize.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/utils/float-regex.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/utils/single-color-regex.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/color/utils.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/utils/is-nullish.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/color/rgba.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/color/hex.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/color/hsla.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/color/index.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/utils/color-regex.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/complex/index.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/complex/filter.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/int.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/maps/number.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/maps/transform.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/maps/defaults.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/utils/animatable-none.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/keyframes/utils/make-none-animatable.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/keyframes/DOMKeyframesResolver.mjs","webpack:///./node_modules/motion-dom/dist/es/value/utils/is-motion-value.mjs","webpack:///./node_modules/motion-dom/dist/es/frameloop/sync-time.mjs","webpack:///./node_modules/motion-utils/dist/es/array.mjs","webpack:///./node_modules/motion-utils/dist/es/subscription-manager.mjs","webpack:///./node_modules/motion-utils/dist/es/velocity-per-second.mjs","webpack:///./node_modules/motion-dom/dist/es/value/index.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/utils/find.mjs","webpack:///./node_modules/motion-dom/dist/es/frameloop/microtask.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/features/definitions.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/geometry/models.mjs","webpack:///./node_modules/framer-motion/dist/es/utils/reduced-motion/state.mjs","webpack:///./node_modules/framer-motion/dist/es/render/store.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.mjs","webpack:///./node_modules/framer-motion/dist/es/render/utils/is-variant-label.mjs","webpack:///./node_modules/framer-motion/dist/es/render/utils/variant-props.mjs","webpack:///./node_modules/framer-motion/dist/es/render/utils/is-controlling-variants.mjs","webpack:///./node_modules/framer-motion/dist/es/render/utils/resolve-variants.mjs","webpack:///./node_modules/framer-motion/dist/es/render/VisualElement.mjs","webpack:///./node_modules/framer-motion/dist/es/utils/reduced-motion/index.mjs","webpack:///./node_modules/framer-motion/dist/es/render/utils/motion-values.mjs","webpack:///./node_modules/framer-motion/dist/es/render/dom/DOMVisualElement.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/utils/get-as-type.mjs","webpack:///./node_modules/framer-motion/dist/es/render/html/utils/build-transform.mjs","webpack:///./node_modules/framer-motion/dist/es/render/html/utils/build-styles.mjs","webpack:///./node_modules/framer-motion/dist/es/render/html/utils/render.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/styles/scale-correction.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.mjs","webpack:///./node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.mjs","webpack:///./node_modules/framer-motion/dist/es/render/html/HTMLVisualElement.mjs","webpack:///./node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.mjs","webpack:///./node_modules/framer-motion/dist/es/render/svg/utils/path.mjs","webpack:///./node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.mjs","webpack:///./node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.mjs","webpack:///./node_modules/framer-motion/dist/es/render/svg/utils/is-svg-tag.mjs","webpack:///./node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.mjs","webpack:///./node_modules/framer-motion/dist/es/render/svg/SVGVisualElement.mjs","webpack:///./node_modules/framer-motion/dist/es/render/svg/utils/render.mjs","webpack:///./node_modules/framer-motion/dist/es/render/svg/lowercase-elements.mjs","webpack:///./node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.mjs","webpack:///./node_modules/framer-motion/dist/es/render/dom/create-visual-element.mjs","webpack:///./node_modules/framer-motion/dist/es/context/LazyContext.mjs","webpack:///./node_modules/framer-motion/dist/es/context/MotionContext/index.mjs","webpack:///./node_modules/framer-motion/dist/es/context/MotionContext/create.mjs","webpack:///./node_modules/framer-motion/dist/es/context/MotionContext/utils.mjs","webpack:///./node_modules/framer-motion/dist/es/render/html/utils/create-render-state.mjs","webpack:///./node_modules/framer-motion/dist/es/render/html/use-props.mjs","webpack:///./node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.mjs","webpack:///./node_modules/framer-motion/dist/es/render/svg/use-props.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/utils/valid-prop.mjs","webpack:///./node_modules/framer-motion/dist/es/render/dom/utils/filter-props.mjs","webpack:///./node_modules/framer-motion/dist/es/render/dom/use-render.mjs","webpack:///./node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/utils/use-visual-state.mjs","webpack:///./node_modules/framer-motion/dist/es/render/html/use-html-visual-state.mjs","webpack:///./node_modules/framer-motion/dist/es/render/svg/use-svg-visual-state.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/utils/symbol.mjs","webpack:///./node_modules/framer-motion/dist/es/utils/is-ref-object.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/optimized-appear/data-id.mjs","webpack:///./node_modules/framer-motion/dist/es/context/SwitchLayoutGroupContext.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/index.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/features/load-features.mjs","webpack:///./node_modules/framer-motion/dist/es/render/components/create-proxy.mjs","webpack:///./node_modules/framer-motion/dist/es/render/utils/resolve-dynamic-variants.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/utils/get-value-transition.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.mjs","webpack:///./node_modules/framer-motion/dist/es/render/utils/setters.mjs","webpack:///./node_modules/framer-motion/dist/es/value/use-will-change/add-will-change.mjs","webpack:///./node_modules/framer-motion/dist/es/value/use-will-change/is.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/optimized-appear/get-appear-id.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/utils/make-animation-instant.mjs","webpack:///./node_modules/motion-utils/dist/es/pipe.mjs","webpack:///./node_modules/motion-utils/dist/es/time-conversion.mjs","webpack:///./node_modules/motion-dom/dist/es/stats/animation-count.mjs","webpack:///./node_modules/motion-dom/dist/es/value/types/color/hsla-to-rgba.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/mix/immediate.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/mix/color.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/mix/visibility.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/mix/complex.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/mix/index.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/drivers/frame.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/waapi/utils/linear.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/generators/utils/calc-duration.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/generators/utils/velocity.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/generators/spring/defaults.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/generators/spring/find.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/generators/spring/index.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/generators/inertia.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/generators/utils/create-generator-easing.mjs","webpack:///./node_modules/motion-utils/dist/es/easing/cubic-bezier.mjs","webpack:///./node_modules/motion-utils/dist/es/easing/ease.mjs","webpack:///./node_modules/motion-utils/dist/es/easing/modifiers/mirror.mjs","webpack:///./node_modules/motion-utils/dist/es/easing/modifiers/reverse.mjs","webpack:///./node_modules/motion-utils/dist/es/easing/back.mjs","webpack:///./node_modules/motion-utils/dist/es/easing/anticipate.mjs","webpack:///./node_modules/motion-utils/dist/es/easing/circ.mjs","webpack:///./node_modules/motion-utils/dist/es/easing/utils/is-bezier-definition.mjs","webpack:///./node_modules/motion-utils/dist/es/easing/utils/map.mjs","webpack:///./node_modules/motion-utils/dist/es/progress.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/interpolate.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/keyframes/offsets/default.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/keyframes/offsets/fill.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/generators/keyframes.mjs","webpack:///./node_modules/motion-utils/dist/es/easing/utils/is-easing-array.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/keyframes/offsets/time.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/keyframes/get-final.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/utils/replace-transition-type.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/utils/WithPromise.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/JSAnimation.mjs","webpack:///./node_modules/motion-utils/dist/es/memo.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/supports/scroll-timeline.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/supports/flags.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/supports/memo.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/supports/linear-easing.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/waapi/easing/cubic-bezier.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/waapi/easing/supported.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/waapi/easing/map-easing.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/waapi/start-waapi-animation.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/generators/utils/is-generator.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/NativeAnimation.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/waapi/utils/apply-generator.mjs","webpack:///./node_modules/motion-dom/dist/es/render/dom/style-set.mjs","webpack:///./node_modules/motion-dom/dist/es/render/dom/is-css-var.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/waapi/utils/unsupported-easing.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/NativeAnimationExtended.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/utils/is-animatable.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/waapi/supports/waapi.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/AsyncMotionValueAnimation.mjs","webpack:///./node_modules/motion-dom/dist/es/animation/utils/can-animate.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/animators/waapi/utils/get-final-keyframe.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/utils/default-transitions.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/interfaces/motion-value.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/utils/is-transition-defined.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/interfaces/visual-element-target.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/utils/calc-child-stagger.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/interfaces/visual-element-variant.mjs","webpack:///./node_modules/framer-motion/dist/es/utils/shallow-compare.mjs","webpack:///./node_modules/framer-motion/dist/es/render/utils/get-variant-context.mjs","webpack:///./node_modules/framer-motion/dist/es/render/utils/animation-state.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/interfaces/visual-element.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/features/Feature.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/features/animation/exit.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/features/animations.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/features/animation/index.mjs","webpack:///./node_modules/motion-dom/dist/es/gestures/drag/state/is-active.mjs","webpack:///./node_modules/framer-motion/dist/es/events/add-dom-event.mjs","webpack:///./node_modules/motion-dom/dist/es/gestures/utils/is-primary-pointer.mjs","webpack:///./node_modules/framer-motion/dist/es/events/event-info.mjs","webpack:///./node_modules/framer-motion/dist/es/events/add-pointer-event.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/geometry/delta-calc.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/utils/each-axis.mjs","webpack:///./node_modules/framer-motion/dist/es/utils/get-context-window.mjs","webpack:///./node_modules/framer-motion/dist/es/utils/distance.mjs","webpack:///./node_modules/framer-motion/dist/es/gestures/pan/PanSession.mjs","webpack:///./node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.mjs","webpack:///./node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.mjs","webpack:///./node_modules/motion-dom/dist/es/gestures/drag/state/set-active.mjs","webpack:///./node_modules/framer-motion/dist/es/gestures/pan/index.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/node/state.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/styles/scale-border-radius.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/styles/scale-box-shadow.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/features/layout/MeasureLayout.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/is-svg-element.mjs","webpack:///./node_modules/framer-motion/dist/es/render/utils/compare-by-depth.mjs","webpack:///./node_modules/framer-motion/dist/es/render/utils/flat-tree.mjs","webpack:///./node_modules/framer-motion/dist/es/utils/delay.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/animation/mix-values.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/geometry/copy.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/geometry/delta-remove.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/geometry/utils.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/shared/stack.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/node/create-projection-node.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/is-svg-svg-element.mjs","webpack:///./node_modules/framer-motion/dist/es/animation/animate/single-value.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/styles/transform.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/node/DocumentProjectionNode.mjs","webpack:///./node_modules/framer-motion/dist/es/projection/node/HTMLProjectionNode.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/features/drag.mjs","webpack:///./node_modules/framer-motion/dist/es/gestures/drag/index.mjs","webpack:///./node_modules/motion-dom/dist/es/gestures/utils/setup.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/resolve-elements.mjs","webpack:///./node_modules/motion-dom/dist/es/gestures/hover.mjs","webpack:///./node_modules/framer-motion/dist/es/gestures/hover.mjs","webpack:///./node_modules/motion-dom/dist/es/gestures/utils/is-node-or-child.mjs","webpack:///./node_modules/motion-dom/dist/es/gestures/press/utils/is-keyboard-accessible.mjs","webpack:///./node_modules/motion-dom/dist/es/gestures/press/utils/state.mjs","webpack:///./node_modules/motion-dom/dist/es/gestures/press/utils/keyboard.mjs","webpack:///./node_modules/motion-dom/dist/es/gestures/press/index.mjs","webpack:///./node_modules/framer-motion/dist/es/gestures/press.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/features/viewport/observers.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/features/viewport/index.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/features/gestures.mjs","webpack:///./node_modules/framer-motion/dist/es/gestures/focus.mjs","webpack:///./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs","webpack:///./node_modules/framer-motion/dist/es/render/components/motion/feature-bundle.mjs","webpack:///./node_modules/framer-motion/dist/es/motion/features/layout.mjs","webpack:///../src/image-utils.ts","webpack:///../src/components/hooks.ts","webpack:///../src/components/layout-wrapper.tsx","webpack:///../src/components/picture.tsx","webpack:///../src/components/placeholder.tsx","webpack:///../src/components/main-image.tsx","webpack:///../src/components/gatsby-image.server.tsx","webpack:///../src/components/gatsby-image.browser.tsx","webpack:///../src/components/static-image.server.tsx","webpack:///../src/components/static-image.tsx","webpack:///./node_modules/camelcase/index.js","webpack:///./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs","webpack:///./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","webpack:///./node_modules/use-sync-external-store/cjs/use-sync-external-store-with-selector.production.js","webpack:///./node_modules/framer-motion/dist/es/components/AnimatePresence/PopChild.mjs","webpack:///./node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","webpack:///./node_modules/framer-motion/dist/es/components/AnimatePresence/utils.mjs","webpack:///./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs","webpack:///./src/hooks/useSiteMetadata.js","webpack:///./src/components/Navbar.js","webpack:///./src/components/Footer.js","webpack:///./node_modules/@react-aria/utils/dist/useLayoutEffect.mjs","webpack:///./node_modules/@react-aria/utils/dist/useEffectEvent.mjs","webpack:///./node_modules/@react-aria/interactions/dist/utils.mjs","webpack:///./node_modules/@react-aria/utils/dist/platform.mjs","webpack:///./node_modules/@react-aria/utils/dist/domHelpers.mjs","webpack:///./node_modules/@react-aria/interactions/dist/useFocusVisible.mjs","webpack:///./node_modules/@react-aria/utils/dist/isVirtualEvent.mjs","webpack:///./node_modules/@react-stately/flags/dist/import.mjs","webpack:///./node_modules/@react-aria/utils/dist/DOMFunctions.mjs","webpack:///./node_modules/@react-aria/interactions/dist/useFocus.mjs","webpack:///./node_modules/@react-aria/utils/dist/useGlobalListeners.mjs","webpack:///./node_modules/@react-aria/interactions/dist/useFocusWithin.mjs","webpack:///./node_modules/@react-aria/focus/dist/useFocusRing.mjs","webpack:///./node_modules/@react-aria/interactions/dist/useHover.mjs","webpack:///./node_modules/@tanstack/virtual-core/dist/esm/utils.js","webpack:///./node_modules/@tanstack/virtual-core/dist/esm/index.js","webpack:///./node_modules/@tanstack/react-virtual/dist/esm/index.js","webpack:///./node_modules/@headlessui/react/dist/utils/env.js","webpack:///./node_modules/@headlessui/react/dist/utils/owner.js","webpack:///./node_modules/@headlessui/react/dist/utils/micro-task.js","webpack:///./node_modules/@headlessui/react/dist/utils/disposables.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-disposables.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-iso-morphic-effect.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-latest-value.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-event.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-by-comparator.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-element-size.js","webpack:///./node_modules/@headlessui/react/dist/utils/default-map.js","webpack:///./node_modules/@headlessui/react/dist/machine.js","webpack:///./node_modules/@headlessui/react/dist/utils/match.js","webpack:///./node_modules/@headlessui/react/dist/machines/stack-machine.js","webpack:///./node_modules/@headlessui/react/dist/react-glue.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-is-top-layer.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-inert-others.js","webpack:///./node_modules/@headlessui/react/dist/utils/dom.js","webpack:///./node_modules/@headlessui/react/dist/utils/focus-management.js","webpack:///./node_modules/@headlessui/react/dist/utils/platform.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-document-event.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-outside-click.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-window-event.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-owner.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-quick-release.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-refocusable-input.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-event-listener.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-resolve-button-type.js","webpack:///./node_modules/@headlessui/react/dist/hooks/document-overflow/adjust-scrollbar-padding.js","webpack:///./node_modules/@headlessui/react/dist/hooks/document-overflow/handle-ios-locking.js","webpack:///./node_modules/@headlessui/react/dist/hooks/document-overflow/overflow-store.js","webpack:///./node_modules/@headlessui/react/dist/utils/store.js","webpack:///./node_modules/@headlessui/react/dist/hooks/document-overflow/prevent-scroll.js","webpack:///./node_modules/@headlessui/react/dist/hooks/document-overflow/use-document-overflow.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-store.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-scroll-lock.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-sync-refs.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-tracked-pointer.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-transition.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-flags.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-watch.js","webpack:///./node_modules/@headlessui/react/dist/internal/disabled.js","webpack:///./node_modules/@headlessui/react/dist/internal/floating.js","webpack:///./node_modules/@headlessui/react/dist/utils/form.js","webpack:///./node_modules/@headlessui/react/dist/utils/class-names.js","webpack:///./node_modules/@headlessui/react/dist/utils/render.js","webpack:///./node_modules/@headlessui/react/dist/internal/hidden.js","webpack:///./node_modules/@headlessui/react/dist/internal/form-fields.js","webpack:///./node_modules/@headlessui/react/dist/internal/frozen.js","webpack:///./node_modules/@headlessui/react/dist/internal/id.js","webpack:///./node_modules/@headlessui/react/dist/internal/open-closed.js","webpack:///./node_modules/@headlessui/react/dist/utils/active-element-history.js","webpack:///./node_modules/@headlessui/react/dist/utils/bugs.js","webpack:///./node_modules/@headlessui/react/dist/utils/document-ready.js","webpack:///./node_modules/@headlessui/react/dist/utils/calculate-active-index.js","webpack:///./node_modules/@headlessui/react/dist/components/description/description.js","webpack:///./node_modules/@headlessui/react/dist/components/keyboard.js","webpack:///./node_modules/@headlessui/react/dist/components/label/label.js","webpack:///./node_modules/@headlessui/react/dist/components/mouse.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-on-unmount.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-server-handoff-complete.js","webpack:///./node_modules/@headlessui/react/dist/internal/portal-force-root.js","webpack:///./node_modules/@headlessui/react/dist/components/portal/portal.js","webpack:///./node_modules/@headlessui/react/dist/components/combobox/combobox-machine.js","webpack:///./node_modules/@headlessui/react/dist/components/combobox/combobox-machine-glue.js","webpack:///./node_modules/@headlessui/react/dist/components/combobox/combobox.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-default-value.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-controllable.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-active-press.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-on-disappear.js","webpack:///./node_modules/@headlessui/react/dist/hooks/use-tree-walker.js","webpack:///./node_modules/fuse.js/dist/fuse.mjs","webpack:///./node_modules/@heroicons/react/24/solid/esm/XCircleIcon.js","webpack:///./node_modules/@heroicons/react/24/solid/esm/MagnifyingGlassIcon.js","webpack:///./node_modules/@heroicons/react/24/solid/esm/ArrowUturnRightIcon.js","webpack:///./node_modules/@heroicons/react/24/solid/esm/ArrowUpCircleIcon.js","webpack:///./node_modules/@heroicons/react/24/solid/esm/ArrowDownCircleIcon.js","webpack:///./src/components/Search.js","webpack:///./node_modules/@uidotdev/usehooks/index.js","webpack:///./node_modules/lucide-react/dist/esm/shared/src/utils.js","webpack:///./node_modules/lucide-react/dist/esm/defaultAttributes.js","webpack:///./node_modules/lucide-react/dist/esm/Icon.js","webpack:///./node_modules/lucide-react/dist/esm/icons/x.js","webpack:///./node_modules/lucide-react/dist/esm/createLucideIcon.js","webpack:///./src/components/Toast.js","webpack:///./src/components/Layout.js","webpack:///./node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs","webpack:///./node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","webpack:///./node_modules/framer-motion/dist/es/context/PresenceContext.mjs","webpack:///./node_modules/@floating-ui/core/dist/floating-ui.core.mjs","webpack:///./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","webpack:///./node_modules/@floating-ui/react/dist/floating-ui.react.utils.mjs","webpack:///./node_modules/motion-dom/dist/es/utils/is-html-element.mjs","webpack:///./node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","webpack:///./node_modules/framer-motion/dist/es/utils/is-browser.mjs","webpack:///./node_modules/use-sync-external-store/with-selector.js","webpack:///./node_modules/framer-motion/dist/es/utils/use-constant.mjs","webpack:///./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs","webpack:///./node_modules/motion-utils/dist/es/is-object.mjs","webpack:///./node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs"],"sourcesContent":["/**\n * Generate a list of every possible transform key.\n */\nconst transformPropOrder = [\n    \"transformPerspective\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"translateX\",\n    \"translateY\",\n    \"translateZ\",\n    \"scale\",\n    \"scaleX\",\n    \"scaleY\",\n    \"rotate\",\n    \"rotateX\",\n    \"rotateY\",\n    \"rotateZ\",\n    \"skew\",\n    \"skewX\",\n    \"skewY\",\n];\n/**\n * A quick lookup for transform props.\n */\nconst transformProps = /*@__PURE__*/ (() => new Set(transformPropOrder))();\n\nexport { transformPropOrder, transformProps };\n","const radToDeg = (rad) => (rad * 180) / Math.PI;\nconst rotate = (v) => {\n    const angle = radToDeg(Math.atan2(v[1], v[0]));\n    return rebaseAngle(angle);\n};\nconst matrix2dParsers = {\n    x: 4,\n    y: 5,\n    translateX: 4,\n    translateY: 5,\n    scaleX: 0,\n    scaleY: 3,\n    scale: (v) => (Math.abs(v[0]) + Math.abs(v[3])) / 2,\n    rotate,\n    rotateZ: rotate,\n    skewX: (v) => radToDeg(Math.atan(v[1])),\n    skewY: (v) => radToDeg(Math.atan(v[2])),\n    skew: (v) => (Math.abs(v[1]) + Math.abs(v[2])) / 2,\n};\nconst rebaseAngle = (angle) => {\n    angle = angle % 360;\n    if (angle < 0)\n        angle += 360;\n    return angle;\n};\nconst rotateZ = rotate;\nconst scaleX = (v) => Math.sqrt(v[0] * v[0] + v[1] * v[1]);\nconst scaleY = (v) => Math.sqrt(v[4] * v[4] + v[5] * v[5]);\nconst matrix3dParsers = {\n    x: 12,\n    y: 13,\n    z: 14,\n    translateX: 12,\n    translateY: 13,\n    translateZ: 14,\n    scaleX,\n    scaleY,\n    scale: (v) => (scaleX(v) + scaleY(v)) / 2,\n    rotateX: (v) => rebaseAngle(radToDeg(Math.atan2(v[6], v[5]))),\n    rotateY: (v) => rebaseAngle(radToDeg(Math.atan2(-v[2], v[0]))),\n    rotateZ,\n    rotate: rotateZ,\n    skewX: (v) => radToDeg(Math.atan(v[4])),\n    skewY: (v) => radToDeg(Math.atan(v[1])),\n    skew: (v) => (Math.abs(v[1]) + Math.abs(v[4])) / 2,\n};\nfunction defaultTransformValue(name) {\n    return name.includes(\"scale\") ? 1 : 0;\n}\nfunction parseValueFromTransform(transform, name) {\n    if (!transform || transform === \"none\") {\n        return defaultTransformValue(name);\n    }\n    const matrix3dMatch = transform.match(/^matrix3d\\(([-\\d.e\\s,]+)\\)$/u);\n    let parsers;\n    let match;\n    if (matrix3dMatch) {\n        parsers = matrix3dParsers;\n        match = matrix3dMatch;\n    }\n    else {\n        const matrix2dMatch = transform.match(/^matrix\\(([-\\d.e\\s,]+)\\)$/u);\n        parsers = matrix2dParsers;\n        match = matrix2dMatch;\n    }\n    if (!match) {\n        return defaultTransformValue(name);\n    }\n    const valueParser = parsers[name];\n    const values = match[1].split(\",\").map(convertTransformToNumber);\n    return typeof valueParser === \"function\"\n        ? valueParser(values)\n        : values[valueParser];\n}\nconst readTransformValue = (instance, name) => {\n    const { transform = \"none\" } = getComputedStyle(instance);\n    return parseValueFromTransform(transform, name);\n};\nfunction convertTransformToNumber(value) {\n    return parseFloat(value.trim());\n}\n\nexport { defaultTransformValue, parseValueFromTransform, readTransformValue };\n","const checkStringStartsWith = (token) => (key) => typeof key === \"string\" && key.startsWith(token);\nconst isCSSVariableName = \n/*@__PURE__*/ checkStringStartsWith(\"--\");\nconst startsAsVariableToken = \n/*@__PURE__*/ checkStringStartsWith(\"var(--\");\nconst isCSSVariableToken = (value) => {\n    const startsWithToken = startsAsVariableToken(value);\n    if (!startsWithToken)\n        return false;\n    // Ensure any comments are stripped from the value as this can harm performance of the regex.\n    return singleCssVariableRegex.test(value.split(\"/*\")[0].trim());\n};\nconst singleCssVariableRegex = /var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$/iu;\n\nexport { isCSSVariableName, isCSSVariableToken };\n","/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToBox({ top, left, right, bottom, }) {\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertBoxToBoundingBox({ x, y }) {\n    return { top: y.min, right: x.max, bottom: y.max, left: x.min };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoxPoints(point, transformPoint) {\n    if (!transformPoint)\n        return point;\n    const topLeft = transformPoint({ x: point.left, y: point.top });\n    const bottomRight = transformPoint({ x: point.right, y: point.bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n\nexport { convertBoundingBoxToBox, convertBoxToBoundingBox, transformBoxPoints };\n","/*\n  Value in range from progress\n\n  Given a lower limit and an upper limit, we return the value within\n  that range as expressed by progress (usually a number from 0 to 1)\n\n  So progress = 0.5 would change\n\n  from -------- to\n\n  to\n\n  from ---- to\n\n  E.g. from = 10, to = 20, progress = 0.5 => 15\n\n  @param [number]: Lower limit of range\n  @param [number]: Upper limit of range\n  @param [number]: The progress between lower and upper limits expressed 0-1\n  @return [number]: Value as calculated from progress within range (not limited within range)\n*/\nconst mixNumber = (from, to, progress) => {\n    return from + (to - from) * progress;\n};\n\nexport { mixNumber };\n","function isIdentityScale(scale) {\n    return scale === undefined || scale === 1;\n}\nfunction hasScale({ scale, scaleX, scaleY }) {\n    return (!isIdentityScale(scale) ||\n        !isIdentityScale(scaleX) ||\n        !isIdentityScale(scaleY));\n}\nfunction hasTransform(values) {\n    return (hasScale(values) ||\n        has2DTranslate(values) ||\n        values.z ||\n        values.rotate ||\n        values.rotateX ||\n        values.rotateY ||\n        values.skewX ||\n        values.skewY);\n}\nfunction has2DTranslate(values) {\n    return is2DTranslate(values.x) || is2DTranslate(values.y);\n}\nfunction is2DTranslate(value) {\n    return value && value !== \"0%\";\n}\n\nexport { has2DTranslate, hasScale, hasTransform };\n","import { mixNumber } from 'motion-dom';\nimport { hasTransform } from '../utils/has-transform.mjs';\n\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    const distanceFromOrigin = point - originPoint;\n    const scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate = 0, scale = 1, originPoint, boxScale) {\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, { x, y }) {\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\nconst TREE_SCALE_SNAP_MIN = 0.999999999999;\nconst TREE_SCALE_SNAP_MAX = 1.0000000000001;\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath, isSharedTransition = false) {\n    const treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    let node;\n    let delta;\n    for (let i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.projectionDelta;\n        /**\n         * TODO: Prefer to remove this, but currently we have motion components with\n         * display: contents in Framer.\n         */\n        const { visualElement } = node.options;\n        if (visualElement &&\n            visualElement.props.style &&\n            visualElement.props.style.display === \"contents\") {\n            continue;\n        }\n        if (isSharedTransition &&\n            node.options.layoutScroll &&\n            node.scroll &&\n            node !== node.root) {\n            transformBox(box, {\n                x: -node.scroll.offset.x,\n                y: -node.scroll.offset.y,\n            });\n        }\n        if (delta) {\n            // Incoporate each ancestor's scale into a culmulative treeScale for this component\n            treeScale.x *= delta.x.scale;\n            treeScale.y *= delta.y.scale;\n            // Apply each ancestor's calculated delta into this component's recorded layout box\n            applyBoxDelta(box, delta);\n        }\n        if (isSharedTransition && hasTransform(node.latestValues)) {\n            transformBox(box, node.latestValues);\n        }\n    }\n    /**\n     * Snap tree scale back to 1 if it's within a non-perceivable threshold.\n     * This will help reduce useless scales getting rendered.\n     */\n    if (treeScale.x < TREE_SCALE_SNAP_MAX &&\n        treeScale.x > TREE_SCALE_SNAP_MIN) {\n        treeScale.x = 1.0;\n    }\n    if (treeScale.y < TREE_SCALE_SNAP_MAX &&\n        treeScale.y > TREE_SCALE_SNAP_MIN) {\n        treeScale.y = 1.0;\n    }\n}\nfunction translateAxis(axis, distance) {\n    axis.min = axis.min + distance;\n    axis.max = axis.max + distance;\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction transformAxis(axis, axisTranslate, axisScale, boxScale, axisOrigin = 0.5) {\n    const originPoint = mixNumber(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(axis, axisTranslate, axisScale, originPoint, boxScale);\n}\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction transformBox(box, transform) {\n    transformAxis(box.x, transform.x, transform.scaleX, transform.scale, transform.originX);\n    transformAxis(box.y, transform.y, transform.scaleY, transform.scale, transform.originY);\n}\n\nexport { applyAxisDelta, applyBoxDelta, applyPointDelta, applyTreeDeltas, scalePoint, transformAxis, transformBox, translateAxis };\n","import { convertBoundingBoxToBox, transformBoxPoints } from '../geometry/conversion.mjs';\nimport { translateAxis } from '../geometry/delta-apply.mjs';\n\nfunction measureViewportBox(instance, transformPoint) {\n    return convertBoundingBoxToBox(transformBoxPoints(instance.getBoundingClientRect(), transformPoint));\n}\nfunction measurePageBox(element, rootProjectionNode, transformPagePoint) {\n    const viewportBox = measureViewportBox(element, transformPagePoint);\n    const { scroll } = rootProjectionNode;\n    if (scroll) {\n        translateAxis(viewportBox.x, scroll.offset.x);\n        translateAxis(viewportBox.y, scroll.offset.y);\n    }\n    return viewportBox;\n}\n\nexport { measurePageBox, measureViewportBox };\n","import { transformPropOrder } from './keys-transform.mjs';\n\nconst positionalKeys = new Set([\n    \"width\",\n    \"height\",\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    ...transformPropOrder,\n]);\n\nexport { positionalKeys };\n","const clamp = (min, max, v) => {\n    if (v > max)\n        return max;\n    if (v < min)\n        return min;\n    return v;\n};\n\nexport { clamp };\n","import { clamp } from 'motion-utils';\n\nconst number = {\n    test: (v) => typeof v === \"number\",\n    parse: parseFloat,\n    transform: (v) => v,\n};\nconst alpha = {\n    ...number,\n    transform: (v) => clamp(0, 1, v),\n};\nconst scale = {\n    ...number,\n    default: 1,\n};\n\nexport { alpha, number, scale };\n","/*#__NO_SIDE_EFFECTS__*/\nconst createUnitType = (unit) => ({\n    test: (v) => typeof v === \"string\" && v.endsWith(unit) && v.split(\" \").length === 1,\n    parse: parseFloat,\n    transform: (v) => `${v}${unit}`,\n});\nconst degrees = /*@__PURE__*/ createUnitType(\"deg\");\nconst percent = /*@__PURE__*/ createUnitType(\"%\");\nconst px = /*@__PURE__*/ createUnitType(\"px\");\nconst vh = /*@__PURE__*/ createUnitType(\"vh\");\nconst vw = /*@__PURE__*/ createUnitType(\"vw\");\nconst progressPercentage = /*@__PURE__*/ (() => ({\n    ...percent,\n    parse: (v) => percent.parse(v) / 100,\n    transform: (v) => percent.transform(v * 100),\n}))();\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","/**\n * Tests a provided value against a ValueType\n */\nconst testValueType = (v) => (type) => type.test(v);\n\nexport { testValueType };\n","import { auto } from './auto.mjs';\nimport { number } from './numbers/index.mjs';\nimport { px, percent, degrees, vw, vh } from './numbers/units.mjs';\nimport { testValueType } from './test.mjs';\n\n/**\n * A list of value types commonly used for dimensions\n */\nconst dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nconst findDimensionValueType = (v) => dimensionValueTypes.find(testValueType(v));\n\nexport { dimensionValueTypes, findDimensionValueType };\n","/**\n * ValueType for \"auto\"\n */\nconst auto = {\n    test: (v) => v === \"auto\",\n    parse: (v) => v,\n};\n\nexport { auto };\n","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nconst isNumericalString = (v) => /^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$/u.test(v);\n\nexport { isNumericalString };\n","import { invariant, isNumericalString } from 'motion-utils';\nimport { isCSSVariableToken } from './is-css-variable.mjs';\n\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nconst splitCSSVariableRegex = \n// eslint-disable-next-line redos-detector/no-unsafe-regex -- false positive, as it can match a lot of words\n/^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)/u;\nfunction parseCSSVariable(current) {\n    const match = splitCSSVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    const [, token1, token2, fallback] = match;\n    return [`--${token1 ?? token2}`, fallback];\n}\nconst maxDepth = 4;\nfunction getVariableValue(current, element, depth = 1) {\n    invariant(depth <= maxDepth, `Max CSS variable fallback depth detected in property \"${current}\". This may indicate a circular fallback dependency.`, \"max-css-var-depth\");\n    const [token, fallback] = parseCSSVariable(current);\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    const resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        const trimmed = resolved.trim();\n        return isNumericalString(trimmed) ? parseFloat(trimmed) : trimmed;\n    }\n    return isCSSVariableToken(fallback)\n        ? getVariableValue(fallback, element, depth + 1)\n        : fallback;\n}\n\nexport { getVariableValue, parseCSSVariable };\n","import { parseValueFromTransform } from '../../../render/dom/parse-transform.mjs';\nimport { transformPropOrder } from '../../../render/utils/keys-transform.mjs';\nimport { number } from '../../../value/types/numbers/index.mjs';\nimport { px } from '../../../value/types/numbers/units.mjs';\n\nconst isNumOrPxType = (v) => v === number || v === px;\nconst transformKeys = new Set([\"x\", \"y\", \"z\"]);\nconst nonTranslationalTransformKeys = transformPropOrder.filter((key) => !transformKeys.has(key));\nfunction removeNonTranslationalTransform(visualElement) {\n    const removedTransforms = [];\n    nonTranslationalTransformKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    return removedTransforms;\n}\nconst positionalValues = {\n    // Dimensions\n    width: ({ x }, { paddingLeft = \"0\", paddingRight = \"0\" }) => x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),\n    height: ({ y }, { paddingTop = \"0\", paddingBottom = \"0\" }) => y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),\n    top: (_bbox, { top }) => parseFloat(top),\n    left: (_bbox, { left }) => parseFloat(left),\n    bottom: ({ y }, { top }) => parseFloat(top) + (y.max - y.min),\n    right: ({ x }, { left }) => parseFloat(left) + (x.max - x.min),\n    // Transform\n    x: (_bbox, { transform }) => parseValueFromTransform(transform, \"x\"),\n    y: (_bbox, { transform }) => parseValueFromTransform(transform, \"y\"),\n};\n// Alias translate longform names\npositionalValues.translateX = positionalValues.x;\npositionalValues.translateY = positionalValues.y;\n\nexport { isNumOrPxType, positionalValues, removeNonTranslationalTransform };\n","/*#__NO_SIDE_EFFECTS__*/\nconst noop = (any) => any;\n\nexport { noop };\n","const MotionGlobalConfig = {};\n\nexport { MotionGlobalConfig };\n","const stepsOrder = [\n    \"setup\", // Compute\n    \"read\", // Read\n    \"resolveKeyframes\", // Write/Read/Write/Read\n    \"preUpdate\", // Compute\n    \"update\", // Compute\n    \"preRender\", // Compute\n    \"render\", // Write\n    \"postRender\", // Compute\n];\n\nexport { stepsOrder };\n","const statsBuffer = {\n    value: null,\n    addProjectionMetrics: null,\n};\n\nexport { statsBuffer };\n","import { MotionGlobalConfig } from 'motion-utils';\nimport { stepsOrder } from './order.mjs';\nimport { createRenderStep } from './render-step.mjs';\n\nconst maxElapsed = 40;\nfunction createRenderBatcher(scheduleNextBatch, allowKeepAlive) {\n    let runNextFrame = false;\n    let useDefaultElapsed = true;\n    const state = {\n        delta: 0.0,\n        timestamp: 0.0,\n        isProcessing: false,\n    };\n    const flagRunNextFrame = () => (runNextFrame = true);\n    const steps = stepsOrder.reduce((acc, key) => {\n        acc[key] = createRenderStep(flagRunNextFrame, allowKeepAlive ? key : undefined);\n        return acc;\n    }, {});\n    const { setup, read, resolveKeyframes, preUpdate, update, preRender, render, postRender, } = steps;\n    const processBatch = () => {\n        const timestamp = MotionGlobalConfig.useManualTiming\n            ? state.timestamp\n            : performance.now();\n        runNextFrame = false;\n        if (!MotionGlobalConfig.useManualTiming) {\n            state.delta = useDefaultElapsed\n                ? 1000 / 60\n                : Math.max(Math.min(timestamp - state.timestamp, maxElapsed), 1);\n        }\n        state.timestamp = timestamp;\n        state.isProcessing = true;\n        // Unrolled render loop for better per-frame performance\n        setup.process(state);\n        read.process(state);\n        resolveKeyframes.process(state);\n        preUpdate.process(state);\n        update.process(state);\n        preRender.process(state);\n        render.process(state);\n        postRender.process(state);\n        state.isProcessing = false;\n        if (runNextFrame && allowKeepAlive) {\n            useDefaultElapsed = false;\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const wake = () => {\n        runNextFrame = true;\n        useDefaultElapsed = true;\n        if (!state.isProcessing) {\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const schedule = stepsOrder.reduce((acc, key) => {\n        const step = steps[key];\n        acc[key] = (process, keepAlive = false, immediate = false) => {\n            if (!runNextFrame)\n                wake();\n            return step.schedule(process, keepAlive, immediate);\n        };\n        return acc;\n    }, {});\n    const cancel = (process) => {\n        for (let i = 0; i < stepsOrder.length; i++) {\n            steps[stepsOrder[i]].cancel(process);\n        }\n    };\n    return { schedule, cancel, state, steps };\n}\n\nexport { createRenderBatcher };\n","import { statsBuffer } from '../stats/buffer.mjs';\n\nfunction createRenderStep(runNextFrame, stepName) {\n    /**\n     * We create and reuse two queues, one to queue jobs for the current frame\n     * and one for the next. We reuse to avoid triggering GC after x frames.\n     */\n    let thisFrame = new Set();\n    let nextFrame = new Set();\n    /**\n     * Track whether we're currently processing jobs in this step. This way\n     * we can decide whether to schedule new jobs for this frame or next.\n     */\n    let isProcessing = false;\n    let flushNextFrame = false;\n    /**\n     * A set of processes which were marked keepAlive when scheduled.\n     */\n    const toKeepAlive = new WeakSet();\n    let latestFrameData = {\n        delta: 0.0,\n        timestamp: 0.0,\n        isProcessing: false,\n    };\n    let numCalls = 0;\n    function triggerCallback(callback) {\n        if (toKeepAlive.has(callback)) {\n            step.schedule(callback);\n            runNextFrame();\n        }\n        numCalls++;\n        callback(latestFrameData);\n    }\n    const step = {\n        /**\n         * Schedule a process to run on the next frame.\n         */\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const queue = addToCurrentFrame ? thisFrame : nextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (!queue.has(callback))\n                queue.add(callback);\n            return callback;\n        },\n        /**\n         * Cancel the provided callback from running on the next frame.\n         */\n        cancel: (callback) => {\n            nextFrame.delete(callback);\n            toKeepAlive.delete(callback);\n        },\n        /**\n         * Execute all schedule callbacks.\n         */\n        process: (frameData) => {\n            latestFrameData = frameData;\n            /**\n             * If we're already processing we've probably been triggered by a flushSync\n             * inside an existing process. Instead of executing, mark flushNextFrame\n             * as true and ensure we flush the following frame at the end of this one.\n             */\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [thisFrame, nextFrame] = [nextFrame, thisFrame];\n            // Execute this frame\n            thisFrame.forEach(triggerCallback);\n            /**\n             * If we're recording stats then\n             */\n            if (stepName && statsBuffer.value) {\n                statsBuffer.value.frameloop[stepName].push(numCalls);\n            }\n            numCalls = 0;\n            // Clear the frame so no callbacks remain. This is to avoid\n            // memory leaks should this render step not run for a while.\n            thisFrame.clear();\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","import { noop } from 'motion-utils';\nimport { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: frame, cancel: cancelFrame, state: frameData, steps: frameSteps, } = /* @__PURE__ */ createRenderBatcher(typeof requestAnimationFrame !== \"undefined\" ? requestAnimationFrame : noop, true);\n\nexport { cancelFrame, frame, frameData, frameSteps };\n","import { fillWildcards } from './utils/fill-wildcards.mjs';\nimport { removeNonTranslationalTransform } from './utils/unit-conversion.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst toResolve = new Set();\nlet isScheduled = false;\nlet anyNeedsMeasurement = false;\nlet isForced = false;\nfunction measureAllKeyframes() {\n    if (anyNeedsMeasurement) {\n        const resolversToMeasure = Array.from(toResolve).filter((resolver) => resolver.needsMeasurement);\n        const elementsToMeasure = new Set(resolversToMeasure.map((resolver) => resolver.element));\n        const transformsToRestore = new Map();\n        /**\n         * Write pass\n         * If we're measuring elements we want to remove bounding box-changing transforms.\n         */\n        elementsToMeasure.forEach((element) => {\n            const removedTransforms = removeNonTranslationalTransform(element);\n            if (!removedTransforms.length)\n                return;\n            transformsToRestore.set(element, removedTransforms);\n            element.render();\n        });\n        // Read\n        resolversToMeasure.forEach((resolver) => resolver.measureInitialState());\n        // Write\n        elementsToMeasure.forEach((element) => {\n            element.render();\n            const restore = transformsToRestore.get(element);\n            if (restore) {\n                restore.forEach(([key, value]) => {\n                    element.getValue(key)?.set(value);\n                });\n            }\n        });\n        // Read\n        resolversToMeasure.forEach((resolver) => resolver.measureEndState());\n        // Write\n        resolversToMeasure.forEach((resolver) => {\n            if (resolver.suspendedScrollY !== undefined) {\n                window.scrollTo(0, resolver.suspendedScrollY);\n            }\n        });\n    }\n    anyNeedsMeasurement = false;\n    isScheduled = false;\n    toResolve.forEach((resolver) => resolver.complete(isForced));\n    toResolve.clear();\n}\nfunction readAllKeyframes() {\n    toResolve.forEach((resolver) => {\n        resolver.readKeyframes();\n        if (resolver.needsMeasurement) {\n            anyNeedsMeasurement = true;\n        }\n    });\n}\nfunction flushKeyframeResolvers() {\n    isForced = true;\n    readAllKeyframes();\n    measureAllKeyframes();\n    isForced = false;\n}\nclass KeyframeResolver {\n    constructor(unresolvedKeyframes, onComplete, name, motionValue, element, isAsync = false) {\n        this.state = \"pending\";\n        /**\n         * Track whether this resolver is async. If it is, it'll be added to the\n         * resolver queue and flushed in the next frame. Resolvers that aren't going\n         * to trigger read/write thrashing don't need to be async.\n         */\n        this.isAsync = false;\n        /**\n         * Track whether this resolver needs to perform a measurement\n         * to resolve its keyframes.\n         */\n        this.needsMeasurement = false;\n        this.unresolvedKeyframes = [...unresolvedKeyframes];\n        this.onComplete = onComplete;\n        this.name = name;\n        this.motionValue = motionValue;\n        this.element = element;\n        this.isAsync = isAsync;\n    }\n    scheduleResolve() {\n        this.state = \"scheduled\";\n        if (this.isAsync) {\n            toResolve.add(this);\n            if (!isScheduled) {\n                isScheduled = true;\n                frame.read(readAllKeyframes);\n                frame.resolveKeyframes(measureAllKeyframes);\n            }\n        }\n        else {\n            this.readKeyframes();\n            this.complete();\n        }\n    }\n    readKeyframes() {\n        const { unresolvedKeyframes, name, element, motionValue } = this;\n        // If initial keyframe is null we need to read it from the DOM\n        if (unresolvedKeyframes[0] === null) {\n            const currentValue = motionValue?.get();\n            // TODO: This doesn't work if the final keyframe is a wildcard\n            const finalKeyframe = unresolvedKeyframes[unresolvedKeyframes.length - 1];\n            if (currentValue !== undefined) {\n                unresolvedKeyframes[0] = currentValue;\n            }\n            else if (element && name) {\n                const valueAsRead = element.readValue(name, finalKeyframe);\n                if (valueAsRead !== undefined && valueAsRead !== null) {\n                    unresolvedKeyframes[0] = valueAsRead;\n                }\n            }\n            if (unresolvedKeyframes[0] === undefined) {\n                unresolvedKeyframes[0] = finalKeyframe;\n            }\n            if (motionValue && currentValue === undefined) {\n                motionValue.set(unresolvedKeyframes[0]);\n            }\n        }\n        fillWildcards(unresolvedKeyframes);\n    }\n    setFinalKeyframe() { }\n    measureInitialState() { }\n    renderEndStyles() { }\n    measureEndState() { }\n    complete(isForcedComplete = false) {\n        this.state = \"complete\";\n        this.onComplete(this.unresolvedKeyframes, this.finalKeyframe, isForcedComplete);\n        toResolve.delete(this);\n    }\n    cancel() {\n        if (this.state === \"scheduled\") {\n            toResolve.delete(this);\n            this.state = \"pending\";\n        }\n    }\n    resume() {\n        if (this.state === \"pending\")\n            this.scheduleResolve();\n    }\n}\n\nexport { KeyframeResolver, flushKeyframeResolvers };\n","function fillWildcards(keyframes) {\n    for (let i = 1; i < keyframes.length; i++) {\n        keyframes[i] ?? (keyframes[i] = keyframes[i - 1]);\n    }\n}\n\nexport { fillWildcards };\n","/**\n * Check if the value is a zero value string like \"0px\" or \"0%\"\n */\nconst isZeroValueString = (v) => /^0[^.\\s]+$/u.test(v);\n\nexport { isZeroValueString };\n","import { isZeroValueString } from 'motion-utils';\n\nfunction isNone(value) {\n    if (typeof value === \"number\") {\n        return value === 0;\n    }\n    else if (value !== null) {\n        return value === \"none\" || value === \"0\" || isZeroValueString(value);\n    }\n    else {\n        return true;\n    }\n}\n\nexport { isNone };\n","// If this number is a decimal, make it just five decimal places\n// to avoid exponents\nconst sanitize = (v) => Math.round(v * 100000) / 100000;\n\nexport { sanitize };\n","const floatRegex = /-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/gu;\n\nexport { floatRegex };\n","const singleColorRegex = /^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$/iu;\n\nexport { singleColorRegex };\n","import { floatRegex } from '../utils/float-regex.mjs';\nimport { isNullish } from '../utils/is-nullish.mjs';\nimport { singleColorRegex } from '../utils/single-color-regex.mjs';\n\n/**\n * Returns true if the provided string is a color, ie rgba(0,0,0,0) or #000,\n * but false if a number or multiple colors\n */\nconst isColorString = (type, testProp) => (v) => {\n    return Boolean((typeof v === \"string\" &&\n        singleColorRegex.test(v) &&\n        v.startsWith(type)) ||\n        (testProp &&\n            !isNullish(v) &&\n            Object.prototype.hasOwnProperty.call(v, testProp)));\n};\nconst splitColor = (aName, bName, cName) => (v) => {\n    if (typeof v !== \"string\")\n        return v;\n    const [a, b, c, alpha] = v.match(floatRegex);\n    return {\n        [aName]: parseFloat(a),\n        [bName]: parseFloat(b),\n        [cName]: parseFloat(c),\n        alpha: alpha !== undefined ? parseFloat(alpha) : 1,\n    };\n};\n\nexport { isColorString, splitColor };\n","function isNullish(v) {\n    return v == null;\n}\n\nexport { isNullish };\n","import { clamp } from 'motion-utils';\nimport { number, alpha } from '../numbers/index.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst clampRgbUnit = (v) => clamp(0, 255, v);\nconst rgbUnit = {\n    ...number,\n    transform: (v) => Math.round(clampRgbUnit(v)),\n};\nconst rgba = {\n    test: /*@__PURE__*/ isColorString(\"rgb\", \"red\"),\n    parse: /*@__PURE__*/ splitColor(\"red\", \"green\", \"blue\"),\n    transform: ({ red, green, blue, alpha: alpha$1 = 1 }) => \"rgba(\" +\n        rgbUnit.transform(red) +\n        \", \" +\n        rgbUnit.transform(green) +\n        \", \" +\n        rgbUnit.transform(blue) +\n        \", \" +\n        sanitize(alpha.transform(alpha$1)) +\n        \")\",\n};\n\nexport { rgbUnit, rgba };\n","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n    let r = \"\";\n    let g = \"\";\n    let b = \"\";\n    let a = \"\";\n    // If we have 6 characters, ie #FF0000\n    if (v.length > 5) {\n        r = v.substring(1, 3);\n        g = v.substring(3, 5);\n        b = v.substring(5, 7);\n        a = v.substring(7, 9);\n        // Or we have 3 characters, ie #F00\n    }\n    else {\n        r = v.substring(1, 2);\n        g = v.substring(2, 3);\n        b = v.substring(3, 4);\n        a = v.substring(4, 5);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nconst hex = {\n    test: /*@__PURE__*/ isColorString(\"#\"),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst hsla = {\n    test: /*@__PURE__*/ isColorString(\"hsl\", \"hue\"),\n    parse: /*@__PURE__*/ splitColor(\"hue\", \"saturation\", \"lightness\"),\n    transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) => {\n        return (\"hsla(\" +\n            Math.round(hue) +\n            \", \" +\n            percent.transform(sanitize(saturation)) +\n            \", \" +\n            percent.transform(sanitize(lightness)) +\n            \", \" +\n            sanitize(alpha.transform(alpha$1)) +\n            \")\");\n    },\n};\n\nexport { hsla };\n","import { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\n\nconst color = {\n    test: (v) => rgba.test(v) || hex.test(v) || hsla.test(v),\n    parse: (v) => {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: (v) => {\n        return typeof v === \"string\"\n            ? v\n            : v.hasOwnProperty(\"red\")\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n    getAnimatableNone: (v) => {\n        const parsed = color.parse(v);\n        parsed.alpha = 0;\n        return color.transform(parsed);\n    },\n};\n\nexport { color };\n","const colorRegex = /(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))/giu;\n\nexport { colorRegex };\n","import { color } from '../color/index.mjs';\nimport { colorRegex } from '../utils/color-regex.mjs';\nimport { floatRegex } from '../utils/float-regex.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\n\nfunction test(v) {\n    return (isNaN(v) &&\n        typeof v === \"string\" &&\n        (v.match(floatRegex)?.length || 0) +\n            (v.match(colorRegex)?.length || 0) >\n            0);\n}\nconst NUMBER_TOKEN = \"number\";\nconst COLOR_TOKEN = \"color\";\nconst VAR_TOKEN = \"var\";\nconst VAR_FUNCTION_TOKEN = \"var(\";\nconst SPLIT_TOKEN = \"${}\";\n// this regex consists of the `singleCssVariableRegex|rgbHSLValueRegex|digitRegex`\nconst complexRegex = /var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/giu;\nfunction analyseComplexValue(value) {\n    const originalValue = value.toString();\n    const values = [];\n    const indexes = {\n        color: [],\n        number: [],\n        var: [],\n    };\n    const types = [];\n    let i = 0;\n    const tokenised = originalValue.replace(complexRegex, (parsedValue) => {\n        if (color.test(parsedValue)) {\n            indexes.color.push(i);\n            types.push(COLOR_TOKEN);\n            values.push(color.parse(parsedValue));\n        }\n        else if (parsedValue.startsWith(VAR_FUNCTION_TOKEN)) {\n            indexes.var.push(i);\n            types.push(VAR_TOKEN);\n            values.push(parsedValue);\n        }\n        else {\n            indexes.number.push(i);\n            types.push(NUMBER_TOKEN);\n            values.push(parseFloat(parsedValue));\n        }\n        ++i;\n        return SPLIT_TOKEN;\n    });\n    const split = tokenised.split(SPLIT_TOKEN);\n    return { values, split, indexes, types };\n}\nfunction parseComplexValue(v) {\n    return analyseComplexValue(v).values;\n}\nfunction createTransformer(source) {\n    const { split, types } = analyseComplexValue(source);\n    const numSections = split.length;\n    return (v) => {\n        let output = \"\";\n        for (let i = 0; i < numSections; i++) {\n            output += split[i];\n            if (v[i] !== undefined) {\n                const type = types[i];\n                if (type === NUMBER_TOKEN) {\n                    output += sanitize(v[i]);\n                }\n                else if (type === COLOR_TOKEN) {\n                    output += color.transform(v[i]);\n                }\n                else {\n                    output += v[i];\n                }\n            }\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === \"number\" ? 0 : color.test(v) ? color.getAnimatableNone(v) : v;\nfunction getAnimatableNone(v) {\n    const parsed = parseComplexValue(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = {\n    test,\n    parse: parseComplexValue,\n    createTransformer,\n    getAnimatableNone,\n};\n\nexport { analyseComplexValue, complex };\n","import { complex } from './index.mjs';\nimport { floatRegex } from '../utils/float-regex.mjs';\n\n/**\n * Properties that should default to 1 or 100%\n */\nconst maxDefaults = new Set([\"brightness\", \"contrast\", \"saturate\", \"opacity\"]);\nfunction applyDefaultFilter(v) {\n    const [name, value] = v.slice(0, -1).split(\"(\");\n    if (name === \"drop-shadow\")\n        return v;\n    const [number] = value.match(floatRegex) || [];\n    if (!number)\n        return v;\n    const unit = value.replace(number, \"\");\n    let defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + \"(\" + defaultValue + unit + \")\";\n}\nconst functionRegex = /\\b([a-z-]*)\\(.*?\\)/gu;\nconst filter = {\n    ...complex,\n    getAnimatableNone: (v) => {\n        const functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(\" \") : v;\n    },\n};\n\nexport { filter };\n","import { number } from './numbers/index.mjs';\n\nconst int = {\n    ...number,\n    transform: Math.round,\n};\n\nexport { int };\n","import { int } from '../int.mjs';\nimport { alpha } from '../numbers/index.mjs';\nimport { px } from '../numbers/units.mjs';\nimport { transformValueTypes } from './transform.mjs';\n\nconst numberValueTypes = {\n    // Border props\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    // Positioning props\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    // Spacing props\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    // Misc\n    backgroundPositionX: px,\n    backgroundPositionY: px,\n    ...transformValueTypes,\n    zIndex: int,\n    // SVG\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int,\n};\n\nexport { numberValueTypes };\n","import { scale, alpha } from '../numbers/index.mjs';\nimport { degrees, px, progressPercentage } from '../numbers/units.mjs';\n\nconst transformValueTypes = {\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    transformPerspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n};\n\nexport { transformValueTypes };\n","import { color } from '../color/index.mjs';\nimport { filter } from '../complex/filter.mjs';\nimport { numberValueTypes } from './number.mjs';\n\n/**\n * A map of default value types for common values\n */\nconst defaultValueTypes = {\n    ...numberValueTypes,\n    // Color props\n    color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    // Border props\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    filter,\n    WebkitFilter: filter,\n};\n/**\n * Gets the default ValueType for the provided value key\n */\nconst getDefaultValueType = (key) => defaultValueTypes[key];\n\nexport { defaultValueTypes, getDefaultValueType };\n","import { complex } from '../complex/index.mjs';\nimport { filter } from '../complex/filter.mjs';\nimport { getDefaultValueType } from '../maps/defaults.mjs';\n\nfunction getAnimatableNone(key, value) {\n    let defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== filter)\n        defaultValueType = complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return defaultValueType.getAnimatableNone\n        ? defaultValueType.getAnimatableNone(value)\n        : undefined;\n}\n\nexport { getAnimatableNone };\n","import { analyseComplexValue } from '../../../value/types/complex/index.mjs';\nimport { getAnimatableNone } from '../../../value/types/utils/animatable-none.mjs';\n\n/**\n * If we encounter keyframes like \"none\" or \"0\" and we also have keyframes like\n * \"#fff\" or \"200px 200px\" we want to find a keyframe to serve as a template for\n * the \"none\" keyframes. In this case \"#fff\" or \"200px 200px\" - then these get turned into\n * zero equivalents, i.e. \"#fff0\" or \"0px 0px\".\n */\nconst invalidTemplates = new Set([\"auto\", \"none\", \"0\"]);\nfunction makeNoneKeyframesAnimatable(unresolvedKeyframes, noneKeyframeIndexes, name) {\n    let i = 0;\n    let animatableTemplate = undefined;\n    while (i < unresolvedKeyframes.length && !animatableTemplate) {\n        const keyframe = unresolvedKeyframes[i];\n        if (typeof keyframe === \"string\" &&\n            !invalidTemplates.has(keyframe) &&\n            analyseComplexValue(keyframe).values.length) {\n            animatableTemplate = unresolvedKeyframes[i];\n        }\n        i++;\n    }\n    if (animatableTemplate && name) {\n        for (const noneIndex of noneKeyframeIndexes) {\n            unresolvedKeyframes[noneIndex] = getAnimatableNone(name, animatableTemplate);\n        }\n    }\n}\n\nexport { makeNoneKeyframesAnimatable };\n","import { positionalKeys } from '../../render/utils/keys-position.mjs';\nimport { findDimensionValueType } from '../../value/types/dimensions.mjs';\nimport { getVariableValue } from '../utils/css-variables-conversion.mjs';\nimport { isCSSVariableToken } from '../utils/is-css-variable.mjs';\nimport { KeyframeResolver } from './KeyframesResolver.mjs';\nimport { isNone } from './utils/is-none.mjs';\nimport { makeNoneKeyframesAnimatable } from './utils/make-none-animatable.mjs';\nimport { isNumOrPxType, positionalValues } from './utils/unit-conversion.mjs';\n\nclass DOMKeyframesResolver extends KeyframeResolver {\n    constructor(unresolvedKeyframes, onComplete, name, motionValue, element) {\n        super(unresolvedKeyframes, onComplete, name, motionValue, element, true);\n    }\n    readKeyframes() {\n        const { unresolvedKeyframes, element, name } = this;\n        if (!element || !element.current)\n            return;\n        super.readKeyframes();\n        /**\n         * If any keyframe is a CSS variable, we need to find its value by sampling the element\n         */\n        for (let i = 0; i < unresolvedKeyframes.length; i++) {\n            let keyframe = unresolvedKeyframes[i];\n            if (typeof keyframe === \"string\") {\n                keyframe = keyframe.trim();\n                if (isCSSVariableToken(keyframe)) {\n                    const resolved = getVariableValue(keyframe, element.current);\n                    if (resolved !== undefined) {\n                        unresolvedKeyframes[i] = resolved;\n                    }\n                    if (i === unresolvedKeyframes.length - 1) {\n                        this.finalKeyframe = keyframe;\n                    }\n                }\n            }\n        }\n        /**\n         * Resolve \"none\" values. We do this potentially twice - once before and once after measuring keyframes.\n         * This could be seen as inefficient but it's a trade-off to avoid measurements in more situations, which\n         * have a far bigger performance impact.\n         */\n        this.resolveNoneKeyframes();\n        /**\n         * Check to see if unit type has changed. If so schedule jobs that will\n         * temporarily set styles to the destination keyframes.\n         * Skip if we have more than two keyframes or this isn't a positional value.\n         * TODO: We can throw if there are multiple keyframes and the value type changes.\n         */\n        if (!positionalKeys.has(name) || unresolvedKeyframes.length !== 2) {\n            return;\n        }\n        const [origin, target] = unresolvedKeyframes;\n        const originType = findDimensionValueType(origin);\n        const targetType = findDimensionValueType(target);\n        /**\n         * Either we don't recognise these value types or we can animate between them.\n         */\n        if (originType === targetType)\n            return;\n        /**\n         * If both values are numbers or pixels, we can animate between them by\n         * converting them to numbers.\n         */\n        if (isNumOrPxType(originType) && isNumOrPxType(targetType)) {\n            for (let i = 0; i < unresolvedKeyframes.length; i++) {\n                const value = unresolvedKeyframes[i];\n                if (typeof value === \"string\") {\n                    unresolvedKeyframes[i] = parseFloat(value);\n                }\n            }\n        }\n        else if (positionalValues[name]) {\n            /**\n             * Else, the only way to resolve this is by measuring the element.\n             */\n            this.needsMeasurement = true;\n        }\n    }\n    resolveNoneKeyframes() {\n        const { unresolvedKeyframes, name } = this;\n        const noneKeyframeIndexes = [];\n        for (let i = 0; i < unresolvedKeyframes.length; i++) {\n            if (unresolvedKeyframes[i] === null ||\n                isNone(unresolvedKeyframes[i])) {\n                noneKeyframeIndexes.push(i);\n            }\n        }\n        if (noneKeyframeIndexes.length) {\n            makeNoneKeyframesAnimatable(unresolvedKeyframes, noneKeyframeIndexes, name);\n        }\n    }\n    measureInitialState() {\n        const { element, unresolvedKeyframes, name } = this;\n        if (!element || !element.current)\n            return;\n        if (name === \"height\") {\n            this.suspendedScrollY = window.pageYOffset;\n        }\n        this.measuredOrigin = positionalValues[name](element.measureViewportBox(), window.getComputedStyle(element.current));\n        unresolvedKeyframes[0] = this.measuredOrigin;\n        // Set final key frame to measure after next render\n        const measureKeyframe = unresolvedKeyframes[unresolvedKeyframes.length - 1];\n        if (measureKeyframe !== undefined) {\n            element.getValue(name, measureKeyframe).jump(measureKeyframe, false);\n        }\n    }\n    measureEndState() {\n        const { element, name, unresolvedKeyframes } = this;\n        if (!element || !element.current)\n            return;\n        const value = element.getValue(name);\n        value && value.jump(this.measuredOrigin, false);\n        const finalKeyframeIndex = unresolvedKeyframes.length - 1;\n        const finalKeyframe = unresolvedKeyframes[finalKeyframeIndex];\n        unresolvedKeyframes[finalKeyframeIndex] = positionalValues[name](element.measureViewportBox(), window.getComputedStyle(element.current));\n        if (finalKeyframe !== null && this.finalKeyframe === undefined) {\n            this.finalKeyframe = finalKeyframe;\n        }\n        // If we removed transform values, reapply them before the next render\n        if (this.removedTransforms?.length) {\n            this.removedTransforms.forEach(([unsetTransformName, unsetTransformValue]) => {\n                element\n                    .getValue(unsetTransformName)\n                    .set(unsetTransformValue);\n            });\n        }\n        this.resolveNoneKeyframes();\n    }\n}\n\nexport { DOMKeyframesResolver };\n","const isMotionValue = (value) => Boolean(value && value.getVelocity);\n\nexport { isMotionValue };\n","import { MotionGlobalConfig } from 'motion-utils';\nimport { frameData } from './frame.mjs';\n\nlet now;\nfunction clearTime() {\n    now = undefined;\n}\n/**\n * An eventloop-synchronous alternative to performance.now().\n *\n * Ensures that time measurements remain consistent within a synchronous context.\n * Usually calling performance.now() twice within the same synchronous context\n * will return different values which isn't useful for animations when we're usually\n * trying to sync animations to the same frame.\n */\nconst time = {\n    now: () => {\n        if (now === undefined) {\n            time.set(frameData.isProcessing || MotionGlobalConfig.useManualTiming\n                ? frameData.timestamp\n                : performance.now());\n        }\n        return now;\n    },\n    set: (newTime) => {\n        now = newTime;\n        queueMicrotask(clearTime);\n    },\n};\n\nexport { time };\n","function addUniqueItem(arr, item) {\n    if (arr.indexOf(item) === -1)\n        arr.push(item);\n}\nfunction removeItem(arr, item) {\n    const index = arr.indexOf(item);\n    if (index > -1)\n        arr.splice(index, 1);\n}\n// Adapted from array-move\nfunction moveItem([...arr], fromIndex, toIndex) {\n    const startIndex = fromIndex < 0 ? arr.length + fromIndex : fromIndex;\n    if (startIndex >= 0 && startIndex < arr.length) {\n        const endIndex = toIndex < 0 ? arr.length + toIndex : toIndex;\n        const [item] = arr.splice(fromIndex, 1);\n        arr.splice(endIndex, 0, item);\n    }\n    return arr;\n}\n\nexport { addUniqueItem, moveItem, removeItem };\n","import { addUniqueItem, removeItem } from './array.mjs';\n\nclass SubscriptionManager {\n    constructor() {\n        this.subscriptions = [];\n    }\n    add(handler) {\n        addUniqueItem(this.subscriptions, handler);\n        return () => removeItem(this.subscriptions, handler);\n    }\n    notify(a, b, c) {\n        const numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (let i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                const handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    }\n    getSize() {\n        return this.subscriptions.length;\n    }\n    clear() {\n        this.subscriptions.length = 0;\n    }\n}\n\nexport { SubscriptionManager };\n","/*\n  Convert velocity into velocity per second\n\n  @param [number]: Unit per frame\n  @param [number]: Frame duration in ms\n*/\nfunction velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","import { warnOnce, SubscriptionManager, velocityPerSecond } from 'motion-utils';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\n/**\n * Maximum time between the value of two frames, beyond which we\n * assume the velocity has since been 0.\n */\nconst MAX_VELOCITY_DELTA = 30;\nconst isFloat = (value) => {\n    return !isNaN(parseFloat(value));\n};\nconst collectMotionValues = {\n    current: undefined,\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nclass MotionValue {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     */\n    constructor(init, options = {}) {\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = null;\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        this.updateAndNotify = (v) => {\n            const currentTime = time.now();\n            /**\n             * If we're updating the value during another frame or eventloop\n             * than the previous frame, then the we set the previous frame value\n             * to current.\n             */\n            if (this.updatedAt !== currentTime) {\n                this.setPrevFrameValue();\n            }\n            this.prev = this.current;\n            this.setCurrent(v);\n            // Update update subscribers\n            if (this.current !== this.prev) {\n                this.events.change?.notify(this.current);\n                if (this.dependents) {\n                    for (const dependent of this.dependents) {\n                        dependent.dirty();\n                    }\n                }\n            }\n        };\n        this.hasAnimated = false;\n        this.setCurrent(init);\n        this.owner = options.owner;\n    }\n    setCurrent(current) {\n        this.current = current;\n        this.updatedAt = time.now();\n        if (this.canTrackVelocity === null && current !== undefined) {\n            this.canTrackVelocity = isFloat(this.current);\n        }\n    }\n    setPrevFrameValue(prevFrameValue = this.current) {\n        this.prevFrameValue = prevFrameValue;\n        this.prevUpdatedAt = this.updatedAt;\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.on(\"change\", updateOpacity)\n     *     const unsubscribeY = y.on(\"change\", updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @deprecated\n     */\n    onChange(subscription) {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, `value.onChange(callback) is deprecated. Switch to value.on(\"change\", callback).`);\n        }\n        return this.on(\"change\", subscription);\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        const unsubscribe = this.events[eventName].add(callback);\n        if (eventName === \"change\") {\n            return () => {\n                unsubscribe();\n                /**\n                 * If we have no more change listeners by the start\n                 * of the next frame, stop active animations.\n                 */\n                frame.read(() => {\n                    if (!this.events.change.getSize()) {\n                        this.stop();\n                    }\n                });\n            };\n        }\n        return unsubscribe;\n    }\n    clearListeners() {\n        for (const eventManagers in this.events) {\n            this.events[eventManagers].clear();\n        }\n    }\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     */\n    attach(passiveEffect, stopPassiveEffect) {\n        this.passiveEffect = passiveEffect;\n        this.stopPassiveEffect = stopPassiveEffect;\n    }\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    set(v) {\n        if (!this.passiveEffect) {\n            this.updateAndNotify(v);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    }\n    setWithVelocity(prev, current, delta) {\n        this.set(current);\n        this.prev = undefined;\n        this.prevFrameValue = prev;\n        this.prevUpdatedAt = this.updatedAt - delta;\n    }\n    /**\n     * Set the state of the `MotionValue`, stopping any active animations,\n     * effects, and resets velocity to `0`.\n     */\n    jump(v, endAnimation = true) {\n        this.updateAndNotify(v);\n        this.prev = v;\n        this.prevUpdatedAt = this.prevFrameValue = undefined;\n        endAnimation && this.stop();\n        if (this.stopPassiveEffect)\n            this.stopPassiveEffect();\n    }\n    dirty() {\n        this.events.change?.notify(this.current);\n    }\n    addDependent(dependent) {\n        if (!this.dependents) {\n            this.dependents = new Set();\n        }\n        this.dependents.add(dependent);\n    }\n    removeDependent(dependent) {\n        if (this.dependents) {\n            this.dependents.delete(dependent);\n        }\n    }\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    get() {\n        if (collectMotionValues.current) {\n            collectMotionValues.current.push(this);\n        }\n        return this.current;\n    }\n    /**\n     * @public\n     */\n    getPrevious() {\n        return this.prev;\n    }\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    getVelocity() {\n        const currentTime = time.now();\n        if (!this.canTrackVelocity ||\n            this.prevFrameValue === undefined ||\n            currentTime - this.updatedAt > MAX_VELOCITY_DELTA) {\n            return 0;\n        }\n        const delta = Math.min(this.updatedAt - this.prevUpdatedAt, MAX_VELOCITY_DELTA);\n        // Casts because of parseFloat's poor typing\n        return velocityPerSecond(parseFloat(this.current) -\n            parseFloat(this.prevFrameValue), delta);\n    }\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     */\n    start(startAnimation) {\n        this.stop();\n        return new Promise((resolve) => {\n            this.hasAnimated = true;\n            this.animation = startAnimation(resolve);\n            if (this.events.animationStart) {\n                this.events.animationStart.notify();\n            }\n        }).then(() => {\n            if (this.events.animationComplete) {\n                this.events.animationComplete.notify();\n            }\n            this.clearAnimation();\n        });\n    }\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    stop() {\n        if (this.animation) {\n            this.animation.stop();\n            if (this.events.animationCancel) {\n                this.events.animationCancel.notify();\n            }\n        }\n        this.clearAnimation();\n    }\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    isAnimating() {\n        return !!this.animation;\n    }\n    clearAnimation() {\n        delete this.animation;\n    }\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    destroy() {\n        this.dependents?.clear();\n        this.events.destroy?.notify();\n        this.clearListeners();\n        this.stop();\n        if (this.stopPassiveEffect) {\n            this.stopPassiveEffect();\n        }\n    }\n}\nfunction motionValue(init, options) {\n    return new MotionValue(init, options);\n}\n\nexport { MotionValue, collectMotionValues, motionValue };\n","import { color } from '../color/index.mjs';\nimport { complex } from '../complex/index.mjs';\nimport { dimensionValueTypes } from '../dimensions.mjs';\nimport { testValueType } from '../test.mjs';\n\n/**\n * A list of all ValueTypes\n */\nconst valueTypes = [...dimensionValueTypes, color, complex];\n/**\n * Tests a value against the list of ValueTypes\n */\nconst findValueType = (v) => valueTypes.find(testValueType(v));\n\nexport { findValueType };\n","import { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: microtask, cancel: cancelMicrotask } = \n/* @__PURE__ */ createRenderBatcher(queueMicrotask, false);\n\nexport { cancelMicrotask, microtask };\n","const featureProps = {\n    animation: [\n        \"animate\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"exit\",\n        \"whileInView\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ],\n    exit: [\"exit\"],\n    drag: [\"drag\", \"dragControls\"],\n    focus: [\"whileFocus\"],\n    hover: [\"whileHover\", \"onHoverStart\", \"onHoverEnd\"],\n    tap: [\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"],\n    pan: [\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"],\n    inView: [\"whileInView\", \"onViewportEnter\", \"onViewportLeave\"],\n    layout: [\"layout\", \"layoutId\"],\n};\nconst featureDefinitions = {};\nfor (const key in featureProps) {\n    featureDefinitions[key] = {\n        isEnabled: (props) => featureProps[key].some((name) => !!props[name]),\n    };\n}\n\nexport { featureDefinitions };\n","const createAxisDelta = () => ({\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n});\nconst createDelta = () => ({\n    x: createAxisDelta(),\n    y: createAxisDelta(),\n});\nconst createAxis = () => ({ min: 0, max: 0 });\nconst createBox = () => ({\n    x: createAxis(),\n    y: createAxis(),\n});\n\nexport { createAxis, createAxisDelta, createBox, createDelta };\n","// Does this device prefer reduced motion? Returns `null` server-side.\nconst prefersReducedMotion = { current: null };\nconst hasReducedMotionListener = { current: false };\n\nexport { hasReducedMotionListener, prefersReducedMotion };\n","const visualElementStore = new WeakMap();\n\nexport { visualElementStore };\n","function isAnimationControls(v) {\n    return (v !== null &&\n        typeof v === \"object\" &&\n        typeof v.start === \"function\");\n}\n\nexport { isAnimationControls };\n","/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || Array.isArray(v);\n}\n\nexport { isVariantLabel };\n","const variantPriorityOrder = [\n    \"animate\",\n    \"whileInView\",\n    \"whileFocus\",\n    \"whileHover\",\n    \"whileTap\",\n    \"whileDrag\",\n    \"exit\",\n];\nconst variantProps = [\"initial\", ...variantPriorityOrder];\n\nexport { variantPriorityOrder, variantProps };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nfunction isControllingVariants(props) {\n    return (isAnimationControls(props.animate) ||\n        variantProps.some((name) => isVariantLabel(props[name])));\n}\nfunction isVariantNode(props) {\n    return Boolean(isControllingVariants(props) || props.variants);\n}\n\nexport { isControllingVariants, isVariantNode };\n","function getValueState(visualElement) {\n    const state = [{}, {}];\n    visualElement?.values.forEach((value, key) => {\n        state[0][key] = value.get();\n        state[1][key] = value.getVelocity();\n    });\n    return state;\n}\nfunction resolveVariantFromProps(props, definition, custom, visualElement) {\n    /**\n     * If the variant definition is a function, resolve.\n     */\n    if (typeof definition === \"function\") {\n        const [current, velocity] = getValueState(visualElement);\n        definition = definition(custom !== undefined ? custom : props.custom, current, velocity);\n    }\n    /**\n     * If the variant definition is a variant label, or\n     * the function returned a variant label, resolve.\n     */\n    if (typeof definition === \"string\") {\n        definition = props.variants && props.variants[definition];\n    }\n    /**\n     * At this point we've resolved both functions and variant labels,\n     * but the resolved variant label might itself have been a function.\n     * If so, resolve. This can only have returned a valid target object.\n     */\n    if (typeof definition === \"function\") {\n        const [current, velocity] = getValueState(visualElement);\n        definition = definition(custom !== undefined ? custom : props.custom, current, velocity);\n    }\n    return definition;\n}\n\nexport { resolveVariantFromProps };\n","import { KeyframeResolver, time, frame, isMotionValue, cancelFrame, transformProps, motionValue, findValueType, complex, getAnimatableNone, microtask } from 'motion-dom';\nimport { warnOnce, isNumericalString, isZeroValueString, SubscriptionManager } from 'motion-utils';\nimport { featureDefinitions } from '../motion/features/definitions.mjs';\nimport { createBox } from '../projection/geometry/models.mjs';\nimport { initPrefersReducedMotion } from '../utils/reduced-motion/index.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from '../utils/reduced-motion/state.mjs';\nimport { visualElementStore } from './store.mjs';\nimport { isControllingVariants, isVariantNode } from './utils/is-controlling-variants.mjs';\nimport { updateMotionValuesFromProps } from './utils/motion-values.mjs';\nimport { resolveVariantFromProps } from './utils/resolve-variants.mjs';\n\nconst propEventHandlers = [\n    \"AnimationStart\",\n    \"AnimationComplete\",\n    \"Update\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutMeasure\",\n    \"LayoutAnimationStart\",\n    \"LayoutAnimationComplete\",\n];\n/**\n * A VisualElement is an imperative abstraction around UI elements such as\n * HTMLElement, SVGElement, Three.Object3D etc.\n */\nclass VisualElement {\n    /**\n     * This method takes React props and returns found MotionValues. For example, HTML\n     * MotionValues will be found within the style prop, whereas for Three.js within attribute arrays.\n     *\n     * This isn't an abstract method as it needs calling in the constructor, but it is\n     * intended to be one.\n     */\n    scrapeMotionValuesFromProps(_props, _prevProps, _visualElement) {\n        return {};\n    }\n    constructor({ parent, props, presenceContext, reducedMotionConfig, blockInitialAnimation, visualState, }, options = {}) {\n        /**\n         * A reference to the current underlying Instance, e.g. a HTMLElement\n         * or Three.Mesh etc.\n         */\n        this.current = null;\n        /**\n         * A set containing references to this VisualElement's children.\n         */\n        this.children = new Set();\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        this.isVariantNode = false;\n        this.isControllingVariants = false;\n        /**\n         * Decides whether this VisualElement should animate in reduced motion\n         * mode.\n         *\n         * TODO: This is currently set on every individual VisualElement but feels\n         * like it could be set globally.\n         */\n        this.shouldReduceMotion = null;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        this.values = new Map();\n        this.KeyframeResolver = KeyframeResolver;\n        /**\n         * Cleanup functions for active features (hover/tap/exit etc)\n         */\n        this.features = {};\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        this.valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        this.prevMotionValues = {};\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        /**\n         * An object containing an unsubscribe function for each prop event subscription.\n         * For example, every \"Update\" event can have multiple subscribers via\n         * VisualElement.on(), but only one of those can be defined via the onUpdate prop.\n         */\n        this.propEventSubscriptions = {};\n        this.notifyUpdate = () => this.notify(\"Update\", this.latestValues);\n        this.render = () => {\n            if (!this.current)\n                return;\n            this.triggerBuild();\n            this.renderInstance(this.current, this.renderState, this.props.style, this.projection);\n        };\n        this.renderScheduledAt = 0.0;\n        this.scheduleRender = () => {\n            const now = time.now();\n            if (this.renderScheduledAt < now) {\n                this.renderScheduledAt = now;\n                frame.render(this.render, false, true);\n            }\n        };\n        const { latestValues, renderState } = visualState;\n        this.latestValues = latestValues;\n        this.baseTarget = { ...latestValues };\n        this.initialValues = props.initial ? { ...latestValues } : {};\n        this.renderState = renderState;\n        this.parent = parent;\n        this.props = props;\n        this.presenceContext = presenceContext;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.reducedMotionConfig = reducedMotionConfig;\n        this.options = options;\n        this.blockInitialAnimation = Boolean(blockInitialAnimation);\n        this.isControllingVariants = isControllingVariants(props);\n        this.isVariantNode = isVariantNode(props);\n        if (this.isVariantNode) {\n            this.variantChildren = new Set();\n        }\n        this.manuallyAnimateOnMount = Boolean(parent && parent.current);\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't necessarily a breaking change,\n         * more a reflection of the test.\n         */\n        const { willChange, ...initialMotionValues } = this.scrapeMotionValuesFromProps(props, {}, this);\n        for (const key in initialMotionValues) {\n            const value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key]);\n            }\n        }\n    }\n    mount(instance) {\n        this.current = instance;\n        visualElementStore.set(instance, this);\n        if (this.projection && !this.projection.instance) {\n            this.projection.mount(instance);\n        }\n        if (this.parent && this.isVariantNode && !this.isControllingVariants) {\n            this.removeFromVariantTree = this.parent.addVariantChild(this);\n        }\n        this.values.forEach((value, key) => this.bindToMotionValue(key, value));\n        if (!hasReducedMotionListener.current) {\n            initPrefersReducedMotion();\n        }\n        this.shouldReduceMotion =\n            this.reducedMotionConfig === \"never\"\n                ? false\n                : this.reducedMotionConfig === \"always\"\n                    ? true\n                    : prefersReducedMotion.current;\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(this.shouldReduceMotion !== true, \"You have Reduced Motion enabled on your device. Animations may not appear as expected.\", \"reduced-motion-disabled\");\n        }\n        this.parent?.addChild(this);\n        this.update(this.props, this.presenceContext);\n    }\n    unmount() {\n        this.projection && this.projection.unmount();\n        cancelFrame(this.notifyUpdate);\n        cancelFrame(this.render);\n        this.valueSubscriptions.forEach((remove) => remove());\n        this.valueSubscriptions.clear();\n        this.removeFromVariantTree && this.removeFromVariantTree();\n        this.parent?.removeChild(this);\n        for (const key in this.events) {\n            this.events[key].clear();\n        }\n        for (const key in this.features) {\n            const feature = this.features[key];\n            if (feature) {\n                feature.unmount();\n                feature.isMounted = false;\n            }\n        }\n        this.current = null;\n    }\n    addChild(child) {\n        this.children.add(child);\n        this.enteringChildren ?? (this.enteringChildren = new Set());\n        this.enteringChildren.add(child);\n    }\n    removeChild(child) {\n        this.children.delete(child);\n        this.enteringChildren && this.enteringChildren.delete(child);\n    }\n    bindToMotionValue(key, value) {\n        if (this.valueSubscriptions.has(key)) {\n            this.valueSubscriptions.get(key)();\n        }\n        const valueIsTransform = transformProps.has(key);\n        if (valueIsTransform && this.onBindTransform) {\n            this.onBindTransform();\n        }\n        const removeOnChange = value.on(\"change\", (latestValue) => {\n            this.latestValues[key] = latestValue;\n            this.props.onUpdate && frame.preRender(this.notifyUpdate);\n            if (valueIsTransform && this.projection) {\n                this.projection.isTransformDirty = true;\n            }\n            this.scheduleRender();\n        });\n        let removeSyncCheck;\n        if (window.MotionCheckAppearSync) {\n            removeSyncCheck = window.MotionCheckAppearSync(this, key, value);\n        }\n        this.valueSubscriptions.set(key, () => {\n            removeOnChange();\n            if (removeSyncCheck)\n                removeSyncCheck();\n            if (value.owner)\n                value.stop();\n        });\n    }\n    sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!this.current ||\n            !this.sortInstanceNodePosition ||\n            this.type !== other.type) {\n            return 0;\n        }\n        return this.sortInstanceNodePosition(this.current, other.current);\n    }\n    updateFeatures() {\n        let key = \"animation\";\n        for (key in featureDefinitions) {\n            const featureDefinition = featureDefinitions[key];\n            if (!featureDefinition)\n                continue;\n            const { isEnabled, Feature: FeatureConstructor } = featureDefinition;\n            /**\n             * If this feature is enabled but not active, make a new instance.\n             */\n            if (!this.features[key] &&\n                FeatureConstructor &&\n                isEnabled(this.props)) {\n                this.features[key] = new FeatureConstructor(this);\n            }\n            /**\n             * If we have a feature, mount or update it.\n             */\n            if (this.features[key]) {\n                const feature = this.features[key];\n                if (feature.isMounted) {\n                    feature.update();\n                }\n                else {\n                    feature.mount();\n                    feature.isMounted = true;\n                }\n            }\n        }\n    }\n    triggerBuild() {\n        this.build(this.renderState, this.latestValues, this.props);\n    }\n    /**\n     * Measure the current viewport box with or without transforms.\n     * Only measures axis-aligned boxes, rotate and skew must be manually\n     * removed with a re-render to work.\n     */\n    measureViewportBox() {\n        return this.current\n            ? this.measureInstanceViewportBox(this.current, this.props)\n            : createBox();\n    }\n    getStaticValue(key) {\n        return this.latestValues[key];\n    }\n    setStaticValue(key, value) {\n        this.latestValues[key] = value;\n    }\n    /**\n     * Update the provided props. Ensure any newly-added motion values are\n     * added to our map, old ones removed, and listeners updated.\n     */\n    update(props, presenceContext) {\n        if (props.transformTemplate || this.props.transformTemplate) {\n            this.scheduleRender();\n        }\n        this.prevProps = this.props;\n        this.props = props;\n        this.prevPresenceContext = this.presenceContext;\n        this.presenceContext = presenceContext;\n        /**\n         * Update prop event handlers ie onAnimationStart, onAnimationComplete\n         */\n        for (let i = 0; i < propEventHandlers.length; i++) {\n            const key = propEventHandlers[i];\n            if (this.propEventSubscriptions[key]) {\n                this.propEventSubscriptions[key]();\n                delete this.propEventSubscriptions[key];\n            }\n            const listenerName = (\"on\" + key);\n            const listener = props[listenerName];\n            if (listener) {\n                this.propEventSubscriptions[key] = this.on(key, listener);\n            }\n        }\n        this.prevMotionValues = updateMotionValuesFromProps(this, this.scrapeMotionValuesFromProps(props, this.prevProps, this), this.prevMotionValues);\n        if (this.handleChildMotionValue) {\n            this.handleChildMotionValue();\n        }\n    }\n    getProps() {\n        return this.props;\n    }\n    /**\n     * Returns the variant definition with a given name.\n     */\n    getVariant(name) {\n        return this.props.variants ? this.props.variants[name] : undefined;\n    }\n    /**\n     * Returns the defined default transition on this component.\n     */\n    getDefaultTransition() {\n        return this.props.transition;\n    }\n    getTransformPagePoint() {\n        return this.props.transformPagePoint;\n    }\n    getClosestVariantNode() {\n        return this.isVariantNode\n            ? this\n            : this.parent\n                ? this.parent.getClosestVariantNode()\n                : undefined;\n    }\n    /**\n     * Add a child visual element to our set of children.\n     */\n    addVariantChild(child) {\n        const closestVariantNode = this.getClosestVariantNode();\n        if (closestVariantNode) {\n            closestVariantNode.variantChildren &&\n                closestVariantNode.variantChildren.add(child);\n            return () => closestVariantNode.variantChildren.delete(child);\n        }\n    }\n    /**\n     * Add a motion value and bind it to this visual element.\n     */\n    addValue(key, value) {\n        // Remove existing value if it exists\n        const existingValue = this.values.get(key);\n        if (value !== existingValue) {\n            if (existingValue)\n                this.removeValue(key);\n            this.bindToMotionValue(key, value);\n            this.values.set(key, value);\n            this.latestValues[key] = value.get();\n        }\n    }\n    /**\n     * Remove a motion value and unbind any active subscriptions.\n     */\n    removeValue(key) {\n        this.values.delete(key);\n        const unsubscribe = this.valueSubscriptions.get(key);\n        if (unsubscribe) {\n            unsubscribe();\n            this.valueSubscriptions.delete(key);\n        }\n        delete this.latestValues[key];\n        this.removeValueFromRenderState(key, this.renderState);\n    }\n    /**\n     * Check whether we have a motion value for this key\n     */\n    hasValue(key) {\n        return this.values.has(key);\n    }\n    getValue(key, defaultValue) {\n        if (this.props.values && this.props.values[key]) {\n            return this.props.values[key];\n        }\n        let value = this.values.get(key);\n        if (value === undefined && defaultValue !== undefined) {\n            value = motionValue(defaultValue === null ? undefined : defaultValue, { owner: this });\n            this.addValue(key, value);\n        }\n        return value;\n    }\n    /**\n     * If we're trying to animate to a previously unencountered value,\n     * we need to check for it in our state and as a last resort read it\n     * directly from the instance (which might have performance implications).\n     */\n    readValue(key, target) {\n        let value = this.latestValues[key] !== undefined || !this.current\n            ? this.latestValues[key]\n            : this.getBaseTargetFromProps(this.props, key) ??\n                this.readValueFromInstance(this.current, key, this.options);\n        if (value !== undefined && value !== null) {\n            if (typeof value === \"string\" &&\n                (isNumericalString(value) || isZeroValueString(value))) {\n                // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n                value = parseFloat(value);\n            }\n            else if (!findValueType(value) && complex.test(target)) {\n                value = getAnimatableNone(key, target);\n            }\n            this.setBaseTarget(key, isMotionValue(value) ? value.get() : value);\n        }\n        return isMotionValue(value) ? value.get() : value;\n    }\n    /**\n     * Set the base target to later animate back to. This is currently\n     * only hydrated on creation and when we first read a value.\n     */\n    setBaseTarget(key, value) {\n        this.baseTarget[key] = value;\n    }\n    /**\n     * Find the base target for a value thats been removed from all animation\n     * props.\n     */\n    getBaseTarget(key) {\n        const { initial } = this.props;\n        let valueFromInitial;\n        if (typeof initial === \"string\" || typeof initial === \"object\") {\n            const variant = resolveVariantFromProps(this.props, initial, this.presenceContext?.custom);\n            if (variant) {\n                valueFromInitial = variant[key];\n            }\n        }\n        /**\n         * If this value still exists in the current initial variant, read that.\n         */\n        if (initial && valueFromInitial !== undefined) {\n            return valueFromInitial;\n        }\n        /**\n         * Alternatively, if this VisualElement config has defined a getBaseTarget\n         * so we can read the value from an alternative source, try that.\n         */\n        const target = this.getBaseTargetFromProps(this.props, key);\n        if (target !== undefined && !isMotionValue(target))\n            return target;\n        /**\n         * If the value was initially defined on initial, but it doesn't any more,\n         * return undefined. Otherwise return the value as initially read from the DOM.\n         */\n        return this.initialValues[key] !== undefined &&\n            valueFromInitial === undefined\n            ? undefined\n            : this.baseTarget[key];\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        return this.events[eventName].add(callback);\n    }\n    notify(eventName, ...args) {\n        if (this.events[eventName]) {\n            this.events[eventName].notify(...args);\n        }\n    }\n    scheduleRenderMicrotask() {\n        microtask.render(this.render);\n    }\n}\n\nexport { VisualElement };\n","import { isBrowser } from '../is-browser.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from './state.mjs';\n\nfunction initPrefersReducedMotion() {\n    hasReducedMotionListener.current = true;\n    if (!isBrowser)\n        return;\n    if (window.matchMedia) {\n        const motionMediaQuery = window.matchMedia(\"(prefers-reduced-motion)\");\n        const setReducedMotionPreferences = () => (prefersReducedMotion.current = motionMediaQuery.matches);\n        motionMediaQuery.addEventListener(\"change\", setReducedMotionPreferences);\n        setReducedMotionPreferences();\n    }\n    else {\n        prefersReducedMotion.current = false;\n    }\n}\n\nexport { initPrefersReducedMotion };\n","import { isMotionValue, motionValue } from 'motion-dom';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    for (const key in next) {\n        const nextValue = next[key];\n        const prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping from a motion value to a static value,\n             * create a new motion value from that\n             */\n            element.addValue(key, motionValue(nextValue, { owner: element }));\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                const existingValue = element.getValue(key);\n                if (existingValue.liveStyle === true) {\n                    existingValue.jump(nextValue);\n                }\n                else if (!existingValue.hasAnimated) {\n                    existingValue.set(nextValue);\n                }\n            }\n            else {\n                const latestValue = element.getStaticValue(key);\n                element.addValue(key, motionValue(latestValue !== undefined ? latestValue : nextValue, { owner: element }));\n            }\n        }\n    }\n    // Handle removed values\n    for (const key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nexport { updateMotionValuesFromProps };\n","import { DOMKeyframesResolver, isMotionValue } from 'motion-dom';\nimport { VisualElement } from '../VisualElement.mjs';\n\nclass DOMVisualElement extends VisualElement {\n    constructor() {\n        super(...arguments);\n        this.KeyframeResolver = DOMKeyframesResolver;\n    }\n    sortInstanceNodePosition(a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props.style\n            ? props.style[key]\n            : undefined;\n    }\n    removeValueFromRenderState(key, { vars, style }) {\n        delete vars[key];\n        delete style[key];\n    }\n    handleChildMotionValue() {\n        if (this.childSubscription) {\n            this.childSubscription();\n            delete this.childSubscription;\n        }\n        const { children } = this.props;\n        if (isMotionValue(children)) {\n            this.childSubscription = children.on(\"change\", (latest) => {\n                if (this.current) {\n                    this.current.textContent = `${latest}`;\n                }\n            });\n        }\n    }\n}\n\nexport { DOMVisualElement };\n","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nconst getValueAsType = (value, type) => {\n    return type && typeof value === \"number\"\n        ? type.transform(value)\n        : value;\n};\n\nexport { getValueAsType };\n","import { transformPropOrder, getValueAsType, numberValueTypes } from 'motion-dom';\n\nconst translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\nconst numTransforms = transformPropOrder.length;\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(latestValues, transform, transformTemplate) {\n    // The transform string we're going to build into.\n    let transformString = \"\";\n    let transformIsDefault = true;\n    /**\n     * Loop over all possible transforms in order, adding the ones that\n     * are present to the transform string.\n     */\n    for (let i = 0; i < numTransforms; i++) {\n        const key = transformPropOrder[i];\n        const value = latestValues[key];\n        if (value === undefined)\n            continue;\n        let valueIsDefault = true;\n        if (typeof value === \"number\") {\n            valueIsDefault = value === (key.startsWith(\"scale\") ? 1 : 0);\n        }\n        else {\n            valueIsDefault = parseFloat(value) === 0;\n        }\n        if (!valueIsDefault || transformTemplate) {\n            const valueAsType = getValueAsType(value, numberValueTypes[key]);\n            if (!valueIsDefault) {\n                transformIsDefault = false;\n                const transformName = translateAlias[key] || key;\n                transformString += `${transformName}(${valueAsType}) `;\n            }\n            if (transformTemplate) {\n                transform[key] = valueAsType;\n            }\n        }\n    }\n    transformString = transformString.trim();\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n\nexport { buildTransform };\n","import { transformProps, isCSSVariableName, getValueAsType, numberValueTypes } from 'motion-dom';\nimport { buildTransform } from './build-transform.mjs';\n\nfunction buildHTMLStyles(state, latestValues, transformTemplate) {\n    const { style, vars, transformOrigin } = state;\n    // Track whether we encounter any transform or transformOrigin values.\n    let hasTransform = false;\n    let hasTransformOrigin = false;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept separately for further processing.\n     */\n    for (const key in latestValues) {\n        const value = latestValues[key];\n        if (transformProps.has(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            continue;\n        }\n        else if (isCSSVariableName(key)) {\n            vars[key] = value;\n            continue;\n        }\n        else {\n            // Convert the value to its default value type, ie 0 -> \"0px\"\n            const valueAsType = getValueAsType(value, numberValueTypes[key]);\n            if (key.startsWith(\"origin\")) {\n                // If this is a transform origin, flag and enable further transform-origin processing\n                hasTransformOrigin = true;\n                transformOrigin[key] =\n                    valueAsType;\n            }\n            else {\n                style[key] = valueAsType;\n            }\n        }\n    }\n    if (!latestValues.transform) {\n        if (hasTransform || transformTemplate) {\n            style.transform = buildTransform(latestValues, state.transform, transformTemplate);\n        }\n        else if (style.transform) {\n            /**\n             * If we have previously created a transform but currently don't have any,\n             * reset transform style to none.\n             */\n            style.transform = \"none\";\n        }\n    }\n    /**\n     * Build a transformOrigin style. Uses the same defaults as the browser for\n     * undefined origins.\n     */\n    if (hasTransformOrigin) {\n        const { originX = \"50%\", originY = \"50%\", originZ = 0, } = transformOrigin;\n        style.transformOrigin = `${originX} ${originY} ${originZ}`;\n    }\n}\n\nexport { buildHTMLStyles };\n","function renderHTML(element, { style, vars }, styleProp, projection) {\n    const elementStyle = element.style;\n    let key;\n    for (key in style) {\n        // CSSStyleDeclaration has [index: number]: string; in the types, so we use that as key type.\n        elementStyle[key] = style[key];\n    }\n    // Write projection styles directly to element style\n    projection?.applyProjectionStyles(elementStyle, styleProp);\n    for (key in vars) {\n        // Loop over any CSS variables and assign those.\n        // They can only be assigned using `setProperty`.\n        elementStyle.setProperty(key, vars[key]);\n    }\n}\n\nexport { renderHTML };\n","import { isCSSVariableName } from 'motion-dom';\n\nconst scaleCorrectors = {};\nfunction addScaleCorrector(correctors) {\n    for (const key in correctors) {\n        scaleCorrectors[key] = correctors[key];\n        if (isCSSVariableName(key)) {\n            scaleCorrectors[key].isCSSVariable = true;\n        }\n    }\n}\n\nexport { addScaleCorrector, scaleCorrectors };\n","import { transformProps } from 'motion-dom';\nimport { scaleCorrectors } from '../../projection/styles/scale-correction.mjs';\n\nfunction isForcedMotionValue(key, { layout, layoutId }) {\n    return (transformProps.has(key) ||\n        key.startsWith(\"origin\") ||\n        ((layout || layoutId !== undefined) &&\n            (!!scaleCorrectors[key] || key === \"opacity\")));\n}\n\nexport { isForcedMotionValue };\n","import { isMotionValue } from 'motion-dom';\nimport { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n    const { style } = props;\n    const newValues = {};\n    for (const key in style) {\n        if (isMotionValue(style[key]) ||\n            (prevProps.style &&\n                isMotionValue(prevProps.style[key])) ||\n            isForcedMotionValue(key, props) ||\n            visualElement?.getValue(key)?.liveStyle !== undefined) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { transformProps, defaultTransformValue, readTransformValue, isCSSVariableName } from 'motion-dom';\nimport { measureViewportBox } from '../../projection/utils/measure.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { renderHTML } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\n\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\nclass HTMLVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"html\";\n        this.renderInstance = renderHTML;\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            return this.projection?.isProjecting\n                ? defaultTransformValue(key)\n                : readTransformValue(instance, key);\n        }\n        else {\n            const computedStyle = getComputedStyle(instance);\n            const value = (isCSSVariableName(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0;\n            return typeof value === \"string\" ? value.trim() : value;\n        }\n    }\n    measureInstanceViewportBox(instance, { transformPagePoint }) {\n        return measureViewportBox(instance, transformPagePoint);\n    }\n    build(renderState, latestValues, props) {\n        buildHTMLStyles(renderState, latestValues, props.transformTemplate);\n    }\n    scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n        return scrapeMotionValuesFromProps(props, prevProps, visualElement);\n    }\n}\n\nexport { HTMLVisualElement, getComputedStyle };\n","/**\n * Convert camelCase to dash-case properties.\n */\nconst camelToDash = (str) => str.replace(/([a-z])([A-Z])/gu, \"$1-$2\").toLowerCase();\n\nexport { camelToDash };\n","import { px } from 'motion-dom';\n\nconst dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nconst camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, length, spacing = 1, offset = 0, useDashCase = true) {\n    // Normalise path length by setting SVG attribute pathLength to 1\n    attrs.pathLength = 1;\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    const keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = px.transform(-offset);\n    // Build the dash array\n    const pathLength = px.transform(length);\n    const pathSpacing = px.transform(spacing);\n    attrs[keys.array] = `${pathLength} ${pathSpacing}`;\n}\n\nexport { buildSVGPath };\n","import { buildHTMLStyles } from '../../html/utils/build-styles.mjs';\nimport { buildSVGPath } from './path.mjs';\n\n/**\n * Build SVG visual attributes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, { attrX, attrY, attrScale, pathLength, pathSpacing = 1, pathOffset = 0, \n// This is object creation, which we try to avoid per-frame.\n...latest }, isSVGTag, transformTemplate, styleProp) {\n    buildHTMLStyles(state, latest, transformTemplate);\n    /**\n     * For svg tags we just want to make sure viewBox is animatable and treat all the styles\n     * as normal HTML tags.\n     */\n    if (isSVGTag) {\n        if (state.style.viewBox) {\n            state.attrs.viewBox = state.style.viewBox;\n        }\n        return;\n    }\n    state.attrs = state.style;\n    state.style = {};\n    const { attrs, style } = state;\n    /**\n     * However, we apply transforms as CSS transforms.\n     * So if we detect a transform, transformOrigin we take it from attrs and copy it into style.\n     */\n    if (attrs.transform) {\n        style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    if (style.transform || attrs.transformOrigin) {\n        style.transformOrigin = attrs.transformOrigin ?? \"50% 50%\";\n        delete attrs.transformOrigin;\n    }\n    if (style.transform) {\n        /**\n         * SVG's element transform-origin uses its own median as a reference.\n         * Therefore, transformBox becomes a fill-box\n         */\n        style.transformBox = styleProp?.transformBox ?? \"fill-box\";\n        delete attrs.transformBox;\n    }\n    // Render attrX/attrY/attrScale as attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    if (attrScale !== undefined)\n        attrs.scale = attrScale;\n    // Build SVG path if one has been defined\n    if (pathLength !== undefined) {\n        buildSVGPath(attrs, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nexport { buildSVGAttrs };\n","/**\n * A set of attribute names that are always read/written as camel case.\n */\nconst camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n    \"pathLength\",\n    \"startOffset\",\n    \"textLength\",\n    \"lengthAdjust\",\n]);\n\nexport { camelCaseAttributes };\n","const isSVGTag = (tag) => typeof tag === \"string\" && tag.toLowerCase() === \"svg\";\n\nexport { isSVGTag };\n","import { isMotionValue, transformPropOrder } from 'motion-dom';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n    const newValues = scrapeMotionValuesFromProps$1(props, prevProps, visualElement);\n    for (const key in props) {\n        if (isMotionValue(props[key]) ||\n            isMotionValue(prevProps[key])) {\n            const targetKey = transformPropOrder.indexOf(key) !== -1\n                ? \"attr\" + key.charAt(0).toUpperCase() + key.substring(1)\n                : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { transformProps, getDefaultValueType } from 'motion-dom';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { camelToDash } from '../dom/utils/camel-to-dash.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\nimport { renderSVG } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\n\nclass SVGVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"svg\";\n        this.isSVGTag = false;\n        this.measureInstanceViewportBox = createBox;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props[key];\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return instance.getAttribute(key);\n    }\n    scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n        return scrapeMotionValuesFromProps(props, prevProps, visualElement);\n    }\n    build(renderState, latestValues, props) {\n        buildSVGAttrs(renderState, latestValues, this.isSVGTag, props.transformTemplate, props.style);\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderSVG(instance, renderState, styleProp, projection);\n    }\n    mount(instance) {\n        this.isSVGTag = isSVGTag(instance.tagName);\n        super.mount(instance);\n    }\n}\n\nexport { SVGVisualElement };\n","import { camelToDash } from '../../dom/utils/camel-to-dash.mjs';\nimport { renderHTML } from '../../html/utils/render.mjs';\nimport { camelCaseAttributes } from './camel-case-attrs.mjs';\n\nfunction renderSVG(element, renderState, _styleProp, projection) {\n    renderHTML(element, renderState, undefined, projection);\n    for (const key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nexport { renderSVG };\n","/**\n * We keep these listed separately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nconst lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"switch\",\n    \"symbol\",\n    \"svg\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nexport { lowercaseSVGElements };\n","import { lowercaseSVGElements } from '../../svg/lowercase-elements.mjs';\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/u.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nexport { isSVGComponent };\n","import { Fragment } from 'react';\nimport { HTMLVisualElement } from '../html/HTMLVisualElement.mjs';\nimport { SVGVisualElement } from '../svg/SVGVisualElement.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nconst createDomVisualElement = (Component, options) => {\n    return isSVGComponent(Component)\n        ? new SVGVisualElement(options)\n        : new HTMLVisualElement(options, {\n            allowProjection: Component !== Fragment,\n        });\n};\n\nexport { createDomVisualElement };\n","\"use client\";\nimport { createContext } from 'react';\n\nconst LazyContext = createContext({ strict: false });\n\nexport { LazyContext };\n","\"use client\";\nimport { createContext } from 'react';\n\nconst MotionContext = /* @__PURE__ */ createContext({});\n\nexport { MotionContext };\n","import { useContext, useMemo } from 'react';\nimport { MotionContext } from './index.mjs';\nimport { getCurrentTreeVariants } from './utils.mjs';\n\nfunction useCreateMotionContext(props) {\n    const { initial, animate } = getCurrentTreeVariants(props, useContext(MotionContext));\n    return useMemo(() => ({ initial, animate }), [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)]);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","import { isControllingVariants } from '../../render/utils/is-controlling-variants.mjs';\nimport { isVariantLabel } from '../../render/utils/is-variant-label.mjs';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (isControllingVariants(props)) {\n        const { initial, animate } = props;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","const createHtmlRenderState = () => ({\n    style: {},\n    transform: {},\n    transformOrigin: {},\n    vars: {},\n});\n\nexport { createHtmlRenderState };\n","import { isMotionValue } from 'motion-dom';\nimport { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (const key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues({ transformTemplate }, visualState) {\n    return useMemo(() => {\n        const state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, transformTemplate);\n        return Object.assign({}, state.vars, state.style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState) {\n    const styleProp = props.style || {};\n    const style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState));\n    return style;\n}\nfunction useHTMLProps(props, visualState) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    const htmlProps = {};\n    const style = useStyle(props, visualState);\n    if (props.drag && props.dragListener !== false) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect =\n            style.WebkitUserSelect =\n                style.WebkitTouchCallout =\n                    \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : `pan-${props.drag === \"x\" ? \"y\" : \"x\"}`;\n    }\n    if (props.tabIndex === undefined &&\n        (props.onTap || props.onTapStart || props.whileTap)) {\n        htmlProps.tabIndex = 0;\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps };\n","import { createHtmlRenderState } from '../../html/utils/create-render-state.mjs';\n\nconst createSvgRenderState = () => ({\n    ...createHtmlRenderState(),\n    attrs: {},\n});\n\nexport { createSvgRenderState };\n","import { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nfunction useSVGProps(props, visualState, _isStatic, Component) {\n    const visualProps = useMemo(() => {\n        const state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, isSVGTag(Component), props.transformTemplate, props.style);\n        return {\n            ...state.attrs,\n            style: { ...state.style },\n        };\n    }, [visualState]);\n    if (props.style) {\n        const rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = { ...rawStyles, ...visualProps.style };\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","/**\n * A list of all valid MotionProps.\n *\n * @privateRemarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nconst validMotionProps = new Set([\n    \"animate\",\n    \"exit\",\n    \"variants\",\n    \"initial\",\n    \"style\",\n    \"values\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"custom\",\n    \"inherit\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"_dragX\",\n    \"_dragY\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"onViewportEnter\",\n    \"onViewportLeave\",\n    \"globalTapTarget\",\n    \"ignoreStrict\",\n    \"viewport\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return (key.startsWith(\"while\") ||\n        (key.startsWith(\"drag\") && key !== \"draggable\") ||\n        key.startsWith(\"layout\") ||\n        key.startsWith(\"onTap\") ||\n        key.startsWith(\"onPan\") ||\n        key.startsWith(\"onLayout\") ||\n        validMotionProps.has(key));\n}\n\nexport { isValidMotionProp };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.mjs';\n\nlet shouldForward = (key) => !isValidMotionProp(key);\nfunction loadExternalIsValidProp(isValidProp) {\n    if (typeof isValidProp !== \"function\")\n        return;\n    // Explicitly filter our events\n    shouldForward = (key) => key.startsWith(\"on\") ? !isValidMotionProp(key) : isValidProp(key);\n}\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    /**\n     * We attempt to import this package but require won't be defined in esm environments, in that case\n     * isPropValid will have to be provided via `MotionContext`. In a 6.0.0 this should probably be removed\n     * in favour of explicit injection.\n     */\n    loadExternalIsValidProp(require(\"@emotion/is-prop-valid\").default);\n}\ncatch {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    const filteredProps = {};\n    for (const key in props) {\n        /**\n         * values is considered a valid prop by Emotion, so if it's present\n         * this will be rendered out to the DOM unless explicitly filtered.\n         *\n         * We check the type as it could be used with the `feColorMatrix`\n         * element, which we support.\n         */\n        if (key === \"values\" && typeof props.values === \"object\")\n            continue;\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key)) ||\n            // If trying to use native HTML drag events, forward drag listeners\n            (props[\"draggable\"] &&\n                key.startsWith(\"onDrag\"))) {\n            filteredProps[key] =\n                props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps, loadExternalIsValidProp };\n","import { isMotionValue } from 'motion-dom';\nimport { Fragment, useMemo, createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.mjs';\nimport { useSVGProps } from '../svg/use-props.mjs';\nimport { filterProps } from './utils/filter-props.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nfunction useRender(Component, props, ref, { latestValues, }, isStatic, forwardMotionProps = false) {\n    const useVisualProps = isSVGComponent(Component)\n        ? useSVGProps\n        : useHTMLProps;\n    const visualProps = useVisualProps(props, latestValues, isStatic, Component);\n    const filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n    const elementProps = Component !== Fragment ? { ...filteredProps, ...visualProps, ref } : {};\n    /**\n     * If component has been handed a motion value as its child,\n     * memoise its initial value and render that. Subsequent updates\n     * will be handled by the onChange handler\n     */\n    const { children } = props;\n    const renderedChildren = useMemo(() => (isMotionValue(children) ? children.get() : children), [children]);\n    return createElement(Component, {\n        ...elementProps,\n        children: renderedChildren,\n    });\n}\n\nexport { useRender };\n","import { isMotionValue } from 'motion-dom';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n */\nfunction resolveMotionValue(value) {\n    return isMotionValue(value) ? value.get() : value;\n}\n\nexport { resolveMotionValue };\n","import { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { isControllingVariants, isVariantNode } from '../../render/utils/is-controlling-variants.mjs';\nimport { resolveVariantFromProps } from '../../render/utils/resolve-variants.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\n\nfunction makeState({ scrapeMotionValuesFromProps, createRenderState, }, props, context, presenceContext) {\n    const state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    return state;\n}\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    const values = {};\n    const motionValues = scrapeMotionValues(props, {});\n    for (const key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    let { initial, animate } = props;\n    const isControllingVariants$1 = isControllingVariants(props);\n    const isVariantNode$1 = isVariantNode(props);\n    if (context &&\n        isVariantNode$1 &&\n        !isControllingVariants$1 &&\n        props.inherit !== false) {\n        if (initial === undefined)\n            initial = context.initial;\n        if (animate === undefined)\n            animate = context.animate;\n    }\n    let isInitialAnimationBlocked = presenceContext\n        ? presenceContext.initial === false\n        : false;\n    isInitialAnimationBlocked = isInitialAnimationBlocked || initial === false;\n    const variantToSet = isInitialAnimationBlocked ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        const list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        for (let i = 0; i < list.length; i++) {\n            const resolved = resolveVariantFromProps(props, list[i]);\n            if (resolved) {\n                const { transitionEnd, transition, ...target } = resolved;\n                for (const key in target) {\n                    let valueTarget = target[key];\n                    if (Array.isArray(valueTarget)) {\n                        /**\n                         * Take final keyframe if the initial animation is blocked because\n                         * we want to initialise at the end of that blocked animation.\n                         */\n                        const index = isInitialAnimationBlocked\n                            ? valueTarget.length - 1\n                            : 0;\n                        valueTarget = valueTarget[index];\n                    }\n                    if (valueTarget !== null) {\n                        values[key] = valueTarget;\n                    }\n                }\n                for (const key in transitionEnd) {\n                    values[key] = transitionEnd[key];\n                }\n            }\n        }\n    }\n    return values;\n}\nconst makeUseVisualState = (config) => (props, isStatic) => {\n    const context = useContext(MotionContext);\n    const presenceContext = useContext(PresenceContext);\n    const make = () => makeState(config, props, context, presenceContext);\n    return isStatic ? make() : useConstant(make);\n};\n\nexport { makeUseVisualState };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\n\nconst useHTMLVisualState = /*@__PURE__*/ makeUseVisualState({\n    scrapeMotionValuesFromProps,\n    createRenderState: createHtmlRenderState,\n});\n\nexport { useHTMLVisualState };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\n\nconst useSVGVisualState = /*@__PURE__*/ makeUseVisualState({\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    createRenderState: createSvgRenderState,\n});\n\nexport { useSVGVisualState };\n","const motionComponentSymbol = Symbol.for(\"motionComponentSymbol\");\n\nexport { motionComponentSymbol };\n","function isRefObject(ref) {\n    return (ref &&\n        typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback((instance) => {\n        if (instance) {\n            visualState.onMount && visualState.onMount(instance);\n        }\n        if (visualElement) {\n            if (instance) {\n                visualElement.mount(instance);\n            }\n            else {\n                visualElement.unmount();\n            }\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Only pass a new ref callback to React if we've received a visual element\n     * factory. Otherwise we'll be mounting/remounting every time externalRef\n     * or other dependencies change.\n     */\n    [visualElement]);\n}\n\nexport { useMotionRef };\n","import { camelToDash } from '../../render/dom/utils/camel-to-dash.mjs';\n\nconst optimizedAppearDataId = \"framerAppearId\";\nconst optimizedAppearDataAttribute = \"data-\" + camelToDash(optimizedAppearDataId);\n\nexport { optimizedAppearDataAttribute, optimizedAppearDataId };\n","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * Internal, exported only for usage in Framer\n */\nconst SwitchLayoutGroupContext = createContext({});\n\nexport { SwitchLayoutGroupContext };\n","import { useContext, useRef, useInsertionEffect, useEffect } from 'react';\nimport { optimizedAppearDataAttribute } from '../../animation/optimized-appear/data-id.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../context/SwitchLayoutGroupContext.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement, ProjectionNodeConstructor) {\n    const { visualElement: parent } = useContext(MotionContext);\n    const lazyContext = useContext(LazyContext);\n    const presenceContext = useContext(PresenceContext);\n    const reducedMotionConfig = useContext(MotionConfigContext).reducedMotion;\n    const visualElementRef = useRef(null);\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    createVisualElement =\n        createVisualElement ||\n            lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState,\n            parent,\n            props,\n            presenceContext,\n            blockInitialAnimation: presenceContext\n                ? presenceContext.initial === false\n                : false,\n            reducedMotionConfig,\n        });\n    }\n    const visualElement = visualElementRef.current;\n    /**\n     * Load Motion gesture and animation features. These are rendered as renderless\n     * components so each feature can optionally make use of React lifecycle methods.\n     */\n    const initialLayoutGroupConfig = useContext(SwitchLayoutGroupContext);\n    if (visualElement &&\n        !visualElement.projection &&\n        ProjectionNodeConstructor &&\n        (visualElement.type === \"html\" || visualElement.type === \"svg\")) {\n        createProjectionNode(visualElementRef.current, props, ProjectionNodeConstructor, initialLayoutGroupConfig);\n    }\n    const isMounted = useRef(false);\n    useInsertionEffect(() => {\n        /**\n         * Check the component has already mounted before calling\n         * `update` unnecessarily. This ensures we skip the initial update.\n         */\n        if (visualElement && isMounted.current) {\n            visualElement.update(props, presenceContext);\n        }\n    });\n    /**\n     * Cache this value as we want to know whether HandoffAppearAnimations\n     * was present on initial render - it will be deleted after this.\n     */\n    const optimisedAppearId = props[optimizedAppearDataAttribute];\n    const wantsHandoff = useRef(Boolean(optimisedAppearId) &&\n        !window.MotionHandoffIsComplete?.(optimisedAppearId) &&\n        window.MotionHasOptimisedAnimation?.(optimisedAppearId));\n    useIsomorphicLayoutEffect(() => {\n        if (!visualElement)\n            return;\n        isMounted.current = true;\n        window.MotionIsMounted = true;\n        visualElement.updateFeatures();\n        visualElement.scheduleRenderMicrotask();\n        /**\n         * Ideally this function would always run in a useEffect.\n         *\n         * However, if we have optimised appear animations to handoff from,\n         * it needs to happen synchronously to ensure there's no flash of\n         * incorrect styles in the event of a hydration error.\n         *\n         * So if we detect a situtation where optimised appear animations\n         * are running, we use useLayoutEffect to trigger animations.\n         */\n        if (wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n    });\n    useEffect(() => {\n        if (!visualElement)\n            return;\n        if (!wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n        if (wantsHandoff.current) {\n            // This ensures all future calls to animateChanges() in this component will run in useEffect\n            queueMicrotask(() => {\n                window.MotionHandoffMarkAsComplete?.(optimisedAppearId);\n            });\n            wantsHandoff.current = false;\n        }\n        /**\n         * Now we've finished triggering animations for this element we\n         * can wipe the enteringChildren set for the next render.\n         */\n        visualElement.enteringChildren = undefined;\n    });\n    return visualElement;\n}\nfunction createProjectionNode(visualElement, props, ProjectionNodeConstructor, initialPromotionConfig) {\n    const { layoutId, layout, drag, dragConstraints, layoutScroll, layoutRoot, layoutCrossfade, } = props;\n    visualElement.projection = new ProjectionNodeConstructor(visualElement.latestValues, props[\"data-framer-portal-id\"]\n        ? undefined\n        : getClosestProjectingNode(visualElement.parent));\n    visualElement.projection.setOptions({\n        layoutId,\n        layout,\n        alwaysMeasureLayout: Boolean(drag) || (dragConstraints && isRefObject(dragConstraints)),\n        visualElement,\n        /**\n         * TODO: Update options in an effect. This could be tricky as it'll be too late\n         * to update by the time layout animations run.\n         * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n         * ensuring it gets called if there's no potential layout animations.\n         *\n         */\n        animationType: typeof layout === \"string\" ? layout : \"both\",\n        initialPromotionConfig,\n        crossfade: layoutCrossfade,\n        layoutScroll,\n        layoutRoot,\n    });\n}\nfunction getClosestProjectingNode(visualElement) {\n    if (!visualElement)\n        return undefined;\n    return visualElement.options.allowProjection !== false\n        ? visualElement.projection\n        : getClosestProjectingNode(visualElement.parent);\n}\n\nexport { useVisualElement };\n","\"use client\";\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { warning, invariant } from 'motion-utils';\nimport { forwardRef, useContext } from 'react';\nimport { LayoutGroupContext } from '../context/LayoutGroupContext.mjs';\nimport { LazyContext } from '../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../context/MotionContext/index.mjs';\nimport { useCreateMotionContext } from '../context/MotionContext/create.mjs';\nimport { useRender } from '../render/dom/use-render.mjs';\nimport { isSVGComponent } from '../render/dom/utils/is-svg-component.mjs';\nimport { useHTMLVisualState } from '../render/html/use-html-visual-state.mjs';\nimport { useSVGVisualState } from '../render/svg/use-svg-visual-state.mjs';\nimport { isBrowser } from '../utils/is-browser.mjs';\nimport { featureDefinitions } from './features/definitions.mjs';\nimport { loadFeatures } from './features/load-features.mjs';\nimport { motionComponentSymbol } from './utils/symbol.mjs';\nimport { useMotionRef } from './utils/use-motion-ref.mjs';\nimport { useVisualElement } from './utils/use-visual-element.mjs';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n */\nfunction createMotionComponent(Component, { forwardMotionProps = false } = {}, preloadedFeatures, createVisualElement) {\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    const useVisualState = isSVGComponent(Component)\n        ? useSVGVisualState\n        : useHTMLVisualState;\n    function MotionDOMComponent(props, externalRef) {\n        /**\n         * If we need to measure the element we load this functionality in a\n         * separate class component in order to gain access to getSnapshotBeforeUpdate.\n         */\n        let MeasureLayout;\n        const configAndProps = {\n            ...useContext(MotionConfigContext),\n            ...props,\n            layoutId: useLayoutId(props),\n        };\n        const { isStatic } = configAndProps;\n        const context = useCreateMotionContext(props);\n        const visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            useStrictMode(configAndProps, preloadedFeatures);\n            const layoutProjection = getProjectionFunctionality(configAndProps);\n            MeasureLayout = layoutProjection.MeasureLayout;\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, configAndProps, createVisualElement, layoutProjection.ProjectionNode);\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (jsxs(MotionContext.Provider, { value: context, children: [MeasureLayout && context.visualElement ? (jsx(MeasureLayout, { visualElement: context.visualElement, ...configAndProps })) : null, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic, forwardMotionProps)] }));\n    }\n    MotionDOMComponent.displayName = `motion.${typeof Component === \"string\"\n        ? Component\n        : `create(${Component.displayName ?? Component.name ?? \"\"})`}`;\n    const ForwardRefMotionComponent = forwardRef(MotionDOMComponent);\n    ForwardRefMotionComponent[motionComponentSymbol] = Component;\n    return ForwardRefMotionComponent;\n}\nfunction useLayoutId({ layoutId }) {\n    const layoutGroupId = useContext(LayoutGroupContext).id;\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\nfunction useStrictMode(configAndProps, preloadedFeatures) {\n    const isStrict = useContext(LazyContext).strict;\n    /**\n     * If we're in development mode, check to make sure we're not rendering a motion component\n     * as a child of LazyMotion, as this will break the file-size benefits of using it.\n     */\n    if (process.env.NODE_ENV !== \"production\" &&\n        preloadedFeatures &&\n        isStrict) {\n        const strictMessage = \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\";\n        configAndProps.ignoreStrict\n            ? warning(false, strictMessage, \"lazy-strict-mode\")\n            : invariant(false, strictMessage, \"lazy-strict-mode\");\n    }\n}\nfunction getProjectionFunctionality(props) {\n    const { drag, layout } = featureDefinitions;\n    if (!drag && !layout)\n        return {};\n    const combined = { ...drag, ...layout };\n    return {\n        MeasureLayout: drag?.isEnabled(props) || layout?.isEnabled(props)\n            ? combined.MeasureLayout\n            : undefined,\n        ProjectionNode: combined.ProjectionNode,\n    };\n}\n\nexport { createMotionComponent };\n","import { featureDefinitions } from './definitions.mjs';\n\nfunction loadFeatures(features) {\n    for (const key in features) {\n        featureDefinitions[key] = {\n            ...featureDefinitions[key],\n            ...features[key],\n        };\n    }\n}\n\nexport { loadFeatures };\n","import { warnOnce } from 'motion-utils';\nimport { createMotionComponent } from '../../motion/index.mjs';\n\nfunction createMotionProxy(preloadedFeatures, createVisualElement) {\n    if (typeof Proxy === \"undefined\") {\n        return createMotionComponent;\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    const componentCache = new Map();\n    const factory = (Component, options) => {\n        return createMotionComponent(Component, options, preloadedFeatures, createVisualElement);\n    };\n    /**\n     * Support for deprecated`motion(Component)` pattern\n     */\n    const deprecatedFactoryFunction = (Component, options) => {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, \"motion() is deprecated. Use motion.create() instead.\");\n        }\n        return factory(Component, options);\n    };\n    return new Proxy(deprecatedFactoryFunction, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: (_target, key) => {\n            if (key === \"create\")\n                return factory;\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, createMotionComponent(key, undefined, preloadedFeatures, createVisualElement));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n","import { resolveVariantFromProps } from './resolve-variants.mjs';\n\nfunction resolveVariant(visualElement, definition, custom) {\n    const props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== undefined ? custom : props.custom, visualElement);\n}\n\nexport { resolveVariant };\n","function getValueTransition(transition, key) {\n    return (transition?.[key] ??\n        transition?.[\"default\"] ??\n        transition);\n}\n\nexport { getValueTransition };\n","const isKeyframesTarget = (v) => {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n","import { motionValue } from 'motion-dom';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction resolveFinalValueInKeyframes(v) {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n}\nfunction setTarget(visualElement, definition) {\n    const resolved = resolveVariant(visualElement, definition);\n    let { transitionEnd = {}, transition = {}, ...target } = resolved || {};\n    target = { ...target, ...transitionEnd };\n    for (const key in target) {\n        const value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\n\nexport { setTarget };\n","import { MotionGlobalConfig } from 'motion-utils';\nimport { isWillChangeMotionValue } from './is.mjs';\n\nfunction addValueToWillChange(visualElement, key) {\n    const willChange = visualElement.getValue(\"willChange\");\n    /**\n     * It could be that a user has set willChange to a regular MotionValue,\n     * in which case we can't add the value to it.\n     */\n    if (isWillChangeMotionValue(willChange)) {\n        return willChange.add(key);\n    }\n    else if (!willChange && MotionGlobalConfig.WillChange) {\n        const newWillChange = new MotionGlobalConfig.WillChange(\"auto\");\n        visualElement.addValue(\"willChange\", newWillChange);\n        newWillChange.add(key);\n    }\n}\n\nexport { addValueToWillChange };\n","import { isMotionValue } from 'motion-dom';\n\nfunction isWillChangeMotionValue(value) {\n    return Boolean(isMotionValue(value) && value.add);\n}\n\nexport { isWillChangeMotionValue };\n","import { optimizedAppearDataAttribute } from './data-id.mjs';\n\nfunction getOptimisedAppearId(visualElement) {\n    return visualElement.props[optimizedAppearDataAttribute];\n}\n\nexport { getOptimisedAppearId };\n","function makeAnimationInstant(options) {\n    options.duration = 0;\n    options.type === \"keyframes\";\n}\n\nexport { makeAnimationInstant };\n","/**\n * Pipe\n * Compose other transformers to run linearily\n * pipe(min(20), max(40))\n * @param  {...functions} transformers\n * @return {function}\n */\nconst combineFunctions = (a, b) => (v) => b(a(v));\nconst pipe = (...transformers) => transformers.reduce(combineFunctions);\n\nexport { pipe };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\n/*#__NO_SIDE_EFFECTS__*/\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\n/*#__NO_SIDE_EFFECTS__*/\nconst millisecondsToSeconds = (milliseconds) => milliseconds / 1000;\n\nexport { millisecondsToSeconds, secondsToMilliseconds };\n","const activeAnimations = {\n    layout: 0,\n    mainThread: 0,\n    waapi: 0,\n};\n\nexport { activeAnimations };\n","// Adapted from https://gist.github.com/mjackson/5311256\nfunction hueToRgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hslaToRgba({ hue, saturation, lightness, alpha }) {\n    hue /= 360;\n    saturation /= 100;\n    lightness /= 100;\n    let red = 0;\n    let green = 0;\n    let blue = 0;\n    if (!saturation) {\n        red = green = blue = lightness;\n    }\n    else {\n        const q = lightness < 0.5\n            ? lightness * (1 + saturation)\n            : lightness + saturation - lightness * saturation;\n        const p = 2 * lightness - q;\n        red = hueToRgb(p, q, hue + 1 / 3);\n        green = hueToRgb(p, q, hue);\n        blue = hueToRgb(p, q, hue - 1 / 3);\n    }\n    return {\n        red: Math.round(red * 255),\n        green: Math.round(green * 255),\n        blue: Math.round(blue * 255),\n        alpha,\n    };\n}\n\nexport { hslaToRgba };\n","function mixImmediate(a, b) {\n    return (p) => (p > 0 ? b : a);\n}\n\nexport { mixImmediate };\n","import { warning } from 'motion-utils';\nimport { hex } from '../../value/types/color/hex.mjs';\nimport { hsla } from '../../value/types/color/hsla.mjs';\nimport { hslaToRgba } from '../../value/types/color/hsla-to-rgba.mjs';\nimport { rgba } from '../../value/types/color/rgba.mjs';\nimport { mixImmediate } from './immediate.mjs';\nimport { mixNumber } from './number.mjs';\n\n// Linear color space blending\n// Explained https://www.youtube.com/watch?v=LKnqECcg6Gw\n// Demonstrated http://codepen.io/osublake/pen/xGVVaN\nconst mixLinearColor = (from, to, v) => {\n    const fromExpo = from * from;\n    const expo = v * (to * to - fromExpo) + fromExpo;\n    return expo < 0 ? 0 : Math.sqrt(expo);\n};\nconst colorTypes = [hex, rgba, hsla];\nconst getColorType = (v) => colorTypes.find((type) => type.test(v));\nfunction asRGBA(color) {\n    const type = getColorType(color);\n    warning(Boolean(type), `'${color}' is not an animatable color. Use the equivalent color code instead.`, \"color-not-animatable\");\n    if (!Boolean(type))\n        return false;\n    let model = type.parse(color);\n    if (type === hsla) {\n        // TODO Remove this cast - needed since Motion's stricter typing\n        model = hslaToRgba(model);\n    }\n    return model;\n}\nconst mixColor = (from, to) => {\n    const fromRGBA = asRGBA(from);\n    const toRGBA = asRGBA(to);\n    if (!fromRGBA || !toRGBA) {\n        return mixImmediate(from, to);\n    }\n    const blended = { ...fromRGBA };\n    return (v) => {\n        blended.red = mixLinearColor(fromRGBA.red, toRGBA.red, v);\n        blended.green = mixLinearColor(fromRGBA.green, toRGBA.green, v);\n        blended.blue = mixLinearColor(fromRGBA.blue, toRGBA.blue, v);\n        blended.alpha = mixNumber(fromRGBA.alpha, toRGBA.alpha, v);\n        return rgba.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","const invisibleValues = new Set([\"none\", \"hidden\"]);\n/**\n * Returns a function that, when provided a progress value between 0 and 1,\n * will return the \"none\" or \"hidden\" string only when the progress is that of\n * the origin or target.\n */\nfunction mixVisibility(origin, target) {\n    if (invisibleValues.has(origin)) {\n        return (p) => (p <= 0 ? origin : target);\n    }\n    else {\n        return (p) => (p >= 1 ? target : origin);\n    }\n}\n\nexport { invisibleValues, mixVisibility };\n","import { pipe, warning } from 'motion-utils';\nimport { isCSSVariableToken } from '../../animation/utils/is-css-variable.mjs';\nimport { color } from '../../value/types/color/index.mjs';\nimport { complex, analyseComplexValue } from '../../value/types/complex/index.mjs';\nimport { mixColor } from './color.mjs';\nimport { mixImmediate } from './immediate.mjs';\nimport { mixNumber as mixNumber$1 } from './number.mjs';\nimport { invisibleValues, mixVisibility } from './visibility.mjs';\n\nfunction mixNumber(a, b) {\n    return (p) => mixNumber$1(a, b, p);\n}\nfunction getMixer(a) {\n    if (typeof a === \"number\") {\n        return mixNumber;\n    }\n    else if (typeof a === \"string\") {\n        return isCSSVariableToken(a)\n            ? mixImmediate\n            : color.test(a)\n                ? mixColor\n                : mixComplex;\n    }\n    else if (Array.isArray(a)) {\n        return mixArray;\n    }\n    else if (typeof a === \"object\") {\n        return color.test(a) ? mixColor : mixObject;\n    }\n    return mixImmediate;\n}\nfunction mixArray(a, b) {\n    const output = [...a];\n    const numValues = output.length;\n    const blendValue = a.map((v, i) => getMixer(v)(v, b[i]));\n    return (p) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](p);\n        }\n        return output;\n    };\n}\nfunction mixObject(a, b) {\n    const output = { ...a, ...b };\n    const blendValue = {};\n    for (const key in output) {\n        if (a[key] !== undefined && b[key] !== undefined) {\n            blendValue[key] = getMixer(a[key])(a[key], b[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n}\nfunction matchOrder(origin, target) {\n    const orderedOrigin = [];\n    const pointers = { color: 0, var: 0, number: 0 };\n    for (let i = 0; i < target.values.length; i++) {\n        const type = target.types[i];\n        const originIndex = origin.indexes[type][pointers[type]];\n        const originValue = origin.values[originIndex] ?? 0;\n        orderedOrigin[i] = originValue;\n        pointers[type]++;\n    }\n    return orderedOrigin;\n}\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyseComplexValue(origin);\n    const targetStats = analyseComplexValue(target);\n    const canInterpolate = originStats.indexes.var.length === targetStats.indexes.var.length &&\n        originStats.indexes.color.length === targetStats.indexes.color.length &&\n        originStats.indexes.number.length >= targetStats.indexes.number.length;\n    if (canInterpolate) {\n        if ((invisibleValues.has(origin) &&\n            !targetStats.values.length) ||\n            (invisibleValues.has(target) &&\n                !originStats.values.length)) {\n            return mixVisibility(origin, target);\n        }\n        return pipe(mixArray(matchOrder(originStats, targetStats), targetStats.values), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`, \"complex-values-different\");\n        return mixImmediate(origin, target);\n    }\n};\n\nexport { getMixer, mixArray, mixComplex, mixObject };\n","import { getMixer } from './complex.mjs';\nimport { mixNumber } from './number.mjs';\n\nfunction mix(from, to, p) {\n    if (typeof from === \"number\" &&\n        typeof to === \"number\" &&\n        typeof p === \"number\") {\n        return mixNumber(from, to, p);\n    }\n    const mixer = getMixer(from);\n    return mixer(from, to);\n}\n\nexport { mix };\n","import { time } from '../../frameloop/sync-time.mjs';\nimport { frame, cancelFrame, frameData } from '../../frameloop/frame.mjs';\n\nconst frameloopDriver = (update) => {\n    const passTimestamp = ({ timestamp }) => update(timestamp);\n    return {\n        start: (keepAlive = true) => frame.update(passTimestamp, keepAlive),\n        stop: () => cancelFrame(passTimestamp),\n        /**\n         * If we're processing this frame we can use the\n         * framelocked timestamp to keep things in sync.\n         */\n        now: () => (frameData.isProcessing ? frameData.timestamp : time.now()),\n    };\n};\n\nexport { frameloopDriver };\n","const generateLinearEasing = (easing, duration, // as milliseconds\nresolution = 10 // as milliseconds\n) => {\n    let points = \"\";\n    const numPoints = Math.max(Math.round(duration / resolution), 2);\n    for (let i = 0; i < numPoints; i++) {\n        points += Math.round(easing(i / (numPoints - 1)) * 10000) / 10000 + \", \";\n    }\n    return `linear(${points.substring(0, points.length - 2)})`;\n};\n\nexport { generateLinearEasing };\n","/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxGeneratorDuration = 20000;\nfunction calcGeneratorDuration(generator) {\n    let duration = 0;\n    const timeStep = 50;\n    let state = generator.next(duration);\n    while (!state.done && duration < maxGeneratorDuration) {\n        duration += timeStep;\n        state = generator.next(duration);\n    }\n    return duration >= maxGeneratorDuration ? Infinity : duration;\n}\n\nexport { calcGeneratorDuration, maxGeneratorDuration };\n","import { velocityPerSecond } from 'motion-utils';\n\nconst velocitySampleDuration = 5; // ms\nfunction calcGeneratorVelocity(resolveValue, t, current) {\n    const prevT = Math.max(t - velocitySampleDuration, 0);\n    return velocityPerSecond(current - resolveValue(prevT), t - prevT);\n}\n\nexport { calcGeneratorVelocity };\n","const springDefaults = {\n    // Default spring physics\n    stiffness: 100,\n    damping: 10,\n    mass: 1.0,\n    velocity: 0.0,\n    // Default duration/bounce-based options\n    duration: 800, // in ms\n    bounce: 0.3,\n    visualDuration: 0.3, // in seconds\n    // Rest thresholds\n    restSpeed: {\n        granular: 0.01,\n        default: 2,\n    },\n    restDelta: {\n        granular: 0.005,\n        default: 0.5,\n    },\n    // Limits\n    minDuration: 0.01, // in seconds\n    maxDuration: 10.0, // in seconds\n    minDamping: 0.05,\n    maxDamping: 1,\n};\n\nexport { springDefaults };\n","import { warning, secondsToMilliseconds, clamp, millisecondsToSeconds } from 'motion-utils';\nimport { springDefaults } from './defaults.mjs';\n\nconst safeMin = 0.001;\nfunction findSpring({ duration = springDefaults.duration, bounce = springDefaults.bounce, velocity = springDefaults.velocity, mass = springDefaults.mass, }) {\n    let envelope;\n    let derivative;\n    warning(duration <= secondsToMilliseconds(springDefaults.maxDuration), \"Spring duration must be 10 seconds or less\", \"spring-duration-limit\");\n    let dampingRatio = 1 - bounce;\n    /**\n     * Restrict dampingRatio and duration to within acceptable ranges.\n     */\n    dampingRatio = clamp(springDefaults.minDamping, springDefaults.maxDamping, dampingRatio);\n    duration = clamp(springDefaults.minDuration, springDefaults.maxDuration, millisecondsToSeconds(duration));\n    if (dampingRatio < 1) {\n        /**\n         * Underdamped spring\n         */\n        envelope = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const a = exponentialDecay - velocity;\n            const b = calcAngularFreq(undampedFreq, dampingRatio);\n            const c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const d = delta * velocity + velocity;\n            const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            const f = Math.exp(-delta);\n            const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            const factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        /**\n         * Critically-damped spring\n         */\n        envelope = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    const initialGuess = 5 / duration;\n    const undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = secondsToMilliseconds(duration);\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: springDefaults.stiffness,\n            damping: springDefaults.damping,\n            duration,\n        };\n    }\n    else {\n        const stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration,\n        };\n    }\n}\nconst rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    let result = initialGuess;\n    for (let i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring };\n","import { millisecondsToSeconds, secondsToMilliseconds, clamp } from 'motion-utils';\nimport { generateLinearEasing } from '../../waapi/utils/linear.mjs';\nimport { calcGeneratorDuration, maxGeneratorDuration } from '../utils/calc-duration.mjs';\nimport { createGeneratorEasing } from '../utils/create-generator-easing.mjs';\nimport { calcGeneratorVelocity } from '../utils/velocity.mjs';\nimport { springDefaults } from './defaults.mjs';\nimport { findSpring, calcAngularFreq } from './find.mjs';\n\nconst durationKeys = [\"duration\", \"bounce\"];\nconst physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some((key) => options[key] !== undefined);\n}\nfunction getSpringOptions(options) {\n    let springOptions = {\n        velocity: springDefaults.velocity,\n        stiffness: springDefaults.stiffness,\n        damping: springDefaults.damping,\n        mass: springDefaults.mass,\n        isResolvedFromDuration: false,\n        ...options,\n    };\n    // stiffness/damping/mass overrides duration/bounce\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        if (options.visualDuration) {\n            const visualDuration = options.visualDuration;\n            const root = (2 * Math.PI) / (visualDuration * 1.2);\n            const stiffness = root * root;\n            const damping = 2 *\n                clamp(0.05, 1, 1 - (options.bounce || 0)) *\n                Math.sqrt(stiffness);\n            springOptions = {\n                ...springOptions,\n                mass: springDefaults.mass,\n                stiffness,\n                damping,\n            };\n        }\n        else {\n            const derived = findSpring(options);\n            springOptions = {\n                ...springOptions,\n                ...derived,\n                mass: springDefaults.mass,\n            };\n            springOptions.isResolvedFromDuration = true;\n        }\n    }\n    return springOptions;\n}\nfunction spring(optionsOrVisualDuration = springDefaults.visualDuration, bounce = springDefaults.bounce) {\n    const options = typeof optionsOrVisualDuration !== \"object\"\n        ? {\n            visualDuration: optionsOrVisualDuration,\n            keyframes: [0, 1],\n            bounce,\n        }\n        : optionsOrVisualDuration;\n    let { restSpeed, restDelta } = options;\n    const origin = options.keyframes[0];\n    const target = options.keyframes[options.keyframes.length - 1];\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = { done: false, value: origin };\n    const { stiffness, damping, mass, duration, velocity, isResolvedFromDuration, } = getSpringOptions({\n        ...options,\n        velocity: -millisecondsToSeconds(options.velocity || 0),\n    });\n    const initialVelocity = velocity || 0.0;\n    const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    const initialDelta = target - origin;\n    const undampedAngularFreq = millisecondsToSeconds(Math.sqrt(stiffness / mass));\n    /**\n     * If we're working on a granular scale, use smaller defaults for determining\n     * when the spring is finished.\n     *\n     * These defaults have been selected emprically based on what strikes a good\n     * ratio between feeling good and finishing as soon as changes are imperceptible.\n     */\n    const isGranularScale = Math.abs(initialDelta) < 5;\n    restSpeed || (restSpeed = isGranularScale\n        ? springDefaults.restSpeed.granular\n        : springDefaults.restSpeed.default);\n    restDelta || (restDelta = isGranularScale\n        ? springDefaults.restDelta.granular\n        : springDefaults.restDelta.default);\n    let resolveSpring;\n    if (dampingRatio < 1) {\n        const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n        // Underdamped spring\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            return (target -\n                envelope *\n                    (((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) /\n                        angularFreq) *\n                        Math.sin(angularFreq * t) +\n                        initialDelta * Math.cos(angularFreq * t)));\n        };\n    }\n    else if (dampingRatio === 1) {\n        // Critically damped spring\n        resolveSpring = (t) => target -\n            Math.exp(-undampedAngularFreq * t) *\n                (initialDelta +\n                    (initialVelocity + undampedAngularFreq * initialDelta) * t);\n    }\n    else {\n        // Overdamped spring\n        const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            // When performing sinh or cosh values can hit Infinity so we cap them here\n            const freqForT = Math.min(dampedAngularFreq * t, 300);\n            return (target -\n                (envelope *\n                    ((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) *\n                        Math.sinh(freqForT) +\n                        dampedAngularFreq *\n                            initialDelta *\n                            Math.cosh(freqForT))) /\n                    dampedAngularFreq);\n        };\n    }\n    const generator = {\n        calculatedDuration: isResolvedFromDuration ? duration || null : null,\n        next: (t) => {\n            const current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                let currentVelocity = t === 0 ? initialVelocity : 0.0;\n                /**\n                 * We only need to calculate velocity for under-damped springs\n                 * as over- and critically-damped springs can't overshoot, so\n                 * checking only for displacement is enough.\n                 */\n                if (dampingRatio < 1) {\n                    currentVelocity =\n                        t === 0\n                            ? secondsToMilliseconds(initialVelocity)\n                            : calcGeneratorVelocity(resolveSpring, t, current);\n                }\n                const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                const isBelowDisplacementThreshold = Math.abs(target - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? target : current;\n            return state;\n        },\n        toString: () => {\n            const calculatedDuration = Math.min(calcGeneratorDuration(generator), maxGeneratorDuration);\n            const easing = generateLinearEasing((progress) => generator.next(calculatedDuration * progress).value, calculatedDuration, 30);\n            return calculatedDuration + \"ms \" + easing;\n        },\n        toTransition: () => { },\n    };\n    return generator;\n}\nspring.applyToOptions = (options) => {\n    const generatorOptions = createGeneratorEasing(options, 100, spring);\n    options.ease = generatorOptions.ease;\n    options.duration = secondsToMilliseconds(generatorOptions.duration);\n    options.type = \"keyframes\";\n    return options;\n};\n\nexport { spring };\n","import { spring } from './spring/index.mjs';\nimport { calcGeneratorVelocity } from './utils/velocity.mjs';\n\nfunction inertia({ keyframes, velocity = 0.0, power = 0.8, timeConstant = 325, bounceDamping = 10, bounceStiffness = 500, modifyTarget, min, max, restDelta = 0.5, restSpeed, }) {\n    const origin = keyframes[0];\n    const state = {\n        done: false,\n        value: origin,\n    };\n    const isOutOfBounds = (v) => (min !== undefined && v < min) || (max !== undefined && v > max);\n    const nearestBoundary = (v) => {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    };\n    let amplitude = power * velocity;\n    const ideal = origin + amplitude;\n    const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    /**\n     * If the target has changed we need to re-calculate the amplitude, otherwise\n     * the animation will start from the wrong position.\n     */\n    if (target !== ideal)\n        amplitude = target - origin;\n    const calcDelta = (t) => -amplitude * Math.exp(-t / timeConstant);\n    const calcLatest = (t) => target + calcDelta(t);\n    const applyFriction = (t) => {\n        const delta = calcDelta(t);\n        const latest = calcLatest(t);\n        state.done = Math.abs(delta) <= restDelta;\n        state.value = state.done ? target : latest;\n    };\n    /**\n     * Ideally this would resolve for t in a stateless way, we could\n     * do that by always precalculating the animation but as we know\n     * this will be done anyway we can assume that spring will\n     * be discovered during that.\n     */\n    let timeReachedBoundary;\n    let spring$1;\n    const checkCatchBoundary = (t) => {\n        if (!isOutOfBounds(state.value))\n            return;\n        timeReachedBoundary = t;\n        spring$1 = spring({\n            keyframes: [state.value, nearestBoundary(state.value)],\n            velocity: calcGeneratorVelocity(calcLatest, t, state.value), // TODO: This should be passing * 1000\n            damping: bounceDamping,\n            stiffness: bounceStiffness,\n            restDelta,\n            restSpeed,\n        });\n    };\n    checkCatchBoundary(0);\n    return {\n        calculatedDuration: null,\n        next: (t) => {\n            /**\n             * We need to resolve the friction to figure out if we need a\n             * spring but we don't want to do this twice per frame. So here\n             * we flag if we updated for this frame and later if we did\n             * we can skip doing it again.\n             */\n            let hasUpdatedFrame = false;\n            if (!spring$1 && timeReachedBoundary === undefined) {\n                hasUpdatedFrame = true;\n                applyFriction(t);\n                checkCatchBoundary(t);\n            }\n            /**\n             * If we have a spring and the provided t is beyond the moment the friction\n             * animation crossed the min/max boundary, use the spring.\n             */\n            if (timeReachedBoundary !== undefined && t >= timeReachedBoundary) {\n                return spring$1.next(t - timeReachedBoundary);\n            }\n            else {\n                !hasUpdatedFrame && applyFriction(t);\n                return state;\n            }\n        },\n    };\n}\n\nexport { inertia };\n","import { millisecondsToSeconds } from 'motion-utils';\nimport { calcGeneratorDuration, maxGeneratorDuration } from './calc-duration.mjs';\n\n/**\n * Create a progress => progress easing function from a generator.\n */\nfunction createGeneratorEasing(options, scale = 100, createGenerator) {\n    const generator = createGenerator({ ...options, keyframes: [0, scale] });\n    const duration = Math.min(calcGeneratorDuration(generator), maxGeneratorDuration);\n    return {\n        type: \"keyframes\",\n        ease: (progress) => {\n            return generator.next(duration * progress).value / scale;\n        },\n        duration: millisecondsToSeconds(duration),\n    };\n}\n\nexport { createGeneratorEasing };\n","import { noop } from '../noop.mjs';\n\n/*\n  Bezier function generator\n  This has been modified from Gatan Renaudeau's BezierEasing\n  https://github.com/gre/bezier-easing/blob/master/src/index.js\n  https://github.com/gre/bezier-easing/blob/master/LICENSE\n  \n  I've removed the newtonRaphsonIterate algo because in benchmarking it\n  wasn't noticeably faster than binarySubdivision, indeed removing it\n  usually improved times, depending on the curve.\n  I also removed the lookup table, as for the added bundle size and loop we're\n  only cutting ~4 or so subdivision iterations. I bumped the max iterations up\n  to 12 to compensate and this still tended to be faster for no perceivable\n  loss in accuracy.\n  Usage\n    const easeOut = cubicBezier(.17,.67,.83,.67);\n    const x = easeOut(0.5); // returns 0.627...\n*/\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nconst calcBezier = (t, a1, a2) => (((1.0 - 3.0 * a2 + 3.0 * a1) * t + (3.0 * a2 - 6.0 * a1)) * t + 3.0 * a1) *\n    t;\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 12;\nfunction binarySubdivide(x, lowerBound, upperBound, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = lowerBound + (upperBound - lowerBound) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - x;\n        if (currentX > 0.0) {\n            upperBound = currentT;\n        }\n        else {\n            lowerBound = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    // If this is a linear gradient, return linear easing\n    if (mX1 === mY1 && mX2 === mY2)\n        return noop;\n    const getTForX = (aX) => binarySubdivide(aX, 0, 1, mX1, mX2);\n    // If animation is at start/end, return t without easing\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n","import { cubicBezier } from './cubic-bezier.mjs';\n\nconst easeIn = /*@__PURE__*/ cubicBezier(0.42, 0, 1, 1);\nconst easeOut = /*@__PURE__*/ cubicBezier(0, 0, 0.58, 1);\nconst easeInOut = /*@__PURE__*/ cubicBezier(0.42, 0, 0.58, 1);\n\nexport { easeIn, easeInOut, easeOut };\n","// Accepts an easing function and returns a new one that outputs mirrored values for\n// the second half of the animation. Turns easeIn into easeInOut.\nconst mirrorEasing = (easing) => (p) => p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n\nexport { mirrorEasing };\n","// Accepts an easing function and returns a new one that outputs reversed values.\n// Turns easeIn into easeOut.\nconst reverseEasing = (easing) => (p) => 1 - easing(1 - p);\n\nexport { reverseEasing };\n","import { cubicBezier } from './cubic-bezier.mjs';\nimport { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst backOut = /*@__PURE__*/ cubicBezier(0.33, 1.53, 0.69, 0.99);\nconst backIn = /*@__PURE__*/ reverseEasing(backOut);\nconst backInOut = /*@__PURE__*/ mirrorEasing(backIn);\n\nexport { backIn, backInOut, backOut };\n","import { backIn } from './back.mjs';\n\nconst anticipate = (p) => (p *= 2) < 1 ? 0.5 * backIn(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n\nexport { anticipate };\n","import { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst circIn = (p) => 1 - Math.sin(Math.acos(p));\nconst circOut = reverseEasing(circIn);\nconst circInOut = mirrorEasing(circIn);\n\nexport { circIn, circInOut, circOut };\n","const isBezierDefinition = (easing) => Array.isArray(easing) && typeof easing[0] === \"number\";\n\nexport { isBezierDefinition };\n","import { invariant } from '../../errors.mjs';\nimport { noop } from '../../noop.mjs';\nimport { anticipate } from '../anticipate.mjs';\nimport { backIn, backInOut, backOut } from '../back.mjs';\nimport { circIn, circInOut, circOut } from '../circ.mjs';\nimport { cubicBezier } from '../cubic-bezier.mjs';\nimport { easeIn, easeInOut, easeOut } from '../ease.mjs';\nimport { isBezierDefinition } from './is-bezier-definition.mjs';\n\nconst easingLookup = {\n    linear: noop,\n    easeIn,\n    easeInOut,\n    easeOut,\n    circIn,\n    circInOut,\n    circOut,\n    backIn,\n    backInOut,\n    backOut,\n    anticipate,\n};\nconst isValidEasing = (easing) => {\n    return typeof easing === \"string\";\n};\nconst easingDefinitionToFunction = (definition) => {\n    if (isBezierDefinition(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, `Cubic bezier arrays must contain four numerical values.`, \"cubic-bezier-length\");\n        const [x1, y1, x2, y2] = definition;\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (isValidEasing(definition)) {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, `Invalid easing type '${definition}'`, \"invalid-easing-type\");\n        return easingLookup[definition];\n    }\n    return definition;\n};\n\nexport { easingDefinitionToFunction };\n","/*\n  Progress within given range\n\n  Given a lower limit and an upper limit, we return the progress\n  (expressed as a number 0-1) represented by the given value, and\n  limit that progress to within 0-1.\n\n  @param [number]: Lower limit\n  @param [number]: Upper limit\n  @param [number]: Value to find progress within given range\n  @return [number]: Progress of value within range as expressed 0-1\n*/\n/*#__NO_SIDE_EFFECTS__*/\nconst progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","import { invariant, clamp, MotionGlobalConfig, noop, pipe, progress } from 'motion-utils';\nimport { mix } from './mix/index.mjs';\n\nfunction createMixers(output, ease, customMixer) {\n    const mixers = [];\n    const mixerFactory = customMixer || MotionGlobalConfig.mix || mix;\n    const numMixers = output.length - 1;\n    for (let i = 0; i < numMixers; i++) {\n        let mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            const easingFunction = Array.isArray(ease) ? ease[i] || noop : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\n/**\n * Create a function that maps from a numerical input array to a generic output array.\n *\n * Accepts:\n *   - Numbers\n *   - Colors (hex, hsl, hsla, rgb, rgba)\n *   - Complex (combinations of one or more numbers or strings)\n *\n * ```jsx\n * const mixColor = interpolate([0, 1], ['#fff', '#000'])\n *\n * mixColor(0.5) // 'rgba(128, 128, 128, 1)'\n * ```\n *\n * TODO Revisit this approach once we've moved to data models for values,\n * probably not needed to pregenerate mixer functions.\n *\n * @public\n */\nfunction interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {\n    const inputLength = input.length;\n    invariant(inputLength === output.length, \"Both input and output ranges must be the same length\", \"range-length\");\n    /**\n     * If we're only provided a single input, we can just make a function\n     * that returns the output.\n     */\n    if (inputLength === 1)\n        return () => output[0];\n    if (inputLength === 2 && output[0] === output[1])\n        return () => output[1];\n    const isZeroDeltaRange = input[0] === input[1];\n    // If input runs highest -> lowest, reverse both arrays\n    if (input[0] > input[inputLength - 1]) {\n        input = [...input].reverse();\n        output = [...output].reverse();\n    }\n    const mixers = createMixers(output, ease, mixer);\n    const numMixers = mixers.length;\n    const interpolator = (v) => {\n        if (isZeroDeltaRange && v < input[0])\n            return output[0];\n        let i = 0;\n        if (numMixers > 1) {\n            for (; i < input.length - 2; i++) {\n                if (v < input[i + 1])\n                    break;\n            }\n        }\n        const progressInRange = progress(input[i], input[i + 1], v);\n        return mixers[i](progressInRange);\n    };\n    return isClamp\n        ? (v) => interpolator(clamp(input[0], input[inputLength - 1], v))\n        : interpolator;\n}\n\nexport { interpolate };\n","import { fillOffset } from './fill.mjs';\n\nfunction defaultOffset(arr) {\n    const offset = [0];\n    fillOffset(offset, arr.length - 1);\n    return offset;\n}\n\nexport { defaultOffset };\n","import { progress } from 'motion-utils';\nimport { mixNumber } from '../../../utils/mix/number.mjs';\n\nfunction fillOffset(offset, remaining) {\n    const min = offset[offset.length - 1];\n    for (let i = 1; i <= remaining; i++) {\n        const offsetProgress = progress(0, remaining, i);\n        offset.push(mixNumber(min, 1, offsetProgress));\n    }\n}\n\nexport { fillOffset };\n","import { easeInOut, isEasingArray, easingDefinitionToFunction } from 'motion-utils';\nimport { interpolate } from '../../utils/interpolate.mjs';\nimport { defaultOffset } from '../keyframes/offsets/default.mjs';\nimport { convertOffsetToTimes } from '../keyframes/offsets/time.mjs';\n\nfunction defaultEasing(values, easing) {\n    return values.map(() => easing || easeInOut).splice(0, values.length - 1);\n}\nfunction keyframes({ duration = 300, keyframes: keyframeValues, times, ease = \"easeInOut\", }) {\n    /**\n     * Easing functions can be externally defined as strings. Here we convert them\n     * into actual functions.\n     */\n    const easingFunctions = isEasingArray(ease)\n        ? ease.map(easingDefinitionToFunction)\n        : easingDefinitionToFunction(ease);\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = {\n        done: false,\n        value: keyframeValues[0],\n    };\n    /**\n     * Create a times array based on the provided 0-1 offsets\n     */\n    const absoluteTimes = convertOffsetToTimes(\n    // Only use the provided offsets if they're the correct length\n    // TODO Maybe we should warn here if there's a length mismatch\n    times && times.length === keyframeValues.length\n        ? times\n        : defaultOffset(keyframeValues), duration);\n    const mapTimeToKeyframe = interpolate(absoluteTimes, keyframeValues, {\n        ease: Array.isArray(easingFunctions)\n            ? easingFunctions\n            : defaultEasing(keyframeValues, easingFunctions),\n    });\n    return {\n        calculatedDuration: duration,\n        next: (t) => {\n            state.value = mapTimeToKeyframe(t);\n            state.done = t >= duration;\n            return state;\n        },\n    };\n}\n\nexport { defaultEasing, keyframes };\n","const isEasingArray = (ease) => {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { isEasingArray };\n","function convertOffsetToTimes(offset, duration) {\n    return offset.map((o) => o * duration);\n}\n\nexport { convertOffsetToTimes };\n","const isNotNull = (value) => value !== null;\nfunction getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }, finalKeyframe, speed = 1) {\n    const resolvedKeyframes = keyframes.filter(isNotNull);\n    const useFirstKeyframe = speed < 0 || (repeat && repeatType !== \"loop\" && repeat % 2 === 1);\n    const index = useFirstKeyframe ? 0 : resolvedKeyframes.length - 1;\n    return !index || finalKeyframe === undefined\n        ? resolvedKeyframes[index]\n        : finalKeyframe;\n}\n\nexport { getFinalKeyframe };\n","import { inertia } from '../generators/inertia.mjs';\nimport { keyframes } from '../generators/keyframes.mjs';\nimport { spring } from '../generators/spring/index.mjs';\n\nconst transitionTypeMap = {\n    decay: inertia,\n    inertia,\n    tween: keyframes,\n    keyframes: keyframes,\n    spring,\n};\nfunction replaceTransitionType(transition) {\n    if (typeof transition.type === \"string\") {\n        transition.type = transitionTypeMap[transition.type];\n    }\n}\n\nexport { replaceTransitionType };\n","class WithPromise {\n    constructor() {\n        this.updateFinished();\n    }\n    get finished() {\n        return this._finished;\n    }\n    updateFinished() {\n        this._finished = new Promise((resolve) => {\n            this.resolve = resolve;\n        });\n    }\n    notifyFinished() {\n        this.resolve();\n    }\n    /**\n     * Allows the animation to be awaited.\n     *\n     * @deprecated Use `finished` instead.\n     */\n    then(onResolve, onReject) {\n        return this.finished.then(onResolve, onReject);\n    }\n}\n\nexport { WithPromise };\n","import { invariant, pipe, clamp, millisecondsToSeconds, secondsToMilliseconds } from 'motion-utils';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { activeAnimations } from '../stats/animation-count.mjs';\nimport { mix } from '../utils/mix/index.mjs';\nimport { frameloopDriver } from './drivers/frame.mjs';\nimport { inertia } from './generators/inertia.mjs';\nimport { keyframes } from './generators/keyframes.mjs';\nimport { calcGeneratorDuration } from './generators/utils/calc-duration.mjs';\nimport { getFinalKeyframe } from './keyframes/get-final.mjs';\nimport { replaceTransitionType } from './utils/replace-transition-type.mjs';\nimport { WithPromise } from './utils/WithPromise.mjs';\n\nconst percentToProgress = (percent) => percent / 100;\nclass JSAnimation extends WithPromise {\n    constructor(options) {\n        super();\n        this.state = \"idle\";\n        this.startTime = null;\n        this.isStopped = false;\n        /**\n         * The current time of the animation.\n         */\n        this.currentTime = 0;\n        /**\n         * The time at which the animation was paused.\n         */\n        this.holdTime = null;\n        /**\n         * Playback speed as a factor. 0 would be stopped, -1 reverse and 2 double speed.\n         */\n        this.playbackSpeed = 1;\n        /**\n         * This method is bound to the instance to fix a pattern where\n         * animation.stop is returned as a reference from a useEffect.\n         */\n        this.stop = () => {\n            const { motionValue } = this.options;\n            if (motionValue && motionValue.updatedAt !== time.now()) {\n                this.tick(time.now());\n            }\n            this.isStopped = true;\n            if (this.state === \"idle\")\n                return;\n            this.teardown();\n            this.options.onStop?.();\n        };\n        activeAnimations.mainThread++;\n        this.options = options;\n        this.initAnimation();\n        this.play();\n        if (options.autoplay === false)\n            this.pause();\n    }\n    initAnimation() {\n        const { options } = this;\n        replaceTransitionType(options);\n        const { type = keyframes, repeat = 0, repeatDelay = 0, repeatType, velocity = 0, } = options;\n        let { keyframes: keyframes$1 } = options;\n        const generatorFactory = type || keyframes;\n        if (process.env.NODE_ENV !== \"production\" &&\n            generatorFactory !== keyframes) {\n            invariant(keyframes$1.length <= 2, `Only two keyframes currently supported with spring and inertia animations. Trying to animate ${keyframes$1}`, \"spring-two-frames\");\n        }\n        if (generatorFactory !== keyframes &&\n            typeof keyframes$1[0] !== \"number\") {\n            this.mixKeyframes = pipe(percentToProgress, mix(keyframes$1[0], keyframes$1[1]));\n            keyframes$1 = [0, 100];\n        }\n        const generator = generatorFactory({ ...options, keyframes: keyframes$1 });\n        /**\n         * If we have a mirror repeat type we need to create a second generator that outputs the\n         * mirrored (not reversed) animation and later ping pong between the two generators.\n         */\n        if (repeatType === \"mirror\") {\n            this.mirroredGenerator = generatorFactory({\n                ...options,\n                keyframes: [...keyframes$1].reverse(),\n                velocity: -velocity,\n            });\n        }\n        /**\n         * If duration is undefined and we have repeat options,\n         * we need to calculate a duration from the generator.\n         *\n         * We set it to the generator itself to cache the duration.\n         * Any timeline resolver will need to have already precalculated\n         * the duration by this step.\n         */\n        if (generator.calculatedDuration === null) {\n            generator.calculatedDuration = calcGeneratorDuration(generator);\n        }\n        const { calculatedDuration } = generator;\n        this.calculatedDuration = calculatedDuration;\n        this.resolvedDuration = calculatedDuration + repeatDelay;\n        this.totalDuration = this.resolvedDuration * (repeat + 1) - repeatDelay;\n        this.generator = generator;\n    }\n    updateTime(timestamp) {\n        const animationTime = Math.round(timestamp - this.startTime) * this.playbackSpeed;\n        // Update currentTime\n        if (this.holdTime !== null) {\n            this.currentTime = this.holdTime;\n        }\n        else {\n            // Rounding the time because floating point arithmetic is not always accurate, e.g. 3000.367 - 1000.367 =\n            // 2000.0000000000002. This is a problem when we are comparing the currentTime with the duration, for\n            // example.\n            this.currentTime = animationTime;\n        }\n    }\n    tick(timestamp, sample = false) {\n        const { generator, totalDuration, mixKeyframes, mirroredGenerator, resolvedDuration, calculatedDuration, } = this;\n        if (this.startTime === null)\n            return generator.next(0);\n        const { delay = 0, keyframes, repeat, repeatType, repeatDelay, type, onUpdate, finalKeyframe, } = this.options;\n        /**\n         * requestAnimationFrame timestamps can come through as lower than\n         * the startTime as set by performance.now(). Here we prevent this,\n         * though in the future it could be possible to make setting startTime\n         * a pending operation that gets resolved here.\n         */\n        if (this.speed > 0) {\n            this.startTime = Math.min(this.startTime, timestamp);\n        }\n        else if (this.speed < 0) {\n            this.startTime = Math.min(timestamp - totalDuration / this.speed, this.startTime);\n        }\n        if (sample) {\n            this.currentTime = timestamp;\n        }\n        else {\n            this.updateTime(timestamp);\n        }\n        // Rebase on delay\n        const timeWithoutDelay = this.currentTime - delay * (this.playbackSpeed >= 0 ? 1 : -1);\n        const isInDelayPhase = this.playbackSpeed >= 0\n            ? timeWithoutDelay < 0\n            : timeWithoutDelay > totalDuration;\n        this.currentTime = Math.max(timeWithoutDelay, 0);\n        // If this animation has finished, set the current time  to the total duration.\n        if (this.state === \"finished\" && this.holdTime === null) {\n            this.currentTime = totalDuration;\n        }\n        let elapsed = this.currentTime;\n        let frameGenerator = generator;\n        if (repeat) {\n            /**\n             * Get the current progress (0-1) of the animation. If t is >\n             * than duration we'll get values like 2.5 (midway through the\n             * third iteration)\n             */\n            const progress = Math.min(this.currentTime, totalDuration) / resolvedDuration;\n            /**\n             * Get the current iteration (0 indexed). For instance the floor of\n             * 2.5 is 2.\n             */\n            let currentIteration = Math.floor(progress);\n            /**\n             * Get the current progress of the iteration by taking the remainder\n             * so 2.5 is 0.5 through iteration 2\n             */\n            let iterationProgress = progress % 1.0;\n            /**\n             * If iteration progress is 1 we count that as the end\n             * of the previous iteration.\n             */\n            if (!iterationProgress && progress >= 1) {\n                iterationProgress = 1;\n            }\n            iterationProgress === 1 && currentIteration--;\n            currentIteration = Math.min(currentIteration, repeat + 1);\n            /**\n             * Reverse progress if we're not running in \"normal\" direction\n             */\n            const isOddIteration = Boolean(currentIteration % 2);\n            if (isOddIteration) {\n                if (repeatType === \"reverse\") {\n                    iterationProgress = 1 - iterationProgress;\n                    if (repeatDelay) {\n                        iterationProgress -= repeatDelay / resolvedDuration;\n                    }\n                }\n                else if (repeatType === \"mirror\") {\n                    frameGenerator = mirroredGenerator;\n                }\n            }\n            elapsed = clamp(0, 1, iterationProgress) * resolvedDuration;\n        }\n        /**\n         * If we're in negative time, set state as the initial keyframe.\n         * This prevents delay: x, duration: 0 animations from finishing\n         * instantly.\n         */\n        const state = isInDelayPhase\n            ? { done: false, value: keyframes[0] }\n            : frameGenerator.next(elapsed);\n        if (mixKeyframes) {\n            state.value = mixKeyframes(state.value);\n        }\n        let { done } = state;\n        if (!isInDelayPhase && calculatedDuration !== null) {\n            done =\n                this.playbackSpeed >= 0\n                    ? this.currentTime >= totalDuration\n                    : this.currentTime <= 0;\n        }\n        const isAnimationFinished = this.holdTime === null &&\n            (this.state === \"finished\" || (this.state === \"running\" && done));\n        // TODO: The exception for inertia could be cleaner here\n        if (isAnimationFinished && type !== inertia) {\n            state.value = getFinalKeyframe(keyframes, this.options, finalKeyframe, this.speed);\n        }\n        if (onUpdate) {\n            onUpdate(state.value);\n        }\n        if (isAnimationFinished) {\n            this.finish();\n        }\n        return state;\n    }\n    /**\n     * Allows the returned animation to be awaited or promise-chained. Currently\n     * resolves when the animation finishes at all but in a future update could/should\n     * reject if its cancels.\n     */\n    then(resolve, reject) {\n        return this.finished.then(resolve, reject);\n    }\n    get duration() {\n        return millisecondsToSeconds(this.calculatedDuration);\n    }\n    get time() {\n        return millisecondsToSeconds(this.currentTime);\n    }\n    set time(newTime) {\n        newTime = secondsToMilliseconds(newTime);\n        this.currentTime = newTime;\n        if (this.startTime === null ||\n            this.holdTime !== null ||\n            this.playbackSpeed === 0) {\n            this.holdTime = newTime;\n        }\n        else if (this.driver) {\n            this.startTime = this.driver.now() - newTime / this.playbackSpeed;\n        }\n        this.driver?.start(false);\n    }\n    get speed() {\n        return this.playbackSpeed;\n    }\n    set speed(newSpeed) {\n        this.updateTime(time.now());\n        const hasChanged = this.playbackSpeed !== newSpeed;\n        this.playbackSpeed = newSpeed;\n        if (hasChanged) {\n            this.time = millisecondsToSeconds(this.currentTime);\n        }\n    }\n    play() {\n        if (this.isStopped)\n            return;\n        const { driver = frameloopDriver, startTime } = this.options;\n        if (!this.driver) {\n            this.driver = driver((timestamp) => this.tick(timestamp));\n        }\n        this.options.onPlay?.();\n        const now = this.driver.now();\n        if (this.state === \"finished\") {\n            this.updateFinished();\n            this.startTime = now;\n        }\n        else if (this.holdTime !== null) {\n            this.startTime = now - this.holdTime;\n        }\n        else if (!this.startTime) {\n            this.startTime = startTime ?? now;\n        }\n        if (this.state === \"finished\" && this.speed < 0) {\n            this.startTime += this.calculatedDuration;\n        }\n        this.holdTime = null;\n        /**\n         * Set playState to running only after we've used it in\n         * the previous logic.\n         */\n        this.state = \"running\";\n        this.driver.start();\n    }\n    pause() {\n        this.state = \"paused\";\n        this.updateTime(time.now());\n        this.holdTime = this.currentTime;\n    }\n    complete() {\n        if (this.state !== \"running\") {\n            this.play();\n        }\n        this.state = \"finished\";\n        this.holdTime = null;\n    }\n    finish() {\n        this.notifyFinished();\n        this.teardown();\n        this.state = \"finished\";\n        this.options.onComplete?.();\n    }\n    cancel() {\n        this.holdTime = null;\n        this.startTime = 0;\n        this.tick(0);\n        this.teardown();\n        this.options.onCancel?.();\n    }\n    teardown() {\n        this.state = \"idle\";\n        this.stopDriver();\n        this.startTime = this.holdTime = null;\n        activeAnimations.mainThread--;\n    }\n    stopDriver() {\n        if (!this.driver)\n            return;\n        this.driver.stop();\n        this.driver = undefined;\n    }\n    sample(sampleTime) {\n        this.startTime = 0;\n        return this.tick(sampleTime, true);\n    }\n    attachTimeline(timeline) {\n        if (this.options.allowFlatten) {\n            this.options.type = \"keyframes\";\n            this.options.ease = \"linear\";\n            this.initAnimation();\n        }\n        this.driver?.stop();\n        return timeline.observe(this);\n    }\n}\n// Legacy function support\nfunction animateValue(options) {\n    return new JSAnimation(options);\n}\n\nexport { JSAnimation, animateValue };\n","/*#__NO_SIDE_EFFECTS__*/\nfunction memo(callback) {\n    let result;\n    return () => {\n        if (result === undefined)\n            result = callback();\n        return result;\n    };\n}\n\nexport { memo };\n","import { memo } from 'motion-utils';\n\nconst supportsScrollTimeline = /* @__PURE__ */ memo(() => window.ScrollTimeline !== undefined);\n\nexport { supportsScrollTimeline };\n","/**\n * Add the ability for test suites to manually set support flags\n * to better test more environments.\n */\nconst supportsFlags = {};\n\nexport { supportsFlags };\n","import { memo } from 'motion-utils';\nimport { supportsFlags } from './flags.mjs';\n\nfunction memoSupports(callback, supportsFlag) {\n    const memoized = memo(callback);\n    return () => supportsFlags[supportsFlag] ?? memoized();\n}\n\nexport { memoSupports };\n","import { memoSupports } from './memo.mjs';\n\nconst supportsLinearEasing = /*@__PURE__*/ memoSupports(() => {\n    try {\n        document\n            .createElement(\"div\")\n            .animate({ opacity: 0 }, { easing: \"linear(0, 1)\" });\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n}, \"linearEasing\");\n\nexport { supportsLinearEasing };\n","const cubicBezierAsString = ([a, b, c, d]) => `cubic-bezier(${a}, ${b}, ${c}, ${d})`;\n\nexport { cubicBezierAsString };\n","import { cubicBezierAsString } from './cubic-bezier.mjs';\n\nconst supportedWaapiEasing = {\n    linear: \"linear\",\n    ease: \"ease\",\n    easeIn: \"ease-in\",\n    easeOut: \"ease-out\",\n    easeInOut: \"ease-in-out\",\n    circIn: /*@__PURE__*/ cubicBezierAsString([0, 0.65, 0.55, 1]),\n    circOut: /*@__PURE__*/ cubicBezierAsString([0.55, 0, 1, 0.45]),\n    backIn: /*@__PURE__*/ cubicBezierAsString([0.31, 0.01, 0.66, -0.59]),\n    backOut: /*@__PURE__*/ cubicBezierAsString([0.33, 1.53, 0.69, 0.99]),\n};\n\nexport { supportedWaapiEasing };\n","import { isBezierDefinition } from 'motion-utils';\nimport { supportsLinearEasing } from '../../../utils/supports/linear-easing.mjs';\nimport { generateLinearEasing } from '../utils/linear.mjs';\nimport { cubicBezierAsString } from './cubic-bezier.mjs';\nimport { supportedWaapiEasing } from './supported.mjs';\n\nfunction mapEasingToNativeEasing(easing, duration) {\n    if (!easing) {\n        return undefined;\n    }\n    else if (typeof easing === \"function\") {\n        return supportsLinearEasing()\n            ? generateLinearEasing(easing, duration)\n            : \"ease-out\";\n    }\n    else if (isBezierDefinition(easing)) {\n        return cubicBezierAsString(easing);\n    }\n    else if (Array.isArray(easing)) {\n        return easing.map((segmentEasing) => mapEasingToNativeEasing(segmentEasing, duration) ||\n            supportedWaapiEasing.easeOut);\n    }\n    else {\n        return supportedWaapiEasing[easing];\n    }\n}\n\nexport { mapEasingToNativeEasing };\n","import { activeAnimations } from '../../stats/animation-count.mjs';\nimport { statsBuffer } from '../../stats/buffer.mjs';\nimport { mapEasingToNativeEasing } from './easing/map-easing.mjs';\n\nfunction startWaapiAnimation(element, valueName, keyframes, { delay = 0, duration = 300, repeat = 0, repeatType = \"loop\", ease = \"easeOut\", times, } = {}, pseudoElement = undefined) {\n    const keyframeOptions = {\n        [valueName]: keyframes,\n    };\n    if (times)\n        keyframeOptions.offset = times;\n    const easing = mapEasingToNativeEasing(ease, duration);\n    /**\n     * If this is an easing array, apply to keyframes, not animation as a whole\n     */\n    if (Array.isArray(easing))\n        keyframeOptions.easing = easing;\n    if (statsBuffer.value) {\n        activeAnimations.waapi++;\n    }\n    const options = {\n        delay,\n        duration,\n        easing: !Array.isArray(easing) ? easing : \"linear\",\n        fill: \"both\",\n        iterations: repeat + 1,\n        direction: repeatType === \"reverse\" ? \"alternate\" : \"normal\",\n    };\n    if (pseudoElement)\n        options.pseudoElement = pseudoElement;\n    const animation = element.animate(keyframeOptions, options);\n    if (statsBuffer.value) {\n        animation.finished.finally(() => {\n            activeAnimations.waapi--;\n        });\n    }\n    return animation;\n}\n\nexport { startWaapiAnimation };\n","function isGenerator(type) {\n    return typeof type === \"function\" && \"applyToOptions\" in type;\n}\n\nexport { isGenerator };\n","import { invariant, millisecondsToSeconds, secondsToMilliseconds, noop } from 'motion-utils';\nimport { setStyle } from '../render/dom/style-set.mjs';\nimport { supportsScrollTimeline } from '../utils/supports/scroll-timeline.mjs';\nimport { getFinalKeyframe } from './keyframes/get-final.mjs';\nimport { WithPromise } from './utils/WithPromise.mjs';\nimport { startWaapiAnimation } from './waapi/start-waapi-animation.mjs';\nimport { applyGeneratorOptions } from './waapi/utils/apply-generator.mjs';\n\n/**\n * NativeAnimation implements AnimationPlaybackControls for the browser's Web Animations API.\n */\nclass NativeAnimation extends WithPromise {\n    constructor(options) {\n        super();\n        this.finishedTime = null;\n        this.isStopped = false;\n        if (!options)\n            return;\n        const { element, name, keyframes, pseudoElement, allowFlatten = false, finalKeyframe, onComplete, } = options;\n        this.isPseudoElement = Boolean(pseudoElement);\n        this.allowFlatten = allowFlatten;\n        this.options = options;\n        invariant(typeof options.type !== \"string\", `Mini animate() doesn't support \"type\" as a string.`, \"mini-spring\");\n        const transition = applyGeneratorOptions(options);\n        this.animation = startWaapiAnimation(element, name, keyframes, transition, pseudoElement);\n        if (transition.autoplay === false) {\n            this.animation.pause();\n        }\n        this.animation.onfinish = () => {\n            this.finishedTime = this.time;\n            if (!pseudoElement) {\n                const keyframe = getFinalKeyframe(keyframes, this.options, finalKeyframe, this.speed);\n                if (this.updateMotionValue) {\n                    this.updateMotionValue(keyframe);\n                }\n                else {\n                    /**\n                     * If we can, we want to commit the final style as set by the user,\n                     * rather than the computed keyframe value supplied by the animation.\n                     */\n                    setStyle(element, name, keyframe);\n                }\n                this.animation.cancel();\n            }\n            onComplete?.();\n            this.notifyFinished();\n        };\n    }\n    play() {\n        if (this.isStopped)\n            return;\n        this.animation.play();\n        if (this.state === \"finished\") {\n            this.updateFinished();\n        }\n    }\n    pause() {\n        this.animation.pause();\n    }\n    complete() {\n        this.animation.finish?.();\n    }\n    cancel() {\n        try {\n            this.animation.cancel();\n        }\n        catch (e) { }\n    }\n    stop() {\n        if (this.isStopped)\n            return;\n        this.isStopped = true;\n        const { state } = this;\n        if (state === \"idle\" || state === \"finished\") {\n            return;\n        }\n        if (this.updateMotionValue) {\n            this.updateMotionValue();\n        }\n        else {\n            this.commitStyles();\n        }\n        if (!this.isPseudoElement)\n            this.cancel();\n    }\n    /**\n     * WAAPI doesn't natively have any interruption capabilities.\n     *\n     * In this method, we commit styles back to the DOM before cancelling\n     * the animation.\n     *\n     * This is designed to be overridden by NativeAnimationExtended, which\n     * will create a renderless JS animation and sample it twice to calculate\n     * its current value, \"previous\" value, and therefore allow\n     * Motion to also correctly calculate velocity for any subsequent animation\n     * while deferring the commit until the next animation frame.\n     */\n    commitStyles() {\n        if (!this.isPseudoElement) {\n            this.animation.commitStyles?.();\n        }\n    }\n    get duration() {\n        const duration = this.animation.effect?.getComputedTiming?.().duration || 0;\n        return millisecondsToSeconds(Number(duration));\n    }\n    get time() {\n        return millisecondsToSeconds(Number(this.animation.currentTime) || 0);\n    }\n    set time(newTime) {\n        this.finishedTime = null;\n        this.animation.currentTime = secondsToMilliseconds(newTime);\n    }\n    /**\n     * The playback speed of the animation.\n     * 1 = normal speed, 2 = double speed, 0.5 = half speed.\n     */\n    get speed() {\n        return this.animation.playbackRate;\n    }\n    set speed(newSpeed) {\n        // Allow backwards playback after finishing\n        if (newSpeed < 0)\n            this.finishedTime = null;\n        this.animation.playbackRate = newSpeed;\n    }\n    get state() {\n        return this.finishedTime !== null\n            ? \"finished\"\n            : this.animation.playState;\n    }\n    get startTime() {\n        return Number(this.animation.startTime);\n    }\n    set startTime(newStartTime) {\n        this.animation.startTime = newStartTime;\n    }\n    /**\n     * Attaches a timeline to the animation, for instance the `ScrollTimeline`.\n     */\n    attachTimeline({ timeline, observe }) {\n        if (this.allowFlatten) {\n            this.animation.effect?.updateTiming({ easing: \"linear\" });\n        }\n        this.animation.onfinish = null;\n        if (timeline && supportsScrollTimeline()) {\n            this.animation.timeline = timeline;\n            return noop;\n        }\n        else {\n            return observe(this);\n        }\n    }\n}\n\nexport { NativeAnimation };\n","import { supportsLinearEasing } from '../../../utils/supports/linear-easing.mjs';\nimport { isGenerator } from '../../generators/utils/is-generator.mjs';\n\nfunction applyGeneratorOptions({ type, ...options }) {\n    if (isGenerator(type) && supportsLinearEasing()) {\n        return type.applyToOptions(options);\n    }\n    else {\n        options.duration ?? (options.duration = 300);\n        options.ease ?? (options.ease = \"easeOut\");\n    }\n    return options;\n}\n\nexport { applyGeneratorOptions };\n","import { isCSSVar } from './is-css-var.mjs';\n\nfunction setStyle(element, name, value) {\n    isCSSVar(name)\n        ? element.style.setProperty(name, value)\n        : (element.style[name] = value);\n}\n\nexport { setStyle };\n","const isCSSVar = (name) => name.startsWith(\"--\");\n\nexport { isCSSVar };\n","import { anticipate, backInOut, circInOut } from 'motion-utils';\n\nconst unsupportedEasingFunctions = {\n    anticipate,\n    backInOut,\n    circInOut,\n};\nfunction isUnsupportedEase(key) {\n    return key in unsupportedEasingFunctions;\n}\nfunction replaceStringEasing(transition) {\n    if (typeof transition.ease === \"string\" &&\n        isUnsupportedEase(transition.ease)) {\n        transition.ease = unsupportedEasingFunctions[transition.ease];\n    }\n}\n\nexport { replaceStringEasing };\n","import { secondsToMilliseconds } from 'motion-utils';\nimport { JSAnimation } from './JSAnimation.mjs';\nimport { NativeAnimation } from './NativeAnimation.mjs';\nimport { replaceTransitionType } from './utils/replace-transition-type.mjs';\nimport { replaceStringEasing } from './waapi/utils/unsupported-easing.mjs';\n\n/**\n * 10ms is chosen here as it strikes a balance between smooth\n * results (more than one keyframe per frame at 60fps) and\n * keyframe quantity.\n */\nconst sampleDelta = 10; //ms\nclass NativeAnimationExtended extends NativeAnimation {\n    constructor(options) {\n        /**\n         * The base NativeAnimation function only supports a subset\n         * of Motion easings, and WAAPI also only supports some\n         * easing functions via string/cubic-bezier definitions.\n         *\n         * This function replaces those unsupported easing functions\n         * with a JS easing function. This will later get compiled\n         * to a linear() easing function.\n         */\n        replaceStringEasing(options);\n        /**\n         * Ensure we replace the transition type with a generator function\n         * before passing to WAAPI.\n         *\n         * TODO: Does this have a better home? It could be shared with\n         * JSAnimation.\n         */\n        replaceTransitionType(options);\n        super(options);\n        if (options.startTime) {\n            this.startTime = options.startTime;\n        }\n        this.options = options;\n    }\n    /**\n     * WAAPI doesn't natively have any interruption capabilities.\n     *\n     * Rather than read commited styles back out of the DOM, we can\n     * create a renderless JS animation and sample it twice to calculate\n     * its current value, \"previous\" value, and therefore allow\n     * Motion to calculate velocity for any subsequent animation.\n     */\n    updateMotionValue(value) {\n        const { motionValue, onUpdate, onComplete, element, ...options } = this.options;\n        if (!motionValue)\n            return;\n        if (value !== undefined) {\n            motionValue.set(value);\n            return;\n        }\n        const sampleAnimation = new JSAnimation({\n            ...options,\n            autoplay: false,\n        });\n        const sampleTime = secondsToMilliseconds(this.finishedTime ?? this.time);\n        motionValue.setWithVelocity(sampleAnimation.sample(sampleTime - sampleDelta).value, sampleAnimation.sample(sampleTime).value, sampleDelta);\n        sampleAnimation.stop();\n    }\n}\n\nexport { NativeAnimationExtended };\n","import { complex } from '../../value/types/complex/index.mjs';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * : 100, \"100px\", \"#fff\"\n * : \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nconst isAnimatable = (value, name) => {\n    // If the list of keys that might be non-animatable grows, replace with Set\n    if (name === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        (complex.test(value) || value === \"0\") && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { memo } from 'motion-utils';\n\n/**\n * A list of values that can be hardware-accelerated.\n */\nconst acceleratedValues = new Set([\n    \"opacity\",\n    \"clipPath\",\n    \"filter\",\n    \"transform\",\n    // TODO: Could be re-enabled now we have support for linear() easing\n    // \"background-color\"\n]);\nconst supportsWaapi = /*@__PURE__*/ memo(() => Object.hasOwnProperty.call(Element.prototype, \"animate\"));\nfunction supportsBrowserAnimation(options) {\n    const { motionValue, name, repeatDelay, repeatType, damping, type } = options;\n    const subject = motionValue?.owner?.current;\n    /**\n     * We use this check instead of isHTMLElement() because we explicitly\n     * **don't** want elements in different timing contexts (i.e. popups)\n     * to be accelerated, as it's not possible to sync these animations\n     * properly with those driven from the main window frameloop.\n     */\n    if (!(subject instanceof HTMLElement)) {\n        return false;\n    }\n    const { onUpdate, transformTemplate } = motionValue.owner.getProps();\n    return (supportsWaapi() &&\n        name &&\n        acceleratedValues.has(name) &&\n        (name !== \"transform\" || !transformTemplate) &&\n        /**\n         * If we're outputting values to onUpdate then we can't use WAAPI as there's\n         * no way to read the value from WAAPI every frame.\n         */\n        !onUpdate &&\n        !repeatDelay &&\n        repeatType !== \"mirror\" &&\n        damping !== 0 &&\n        type !== \"inertia\");\n}\n\nexport { supportsBrowserAnimation };\n","import { MotionGlobalConfig, noop } from 'motion-utils';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { JSAnimation } from './JSAnimation.mjs';\nimport { getFinalKeyframe } from './keyframes/get-final.mjs';\nimport { KeyframeResolver, flushKeyframeResolvers } from './keyframes/KeyframesResolver.mjs';\nimport { NativeAnimationExtended } from './NativeAnimationExtended.mjs';\nimport { canAnimate } from './utils/can-animate.mjs';\nimport { makeAnimationInstant } from './utils/make-animation-instant.mjs';\nimport { WithPromise } from './utils/WithPromise.mjs';\nimport { supportsBrowserAnimation } from './waapi/supports/waapi.mjs';\n\n/**\n * Maximum time allowed between an animation being created and it being\n * resolved for us to use the latter as the start time.\n *\n * This is to ensure that while we prefer to \"start\" an animation as soon\n * as it's triggered, we also want to avoid a visual jump if there's a big delay\n * between these two moments.\n */\nconst MAX_RESOLVE_DELAY = 40;\nclass AsyncMotionValueAnimation extends WithPromise {\n    constructor({ autoplay = true, delay = 0, type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType = \"loop\", keyframes, name, motionValue, element, ...options }) {\n        super();\n        /**\n         * Bound to support return animation.stop pattern\n         */\n        this.stop = () => {\n            if (this._animation) {\n                this._animation.stop();\n                this.stopTimeline?.();\n            }\n            this.keyframeResolver?.cancel();\n        };\n        this.createdAt = time.now();\n        const optionsWithDefaults = {\n            autoplay,\n            delay,\n            type,\n            repeat,\n            repeatDelay,\n            repeatType,\n            name,\n            motionValue,\n            element,\n            ...options,\n        };\n        const KeyframeResolver$1 = element?.KeyframeResolver || KeyframeResolver;\n        this.keyframeResolver = new KeyframeResolver$1(keyframes, (resolvedKeyframes, finalKeyframe, forced) => this.onKeyframesResolved(resolvedKeyframes, finalKeyframe, optionsWithDefaults, !forced), name, motionValue, element);\n        this.keyframeResolver?.scheduleResolve();\n    }\n    onKeyframesResolved(keyframes, finalKeyframe, options, sync) {\n        this.keyframeResolver = undefined;\n        const { name, type, velocity, delay, isHandoff, onUpdate } = options;\n        this.resolvedAt = time.now();\n        /**\n         * If we can't animate this value with the resolved keyframes\n         * then we should complete it immediately.\n         */\n        if (!canAnimate(keyframes, name, type, velocity)) {\n            if (MotionGlobalConfig.instantAnimations || !delay) {\n                onUpdate?.(getFinalKeyframe(keyframes, options, finalKeyframe));\n            }\n            keyframes[0] = keyframes[keyframes.length - 1];\n            makeAnimationInstant(options);\n            options.repeat = 0;\n        }\n        /**\n         * Resolve startTime for the animation.\n         *\n         * This method uses the createdAt and resolvedAt to calculate the\n         * animation startTime. *Ideally*, we would use the createdAt time as t=0\n         * as the following frame would then be the first frame of the animation in\n         * progress, which would feel snappier.\n         *\n         * However, if there's a delay (main thread work) between the creation of\n         * the animation and the first commited frame, we prefer to use resolvedAt\n         * to avoid a sudden jump into the animation.\n         */\n        const startTime = sync\n            ? !this.resolvedAt\n                ? this.createdAt\n                : this.resolvedAt - this.createdAt > MAX_RESOLVE_DELAY\n                    ? this.resolvedAt\n                    : this.createdAt\n            : undefined;\n        const resolvedOptions = {\n            startTime,\n            finalKeyframe,\n            ...options,\n            keyframes,\n        };\n        /**\n         * Animate via WAAPI if possible. If this is a handoff animation, the optimised animation will be running via\n         * WAAPI. Therefore, this animation must be JS to ensure it runs \"under\" the\n         * optimised animation.\n         */\n        const animation = !isHandoff && supportsBrowserAnimation(resolvedOptions)\n            ? new NativeAnimationExtended({\n                ...resolvedOptions,\n                element: resolvedOptions.motionValue.owner.current,\n            })\n            : new JSAnimation(resolvedOptions);\n        animation.finished.then(() => this.notifyFinished()).catch(noop);\n        if (this.pendingTimeline) {\n            this.stopTimeline = animation.attachTimeline(this.pendingTimeline);\n            this.pendingTimeline = undefined;\n        }\n        this._animation = animation;\n    }\n    get finished() {\n        if (!this._animation) {\n            return this._finished;\n        }\n        else {\n            return this.animation.finished;\n        }\n    }\n    then(onResolve, _onReject) {\n        return this.finished.finally(onResolve).then(() => { });\n    }\n    get animation() {\n        if (!this._animation) {\n            this.keyframeResolver?.resume();\n            flushKeyframeResolvers();\n        }\n        return this._animation;\n    }\n    get duration() {\n        return this.animation.duration;\n    }\n    get time() {\n        return this.animation.time;\n    }\n    set time(newTime) {\n        this.animation.time = newTime;\n    }\n    get speed() {\n        return this.animation.speed;\n    }\n    get state() {\n        return this.animation.state;\n    }\n    set speed(newSpeed) {\n        this.animation.speed = newSpeed;\n    }\n    get startTime() {\n        return this.animation.startTime;\n    }\n    attachTimeline(timeline) {\n        if (this._animation) {\n            this.stopTimeline = this.animation.attachTimeline(timeline);\n        }\n        else {\n            this.pendingTimeline = timeline;\n        }\n        return () => this.stop();\n    }\n    play() {\n        this.animation.play();\n    }\n    pause() {\n        this.animation.pause();\n    }\n    complete() {\n        this.animation.complete();\n    }\n    cancel() {\n        if (this._animation) {\n            this.animation.cancel();\n        }\n        this.keyframeResolver?.cancel();\n    }\n}\n\nexport { AsyncMotionValueAnimation };\n","import { warning } from 'motion-utils';\nimport { isGenerator } from '../generators/utils/is-generator.mjs';\nimport { isAnimatable } from './is-animatable.mjs';\n\nfunction hasKeyframesChanged(keyframes) {\n    const current = keyframes[0];\n    if (keyframes.length === 1)\n        return true;\n    for (let i = 0; i < keyframes.length; i++) {\n        if (keyframes[i] !== current)\n            return true;\n    }\n}\nfunction canAnimate(keyframes, name, type, velocity) {\n    /**\n     * Check if we're able to animate between the start and end keyframes,\n     * and throw a warning if we're attempting to animate between one that's\n     * animatable and another that isn't.\n     */\n    const originKeyframe = keyframes[0];\n    if (originKeyframe === null)\n        return false;\n    /**\n     * These aren't traditionally animatable but we do support them.\n     * In future we could look into making this more generic or replacing\n     * this function with mix() === mixImmediate\n     */\n    if (name === \"display\" || name === \"visibility\")\n        return true;\n    const targetKeyframe = keyframes[keyframes.length - 1];\n    const isOriginAnimatable = isAnimatable(originKeyframe, name);\n    const isTargetAnimatable = isAnimatable(targetKeyframe, name);\n    warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${name} from \"${originKeyframe}\" to \"${targetKeyframe}\". \"${isOriginAnimatable ? targetKeyframe : originKeyframe}\" is not an animatable value.`, \"value-not-animatable\");\n    // Always skip if any of these are true\n    if (!isOriginAnimatable || !isTargetAnimatable) {\n        return false;\n    }\n    return (hasKeyframesChanged(keyframes) ||\n        ((type === \"spring\" || isGenerator(type)) && velocity));\n}\n\nexport { canAnimate };\n","const isNotNull = (value) => value !== null;\nfunction getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }, finalKeyframe) {\n    const resolvedKeyframes = keyframes.filter(isNotNull);\n    const index = repeat && repeatType !== \"loop\" && repeat % 2 === 1\n        ? 0\n        : resolvedKeyframes.length - 1;\n    return !index || finalKeyframe === undefined\n        ? resolvedKeyframes[index]\n        : finalKeyframe;\n}\n\nexport { getFinalKeyframe };\n","import { transformProps } from 'motion-dom';\n\nconst underDampedSpring = {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restSpeed: 10,\n};\nconst criticallyDampedSpring = (target) => ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: target === 0 ? 2 * Math.sqrt(550) : 30,\n    restSpeed: 10,\n});\nconst keyframesTransition = {\n    type: \"keyframes\",\n    duration: 0.8,\n};\n/**\n * Default easing curve is a slightly shallower version of\n * the default browser easing curve.\n */\nconst ease = {\n    type: \"keyframes\",\n    ease: [0.25, 0.1, 0.35, 1],\n    duration: 0.3,\n};\nconst getDefaultTransition = (valueKey, { keyframes }) => {\n    if (keyframes.length > 2) {\n        return keyframesTransition;\n    }\n    else if (transformProps.has(valueKey)) {\n        return valueKey.startsWith(\"scale\")\n            ? criticallyDampedSpring(keyframes[1])\n            : underDampedSpring;\n    }\n    return ease;\n};\n\nexport { getDefaultTransition };\n","import { getValueTransition, makeAnimationInstant, frame, JSAnimation, AsyncMotionValueAnimation } from 'motion-dom';\nimport { secondsToMilliseconds, MotionGlobalConfig } from 'motion-utils';\nimport { getFinalKeyframe } from '../animators/waapi/utils/get-final-keyframe.mjs';\nimport { getDefaultTransition } from '../utils/default-transitions.mjs';\nimport { isTransitionDefined } from '../utils/is-transition-defined.mjs';\n\nconst animateMotionValue = (name, value, target, transition = {}, element, isHandoff) => (onComplete) => {\n    const valueTransition = getValueTransition(transition, name) || {};\n    /**\n     * Most transition values are currently completely overwritten by value-specific\n     * transitions. In the future it'd be nicer to blend these transitions. But for now\n     * delay actually does inherit from the root transition if not value-specific.\n     */\n    const delay = valueTransition.delay || transition.delay || 0;\n    /**\n     * Elapsed isn't a public transition option but can be passed through from\n     * optimized appear effects in milliseconds.\n     */\n    let { elapsed = 0 } = transition;\n    elapsed = elapsed - secondsToMilliseconds(delay);\n    const options = {\n        keyframes: Array.isArray(target) ? target : [null, target],\n        ease: \"easeOut\",\n        velocity: value.getVelocity(),\n        ...valueTransition,\n        delay: -elapsed,\n        onUpdate: (v) => {\n            value.set(v);\n            valueTransition.onUpdate && valueTransition.onUpdate(v);\n        },\n        onComplete: () => {\n            onComplete();\n            valueTransition.onComplete && valueTransition.onComplete();\n        },\n        name,\n        motionValue: value,\n        element: isHandoff ? undefined : element,\n    };\n    /**\n     * If there's no transition defined for this value, we can generate\n     * unique transition settings for this value.\n     */\n    if (!isTransitionDefined(valueTransition)) {\n        Object.assign(options, getDefaultTransition(name, options));\n    }\n    /**\n     * Both WAAPI and our internal animation functions use durations\n     * as defined by milliseconds, while our external API defines them\n     * as seconds.\n     */\n    options.duration && (options.duration = secondsToMilliseconds(options.duration));\n    options.repeatDelay && (options.repeatDelay = secondsToMilliseconds(options.repeatDelay));\n    /**\n     * Support deprecated way to set initial value. Prefer keyframe syntax.\n     */\n    if (options.from !== undefined) {\n        options.keyframes[0] = options.from;\n    }\n    let shouldSkip = false;\n    if (options.type === false ||\n        (options.duration === 0 && !options.repeatDelay)) {\n        makeAnimationInstant(options);\n        if (options.delay === 0) {\n            shouldSkip = true;\n        }\n    }\n    if (MotionGlobalConfig.instantAnimations ||\n        MotionGlobalConfig.skipAnimations) {\n        shouldSkip = true;\n        makeAnimationInstant(options);\n        options.delay = 0;\n    }\n    /**\n     * If the transition type or easing has been explicitly set by the user\n     * then we don't want to allow flattening the animation.\n     */\n    options.allowFlatten = !valueTransition.type && !valueTransition.ease;\n    /**\n     * If we can or must skip creating the animation, and apply only\n     * the final keyframe, do so. We also check once keyframes are resolved but\n     * this early check prevents the need to create an animation at all.\n     */\n    if (shouldSkip && !isHandoff && value.get() !== undefined) {\n        const finalKeyframe = getFinalKeyframe(options.keyframes, valueTransition);\n        if (finalKeyframe !== undefined) {\n            frame.update(() => {\n                options.onUpdate(finalKeyframe);\n                options.onComplete();\n            });\n            return;\n        }\n    }\n    return valueTransition.isSync\n        ? new JSAnimation(options)\n        : new AsyncMotionValueAnimation(options);\n};\n\nexport { animateMotionValue };\n","/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined({ when, delay: _delay, delayChildren, staggerChildren, staggerDirection, repeat, repeatType, repeatDelay, from, elapsed, ...transition }) {\n    return !!Object.keys(transition).length;\n}\n\nexport { isTransitionDefined };\n","import { getValueTransition, frame, positionalKeys } from 'motion-dom';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { addValueToWillChange } from '../../value/use-will-change/add-will-change.mjs';\nimport { getOptimisedAppearId } from '../optimized-appear/get-appear-id.mjs';\nimport { animateMotionValue } from './motion-value.mjs';\n\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation({ protectedKeys, needsAnimating }, key) {\n    const shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\nfunction animateTarget(visualElement, targetAndTransition, { delay = 0, transitionOverride, type } = {}) {\n    let { transition = visualElement.getDefaultTransition(), transitionEnd, ...target } = targetAndTransition;\n    if (transitionOverride)\n        transition = transitionOverride;\n    const animations = [];\n    const animationTypeState = type &&\n        visualElement.animationState &&\n        visualElement.animationState.getState()[type];\n    for (const key in target) {\n        const value = visualElement.getValue(key, visualElement.latestValues[key] ?? null);\n        const valueTarget = target[key];\n        if (valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        const valueTransition = {\n            delay,\n            ...getValueTransition(transition || {}, key),\n        };\n        /**\n         * If the value is already at the defined target, skip the animation.\n         */\n        const currentValue = value.get();\n        if (currentValue !== undefined &&\n            !value.isAnimating &&\n            !Array.isArray(valueTarget) &&\n            valueTarget === currentValue &&\n            !valueTransition.velocity) {\n            continue;\n        }\n        /**\n         * If this is the first time a value is being animated, check\n         * to see if we're handling off from an existing animation.\n         */\n        let isHandoff = false;\n        if (window.MotionHandoffAnimation) {\n            const appearId = getOptimisedAppearId(visualElement);\n            if (appearId) {\n                const startTime = window.MotionHandoffAnimation(appearId, key, frame);\n                if (startTime !== null) {\n                    valueTransition.startTime = startTime;\n                    isHandoff = true;\n                }\n            }\n        }\n        addValueToWillChange(visualElement, key);\n        value.start(animateMotionValue(key, value, valueTarget, visualElement.shouldReduceMotion && positionalKeys.has(key)\n            ? { type: false }\n            : valueTransition, visualElement, isHandoff));\n        const animation = value.animation;\n        if (animation) {\n            animations.push(animation);\n        }\n    }\n    if (transitionEnd) {\n        Promise.all(animations).then(() => {\n            frame.update(() => {\n                transitionEnd && setTarget(visualElement, transitionEnd);\n            });\n        });\n    }\n    return animations;\n}\n\nexport { animateTarget };\n","function calcChildStagger(children, child, delayChildren, staggerChildren = 0, staggerDirection = 1) {\n    const index = Array.from(children)\n        .sort((a, b) => a.sortNodePosition(b))\n        .indexOf(child);\n    const numChildren = children.size;\n    const maxStaggerDuration = (numChildren - 1) * staggerChildren;\n    const delayIsFunction = typeof delayChildren === \"function\";\n    return delayIsFunction\n        ? delayChildren(index, numChildren)\n        : staggerDirection === 1\n            ? index * staggerChildren\n            : maxStaggerDuration - index * staggerChildren;\n}\n\nexport { calcChildStagger };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { calcChildStagger } from '../utils/calc-child-stagger.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\n\nfunction animateVariant(visualElement, variant, options = {}) {\n    const resolved = resolveVariant(visualElement, variant, options.type === \"exit\"\n        ? visualElement.presenceContext?.custom\n        : undefined);\n    let { transition = visualElement.getDefaultTransition() || {} } = resolved || {};\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getAnimation = resolved\n        ? () => Promise.all(animateTarget(visualElement, resolved, options))\n        : () => Promise.resolve();\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getChildAnimations = visualElement.variantChildren && visualElement.variantChildren.size\n        ? (forwardDelay = 0) => {\n            const { delayChildren = 0, staggerChildren, staggerDirection, } = transition;\n            return animateChildren(visualElement, variant, forwardDelay, delayChildren, staggerChildren, staggerDirection, options);\n        }\n        : () => Promise.resolve();\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    const { when } = transition;\n    if (when) {\n        const [first, last] = when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation];\n        return first().then(() => last());\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\nfunction animateChildren(visualElement, variant, delay = 0, delayChildren = 0, staggerChildren = 0, staggerDirection = 1, options) {\n    const animations = [];\n    for (const child of visualElement.variantChildren) {\n        child.notify(\"AnimationStart\", variant);\n        animations.push(animateVariant(child, variant, {\n            ...options,\n            delay: delay +\n                (typeof delayChildren === \"function\" ? 0 : delayChildren) +\n                calcChildStagger(visualElement.variantChildren, child, delayChildren, staggerChildren, staggerDirection),\n        }).then(() => child.notify(\"AnimationComplete\", variant)));\n    }\n    return Promise.all(animations);\n}\n\nexport { animateVariant };\n","function shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    const prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (let i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\nexport { shallowCompare };\n","import { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nconst numVariantProps = variantProps.length;\nfunction getVariantContext(visualElement) {\n    if (!visualElement)\n        return undefined;\n    if (!visualElement.isControllingVariants) {\n        const context = visualElement.parent\n            ? getVariantContext(visualElement.parent) || {}\n            : {};\n        if (visualElement.props.initial !== undefined) {\n            context.initial = visualElement.props.initial;\n        }\n        return context;\n    }\n    const context = {};\n    for (let i = 0; i < numVariantProps; i++) {\n        const name = variantProps[i];\n        const prop = visualElement.props[name];\n        if (isVariantLabel(prop) || prop === false) {\n            context[name] = prop;\n        }\n    }\n    return context;\n}\n\nexport { getVariantContext };\n","import { animateVisualElement } from '../../animation/interfaces/visual-element.mjs';\nimport { calcChildStagger } from '../../animation/utils/calc-child-stagger.mjs';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { shallowCompare } from '../../utils/shallow-compare.mjs';\nimport { getVariantContext } from './get-variant-context.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\nimport { variantPriorityOrder } from './variant-props.mjs';\n\nconst reversePriorityOrder = [...variantPriorityOrder].reverse();\nconst numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return (animations) => Promise.all(animations.map(({ animation, options }) => animateVisualElement(visualElement, animation, options)));\n}\nfunction createAnimationState(visualElement) {\n    let animate = animateList(visualElement);\n    let state = createState();\n    let isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    const buildResolvedTypeValues = (type) => (acc, definition) => {\n        const resolved = resolveVariant(visualElement, definition, type === \"exit\"\n            ? visualElement.presenceContext?.custom\n            : undefined);\n        if (resolved) {\n            const { transition, transitionEnd, ...target } = resolved;\n            acc = { ...acc, ...target, ...transitionEnd };\n        }\n        return acc;\n    };\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(changedActiveType) {\n        const { props } = visualElement;\n        const context = getVariantContext(visualElement.parent) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        const animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        const removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        let encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        let removedVariantIndex = Infinity;\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (let i = 0; i < numAnimationTypes; i++) {\n            const type = reversePriorityOrder[i];\n            const typeState = state[type];\n            const prop = props[type] !== undefined\n                ? props[type]\n                : context[type];\n            const propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            const activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            let isInherited = prop === context[type] &&\n                prop !== props[type] &&\n                propIsVariant;\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = { ...encounteredKeys };\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                continue;\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            const variantDidChange = checkVariantsDidChange(typeState.prevProp, prop);\n            let shouldAnimateType = variantDidChange ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            let handledRemovedValues = false;\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            const definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            let resolvedValues = definitionList.reduce(buildResolvedTypeValues(type), {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            const { prevResolvedValues = {} } = typeState;\n            const allKeys = {\n                ...prevResolvedValues,\n                ...resolvedValues,\n            };\n            const markToAnimate = (key) => {\n                shouldAnimateType = true;\n                if (removedKeys.has(key)) {\n                    handledRemovedValues = true;\n                    removedKeys.delete(key);\n                }\n                typeState.needsAnimating[key] = true;\n                const motionValue = visualElement.getValue(key);\n                if (motionValue)\n                    motionValue.liveStyle = false;\n            };\n            for (const key in allKeys) {\n                const next = resolvedValues[key];\n                const prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                let valueHasChanged = false;\n                if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                    valueHasChanged = !shallowCompare(next, prev);\n                }\n                else {\n                    valueHasChanged = next !== prev;\n                }\n                if (valueHasChanged) {\n                    if (next !== undefined && next !== null) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            if (typeState.isActive) {\n                encounteredKeys = { ...encounteredKeys, ...resolvedValues };\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to skip this animation\n             * unless the inherited variants haven't changed on this render.\n             */\n            const willAnimateViaParent = isInherited && variantDidChange;\n            const needsAnimating = !willAnimateViaParent || handledRemovedValues;\n            if (shouldAnimateType && needsAnimating) {\n                animations.push(...definitionList.map((animation) => {\n                    const options = { type };\n                    /**\n                     * If we're performing the initial animation, but we're not\n                     * rendering at the same time as the variant-controlling parent,\n                     * we want to use the parent's transition to calculate the stagger.\n                     */\n                    if (typeof animation === \"string\" &&\n                        isInitialRender &&\n                        !willAnimateViaParent &&\n                        visualElement.manuallyAnimateOnMount &&\n                        visualElement.parent) {\n                        const { parent } = visualElement;\n                        const parentVariant = resolveVariant(parent, animation);\n                        if (parent.enteringChildren && parentVariant) {\n                            const { delayChildren } = parentVariant.transition || {};\n                            options.delay = calcChildStagger(parent.enteringChildren, visualElement, delayChildren);\n                        }\n                    }\n                    return {\n                        animation: animation,\n                        options,\n                    };\n                }));\n            }\n        }\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            const fallbackAnimation = {};\n            /**\n             * If the initial prop contains a transition we can use that, otherwise\n             * allow the animation function to use the visual element's default.\n             */\n            if (typeof props.initial !== \"boolean\") {\n                const initialTransition = resolveVariant(visualElement, Array.isArray(props.initial)\n                    ? props.initial[0]\n                    : props.initial);\n                if (initialTransition && initialTransition.transition) {\n                    fallbackAnimation.transition = initialTransition.transition;\n                }\n            }\n            removedKeys.forEach((key) => {\n                const fallbackTarget = visualElement.getBaseTarget(key);\n                const motionValue = visualElement.getValue(key);\n                if (motionValue)\n                    motionValue.liveStyle = true;\n                // @ts-expect-error - @mattgperry to figure if we should do something here\n                fallbackAnimation[key] = fallbackTarget ?? null;\n            });\n            animations.push({ animation: fallbackAnimation });\n        }\n        let shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            (props.initial === false || props.initial === props.animate) &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive) {\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        visualElement.variantChildren?.forEach((child) => child.animationState?.setActive(type, isActive));\n        state[type].isActive = isActive;\n        const animations = animateChanges(type);\n        for (const key in state) {\n            state[key].protectedKeys = {};\n        }\n        return animations;\n    }\n    return {\n        animateChanges,\n        setActive,\n        setAnimateFunction,\n        getState: () => state,\n        reset: () => {\n            state = createState();\n            isInitialRender = true;\n        },\n    };\n}\nfunction checkVariantsDidChange(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (Array.isArray(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive = false) {\n    return {\n        isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    return {\n        animate: createTypeState(true),\n        whileInView: createTypeState(),\n        whileHover: createTypeState(),\n        whileTap: createTypeState(),\n        whileDrag: createTypeState(),\n        whileFocus: createTypeState(),\n        exit: createTypeState(),\n    };\n}\n\nexport { checkVariantsDidChange, createAnimationState };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\nimport { animateVariant } from './visual-element-variant.mjs';\n\nfunction animateVisualElement(visualElement, definition, options = {}) {\n    visualElement.notify(\"AnimationStart\", definition);\n    let animation;\n    if (Array.isArray(definition)) {\n        const animations = definition.map((variant) => animateVariant(visualElement, variant, options));\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        const resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = Promise.all(animateTarget(visualElement, resolvedDefinition, options));\n    }\n    return animation.then(() => {\n        visualElement.notify(\"AnimationComplete\", definition);\n    });\n}\n\nexport { animateVisualElement };\n","class Feature {\n    constructor(node) {\n        this.isMounted = false;\n        this.node = node;\n    }\n    update() { }\n}\n\nexport { Feature };\n","import { Feature } from '../Feature.mjs';\n\nlet id = 0;\nclass ExitAnimationFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.id = id++;\n    }\n    update() {\n        if (!this.node.presenceContext)\n            return;\n        const { isPresent, onExitComplete } = this.node.presenceContext;\n        const { isPresent: prevIsPresent } = this.node.prevPresenceContext || {};\n        if (!this.node.animationState || isPresent === prevIsPresent) {\n            return;\n        }\n        const exitAnimation = this.node.animationState.setActive(\"exit\", !isPresent);\n        if (onExitComplete && !isPresent) {\n            exitAnimation.then(() => {\n                onExitComplete(this.id);\n            });\n        }\n    }\n    mount() {\n        const { register, onExitComplete } = this.node.presenceContext || {};\n        if (onExitComplete) {\n            onExitComplete(this.id);\n        }\n        if (register) {\n            this.unmount = register(this.id);\n        }\n    }\n    unmount() { }\n}\n\nexport { ExitAnimationFeature };\n","import { AnimationFeature } from './animation/index.mjs';\nimport { ExitAnimationFeature } from './animation/exit.mjs';\n\nconst animations = {\n    animation: {\n        Feature: AnimationFeature,\n    },\n    exit: {\n        Feature: ExitAnimationFeature,\n    },\n};\n\nexport { animations };\n","import { isAnimationControls } from '../../../animation/utils/is-animation-controls.mjs';\nimport { createAnimationState } from '../../../render/utils/animation-state.mjs';\nimport { Feature } from '../Feature.mjs';\n\nclass AnimationFeature extends Feature {\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    constructor(node) {\n        super(node);\n        node.animationState || (node.animationState = createAnimationState(node));\n    }\n    updateAnimationControlsSubscription() {\n        const { animate } = this.node.getProps();\n        if (isAnimationControls(animate)) {\n            this.unmountControls = animate.subscribe(this.node);\n        }\n    }\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    mount() {\n        this.updateAnimationControlsSubscription();\n    }\n    update() {\n        const { animate } = this.node.getProps();\n        const { animate: prevAnimate } = this.node.prevProps || {};\n        if (animate !== prevAnimate) {\n            this.updateAnimationControlsSubscription();\n        }\n    }\n    unmount() {\n        this.node.animationState.reset();\n        this.unmountControls?.();\n    }\n}\n\nexport { AnimationFeature };\n","const isDragging = {\n    x: false,\n    y: false,\n};\nfunction isDragActive() {\n    return isDragging.x || isDragging.y;\n}\n\nexport { isDragActive, isDragging };\n","function addDomEvent(target, eventName, handler, options = { passive: true }) {\n    target.addEventListener(eventName, handler, options);\n    return () => target.removeEventListener(eventName, handler);\n}\n\nexport { addDomEvent };\n","const isPrimaryPointer = (event) => {\n    if (event.pointerType === \"mouse\") {\n        return typeof event.button !== \"number\" || event.button <= 0;\n    }\n    else {\n        /**\n         * isPrimary is true for all mice buttons, whereas every touch point\n         * is regarded as its own input. So subsequent concurrent touch points\n         * will be false.\n         *\n         * Specifically match against false here as incomplete versions of\n         * PointerEvents in very old browser might have it set as undefined.\n         */\n        return event.isPrimary !== false;\n    }\n};\n\nexport { isPrimaryPointer };\n","import { isPrimaryPointer } from 'motion-dom';\n\nfunction extractEventInfo(event) {\n    return {\n        point: {\n            x: event.pageX,\n            y: event.pageY,\n        },\n    };\n}\nconst addPointerInfo = (handler) => {\n    return (event) => isPrimaryPointer(event) && handler(event, extractEventInfo(event));\n};\n\nexport { addPointerInfo, extractEventInfo };\n","import { addDomEvent } from './add-dom-event.mjs';\nimport { addPointerInfo } from './event-info.mjs';\n\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, eventName, addPointerInfo(handler), options);\n}\n\nexport { addPointerEvent };\n","import { mixNumber } from 'motion-dom';\n\nconst SCALE_PRECISION = 0.0001;\nconst SCALE_MIN = 1 - SCALE_PRECISION;\nconst SCALE_MAX = 1 + SCALE_PRECISION;\nconst TRANSLATE_PRECISION = 0.01;\nconst TRANSLATE_MIN = 0 - TRANSLATE_PRECISION;\nconst TRANSLATE_MAX = 0 + TRANSLATE_PRECISION;\nfunction calcLength(axis) {\n    return axis.max - axis.min;\n}\nfunction isNear(value, target, maxDistance) {\n    return Math.abs(value - target) <= maxDistance;\n}\nfunction calcAxisDelta(delta, source, target, origin = 0.5) {\n    delta.origin = origin;\n    delta.originPoint = mixNumber(source.min, source.max, delta.origin);\n    delta.scale = calcLength(target) / calcLength(source);\n    delta.translate =\n        mixNumber(target.min, target.max, delta.origin) - delta.originPoint;\n    if ((delta.scale >= SCALE_MIN && delta.scale <= SCALE_MAX) ||\n        isNaN(delta.scale)) {\n        delta.scale = 1.0;\n    }\n    if ((delta.translate >= TRANSLATE_MIN &&\n        delta.translate <= TRANSLATE_MAX) ||\n        isNaN(delta.translate)) {\n        delta.translate = 0.0;\n    }\n}\nfunction calcBoxDelta(delta, source, target, origin) {\n    calcAxisDelta(delta.x, source.x, target.x, origin ? origin.originX : undefined);\n    calcAxisDelta(delta.y, source.y, target.y, origin ? origin.originY : undefined);\n}\nfunction calcRelativeAxis(target, relative, parent) {\n    target.min = parent.min + relative.min;\n    target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(target, relative, parent) {\n    calcRelativeAxis(target.x, relative.x, parent.x);\n    calcRelativeAxis(target.y, relative.y, parent.y);\n}\nfunction calcRelativeAxisPosition(target, layout, parent) {\n    target.min = layout.min - parent.min;\n    target.max = target.min + calcLength(layout);\n}\nfunction calcRelativePosition(target, layout, parent) {\n    calcRelativeAxisPosition(target.x, layout.x, parent.x);\n    calcRelativeAxisPosition(target.y, layout.y, parent.y);\n}\n\nexport { calcAxisDelta, calcBoxDelta, calcLength, calcRelativeAxis, calcRelativeAxisPosition, calcRelativeBox, calcRelativePosition, isNear };\n","function eachAxis(callback) {\n    return [callback(\"x\"), callback(\"y\")];\n}\n\nexport { eachAxis };\n","// Fixes https://github.com/motiondivision/motion/issues/2270\nconst getContextWindow = ({ current }) => {\n    return current ? current.ownerDocument.defaultView : null;\n};\n\nexport { getContextWindow };\n","const distance = (a, b) => Math.abs(a - b);\nfunction distance2D(a, b) {\n    // Multi-dimensional\n    const xDelta = distance(a.x, b.x);\n    const yDelta = distance(a.y, b.y);\n    return Math.sqrt(xDelta ** 2 + yDelta ** 2);\n}\n\nexport { distance, distance2D };\n","import { frame, isPrimaryPointer, cancelFrame, frameData } from 'motion-dom';\nimport { pipe, secondsToMilliseconds, millisecondsToSeconds } from 'motion-utils';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { distance2D } from '../../utils/distance.mjs';\n\n/**\n * @internal\n */\nclass PanSession {\n    constructor(event, handlers, { transformPagePoint, contextWindow = window, dragSnapToOrigin = false, distanceThreshold = 3, } = {}) {\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        /**\n         * @internal\n         */\n        this.contextWindow = window;\n        this.updatePoint = () => {\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const info = getPanInfo(this.lastMoveEventInfo, this.history);\n            const isPanStarted = this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursor.\n            const isDistancePastThreshold = distance2D(info.offset, { x: 0, y: 0 }) >= this.distanceThreshold;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            const { point } = info;\n            const { timestamp } = frameData;\n            this.history.push({ ...point, timestamp });\n            const { onStart, onMove } = this.handlers;\n            if (!isPanStarted) {\n                onStart && onStart(this.lastMoveEvent, info);\n                this.startEvent = this.lastMoveEvent;\n            }\n            onMove && onMove(this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = (event, info) => {\n            this.lastMoveEvent = event;\n            this.lastMoveEventInfo = transformPoint(info, this.transformPagePoint);\n            // Throttle mouse move event to once per frame\n            frame.update(this.updatePoint, true);\n        };\n        this.handlePointerUp = (event, info) => {\n            this.end();\n            const { onEnd, onSessionEnd, resumeAnimation } = this.handlers;\n            if (this.dragSnapToOrigin)\n                resumeAnimation && resumeAnimation();\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const panInfo = getPanInfo(event.type === \"pointercancel\"\n                ? this.lastMoveEventInfo\n                : transformPoint(info, this.transformPagePoint), this.history);\n            if (this.startEvent && onEnd) {\n                onEnd(event, panInfo);\n            }\n            onSessionEnd && onSessionEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (!isPrimaryPointer(event))\n            return;\n        this.dragSnapToOrigin = dragSnapToOrigin;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        this.distanceThreshold = distanceThreshold;\n        this.contextWindow = contextWindow || window;\n        const info = extractEventInfo(event);\n        const initialInfo = transformPoint(info, this.transformPagePoint);\n        const { point } = initialInfo;\n        const { timestamp } = frameData;\n        this.history = [{ ...point, timestamp }];\n        const { onSessionStart } = handlers;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(this.contextWindow, \"pointermove\", this.handlePointerMove), addPointerEvent(this.contextWindow, \"pointerup\", this.handlePointerUp), addPointerEvent(this.contextWindow, \"pointercancel\", this.handlePointerUp));\n    }\n    updateHandlers(handlers) {\n        this.handlers = handlers;\n    }\n    end() {\n        this.removeListeners && this.removeListeners();\n        cancelFrame(this.updatePoint);\n    }\n}\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo({ point }, history) {\n    return {\n        point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    let i = history.length - 1;\n    let timestampedPoint = null;\n    const lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    const time = millisecondsToSeconds(lastPoint.timestamp - timestampedPoint.timestamp);\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    const currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n","import { mixNumber } from 'motion-dom';\nimport { progress, clamp } from 'motion-utils';\nimport { calcLength } from '../../../projection/geometry/delta-calc.mjs';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, { min, max }, elastic) {\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic\n            ? mixNumber(min, point, elastic.min)\n            : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic\n            ? mixNumber(max, point, elastic.max)\n            : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, { top, left, bottom, right }) {\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    let min = constraintsAxis.min - layoutAxis.min;\n    let max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        [min, max] = [max, min];\n    }\n    return { min, max };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n    let origin = 0.5;\n    const sourceLength = calcLength(source);\n    const targetLength = calcLength(target);\n    if (targetLength > sourceLength) {\n        origin = progress(target.min, target.max - sourceLength, source.min);\n    }\n    else if (sourceLength > targetLength) {\n        origin = progress(source.min, source.max - targetLength, target.min);\n    }\n    return clamp(0, 1, origin);\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    const relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nconst defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic = defaultElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : dragElastic[label] || 0;\n}\n\nexport { applyConstraints, calcOrigin, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n","import { frame, mixNumber, setDragLock, percent } from 'motion-dom';\nimport { invariant } from 'motion-utils';\nimport { animateMotionValue } from '../../animation/interfaces/motion-value.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { convertBoxToBoundingBox, convertBoundingBoxToBox } from '../../projection/geometry/conversion.mjs';\nimport { calcLength } from '../../projection/geometry/delta-calc.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { eachAxis } from '../../projection/utils/each-axis.mjs';\nimport { measurePageBox } from '../../projection/utils/measure.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { addValueToWillChange } from '../../value/use-will-change/add-will-change.mjs';\nimport { PanSession } from '../pan/PanSession.mjs';\nimport { applyConstraints, calcRelativeConstraints, resolveDragElastic, rebaseAxisConstraints, calcViewportConstraints, calcOrigin, defaultElastic } from './utils/constraints.mjs';\n\nconst elementDragControls = new WeakMap();\nclass VisualElementDragControls {\n    constructor(visualElement) {\n        this.openDragLock = null;\n        this.isDragging = false;\n        this.currentDirection = null;\n        this.originPoint = { x: 0, y: 0 };\n        /**\n         * The permitted boundaries of travel, in pixels.\n         */\n        this.constraints = false;\n        this.hasMutatedConstraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         */\n        this.elastic = createBox();\n        /**\n         * The latest pointer event. Used as fallback when the `cancel` and `stop` functions are called without arguments.\n         */\n        this.latestPointerEvent = null;\n        /**\n         * The latest pan info. Used as fallback when the `cancel` and `stop` functions are called without arguments.\n         */\n        this.latestPanInfo = null;\n        this.visualElement = visualElement;\n    }\n    start(originEvent, { snapToCursor = false, distanceThreshold } = {}) {\n        /**\n         * Don't start dragging if this component is exiting\n         */\n        const { presenceContext } = this.visualElement;\n        if (presenceContext && presenceContext.isPresent === false)\n            return;\n        const onSessionStart = (event) => {\n            const { dragSnapToOrigin } = this.getProps();\n            // Stop or pause any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            dragSnapToOrigin ? this.pauseAnimation() : this.stopAnimation();\n            if (snapToCursor) {\n                this.snapToCursor(extractEventInfo(event).point);\n            }\n        };\n        const onStart = (event, info) => {\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            const { drag, dragPropagation, onDragStart } = this.getProps();\n            if (drag && !dragPropagation) {\n                if (this.openDragLock)\n                    this.openDragLock();\n                this.openDragLock = setDragLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!this.openDragLock)\n                    return;\n            }\n            this.latestPointerEvent = event;\n            this.latestPanInfo = info;\n            this.isDragging = true;\n            this.currentDirection = null;\n            this.resolveConstraints();\n            if (this.visualElement.projection) {\n                this.visualElement.projection.isAnimationBlocked = true;\n                this.visualElement.projection.target = undefined;\n            }\n            /**\n             * Record gesture origin\n             */\n            eachAxis((axis) => {\n                let current = this.getAxisMotionValue(axis).get() || 0;\n                /**\n                 * If the MotionValue is a percentage value convert to px\n                 */\n                if (percent.test(current)) {\n                    const { projection } = this.visualElement;\n                    if (projection && projection.layout) {\n                        const measuredAxis = projection.layout.layoutBox[axis];\n                        if (measuredAxis) {\n                            const length = calcLength(measuredAxis);\n                            current = length * (parseFloat(current) / 100);\n                        }\n                    }\n                }\n                this.originPoint[axis] = current;\n            });\n            // Fire onDragStart event\n            if (onDragStart) {\n                frame.postRender(() => onDragStart(event, info));\n            }\n            addValueToWillChange(this.visualElement, \"transform\");\n            const { animationState } = this.visualElement;\n            animationState && animationState.setActive(\"whileDrag\", true);\n        };\n        const onMove = (event, info) => {\n            this.latestPointerEvent = event;\n            this.latestPanInfo = info;\n            const { dragPropagation, dragDirectionLock, onDirectionLock, onDrag, } = this.getProps();\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !this.openDragLock)\n                return;\n            const { offset } = info;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && this.currentDirection === null) {\n                this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (this.currentDirection !== null) {\n                    onDirectionLock && onDirectionLock(this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            this.updateAxis(\"x\", info.point, offset);\n            this.updateAxis(\"y\", info.point, offset);\n            /**\n             * Ideally we would leave the renderer to fire naturally at the end of\n             * this frame but if the element is about to change layout as the result\n             * of a re-render we want to ensure the browser can read the latest\n             * bounding box to ensure the pointer and element don't fall out of sync.\n             */\n            this.visualElement.render();\n            /**\n             * This must fire after the render call as it might trigger a state\n             * change which itself might trigger a layout update.\n             */\n            onDrag && onDrag(event, info);\n        };\n        const onSessionEnd = (event, info) => {\n            this.latestPointerEvent = event;\n            this.latestPanInfo = info;\n            this.stop(event, info);\n            this.latestPointerEvent = null;\n            this.latestPanInfo = null;\n        };\n        const resumeAnimation = () => eachAxis((axis) => this.getAnimationState(axis) === \"paused\" &&\n            this.getAxisMotionValue(axis).animation?.play());\n        const { dragSnapToOrigin } = this.getProps();\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart,\n            onStart,\n            onMove,\n            onSessionEnd,\n            resumeAnimation,\n        }, {\n            transformPagePoint: this.visualElement.getTransformPagePoint(),\n            dragSnapToOrigin,\n            distanceThreshold,\n            contextWindow: getContextWindow(this.visualElement),\n        });\n    }\n    /**\n     * @internal\n     */\n    stop(event, panInfo) {\n        const finalEvent = event || this.latestPointerEvent;\n        const finalPanInfo = panInfo || this.latestPanInfo;\n        const isDragging = this.isDragging;\n        this.cancel();\n        if (!isDragging || !finalPanInfo || !finalEvent)\n            return;\n        const { velocity } = finalPanInfo;\n        this.startAnimation(velocity);\n        const { onDragEnd } = this.getProps();\n        if (onDragEnd) {\n            frame.postRender(() => onDragEnd(finalEvent, finalPanInfo));\n        }\n    }\n    /**\n     * @internal\n     */\n    cancel() {\n        this.isDragging = false;\n        const { projection, animationState } = this.visualElement;\n        if (projection) {\n            projection.isAnimationBlocked = false;\n        }\n        this.panSession && this.panSession.end();\n        this.panSession = undefined;\n        const { dragPropagation } = this.getProps();\n        if (!dragPropagation && this.openDragLock) {\n            this.openDragLock();\n            this.openDragLock = null;\n        }\n        animationState && animationState.setActive(\"whileDrag\", false);\n    }\n    updateAxis(axis, _point, offset) {\n        const { drag } = this.getProps();\n        // If we're not dragging this axis, do an early return.\n        if (!offset || !shouldDrag(axis, drag, this.currentDirection))\n            return;\n        const axisValue = this.getAxisMotionValue(axis);\n        let next = this.originPoint[axis] + offset[axis];\n        // Apply constraints\n        if (this.constraints && this.constraints[axis]) {\n            next = applyConstraints(next, this.constraints[axis], this.elastic[axis]);\n        }\n        axisValue.set(next);\n    }\n    resolveConstraints() {\n        const { dragConstraints, dragElastic } = this.getProps();\n        const layout = this.visualElement.projection &&\n            !this.visualElement.projection.layout\n            ? this.visualElement.projection.measure(false)\n            : this.visualElement.projection?.layout;\n        const prevConstraints = this.constraints;\n        if (dragConstraints && isRefObject(dragConstraints)) {\n            if (!this.constraints) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        }\n        else {\n            if (dragConstraints && layout) {\n                this.constraints = calcRelativeConstraints(layout.layoutBox, dragConstraints);\n            }\n            else {\n                this.constraints = false;\n            }\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (prevConstraints !== this.constraints &&\n            layout &&\n            this.constraints &&\n            !this.hasMutatedConstraints) {\n            eachAxis((axis) => {\n                if (this.constraints !== false &&\n                    this.getAxisMotionValue(axis)) {\n                    this.constraints[axis] = rebaseAxisConstraints(layout.layoutBox[axis], this.constraints[axis]);\n                }\n            });\n        }\n    }\n    resolveRefConstraints() {\n        const { dragConstraints: constraints, onMeasureDragConstraints } = this.getProps();\n        if (!constraints || !isRefObject(constraints))\n            return false;\n        const constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\", \"drag-constraints-ref\");\n        const { projection } = this.visualElement;\n        // TODO\n        if (!projection || !projection.layout)\n            return false;\n        const constraintsBox = measurePageBox(constraintsElement, projection.root, this.visualElement.getTransformPagePoint());\n        let measuredConstraints = calcViewportConstraints(projection.layout.layoutBox, constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            const userConstraints = onMeasureDragConstraints(convertBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    }\n    startAnimation(velocity) {\n        const { drag, dragMomentum, dragElastic, dragTransition, dragSnapToOrigin, onDragTransitionEnd, } = this.getProps();\n        const constraints = this.constraints || {};\n        const momentumAnimations = eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, this.currentDirection)) {\n                return;\n            }\n            let transition = (constraints && constraints[axis]) || {};\n            if (dragSnapToOrigin)\n                transition = { min: 0, max: 0 };\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            const bounceStiffness = dragElastic ? 200 : 1000000;\n            const bounceDamping = dragElastic ? 40 : 10000000;\n            const inertia = {\n                type: \"inertia\",\n                velocity: dragMomentum ? velocity[axis] : 0,\n                bounceStiffness,\n                bounceDamping,\n                timeConstant: 750,\n                restDelta: 1,\n                restSpeed: 10,\n                ...dragTransition,\n                ...transition,\n            };\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return this.startAxisValueAnimation(axis, inertia);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(onDragTransitionEnd);\n    }\n    startAxisValueAnimation(axis, transition) {\n        const axisValue = this.getAxisMotionValue(axis);\n        addValueToWillChange(this.visualElement, axis);\n        return axisValue.start(animateMotionValue(axis, axisValue, 0, transition, this.visualElement, false));\n    }\n    stopAnimation() {\n        eachAxis((axis) => this.getAxisMotionValue(axis).stop());\n    }\n    pauseAnimation() {\n        eachAxis((axis) => this.getAxisMotionValue(axis).animation?.pause());\n    }\n    getAnimationState(axis) {\n        return this.getAxisMotionValue(axis).animation?.state;\n    }\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    getAxisMotionValue(axis) {\n        const dragKey = `_drag${axis.toUpperCase()}`;\n        const props = this.visualElement.getProps();\n        const externalMotionValue = props[dragKey];\n        return externalMotionValue\n            ? externalMotionValue\n            : this.visualElement.getValue(axis, (props.initial\n                ? props.initial[axis]\n                : undefined) || 0);\n    }\n    snapToCursor(point) {\n        eachAxis((axis) => {\n            const { drag } = this.getProps();\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, this.currentDirection))\n                return;\n            const { projection } = this.visualElement;\n            const axisValue = this.getAxisMotionValue(axis);\n            if (projection && projection.layout) {\n                const { min, max } = projection.layout.layoutBox[axis];\n                axisValue.set(point[axis] - mixNumber(min, max, 0.5));\n            }\n        });\n    }\n    /**\n     * When the viewport resizes we want to check if the measured constraints\n     * have changed and, if so, reposition the element within those new constraints\n     * relative to where it was before the resize.\n     */\n    scalePositionWithinConstraints() {\n        if (!this.visualElement.current)\n            return;\n        const { drag, dragConstraints } = this.getProps();\n        const { projection } = this.visualElement;\n        if (!isRefObject(dragConstraints) || !projection || !this.constraints)\n            return;\n        /**\n         * Stop current animations as there can be visual glitching if we try to do\n         * this mid-animation\n         */\n        this.stopAnimation();\n        /**\n         * Record the relative position of the dragged element relative to the\n         * constraints box and save as a progress value.\n         */\n        const boxProgress = { x: 0, y: 0 };\n        eachAxis((axis) => {\n            const axisValue = this.getAxisMotionValue(axis);\n            if (axisValue && this.constraints !== false) {\n                const latest = axisValue.get();\n                boxProgress[axis] = calcOrigin({ min: latest, max: latest }, this.constraints[axis]);\n            }\n        });\n        /**\n         * Update the layout of this element and resolve the latest drag constraints\n         */\n        const { transformTemplate } = this.visualElement.getProps();\n        this.visualElement.current.style.transform = transformTemplate\n            ? transformTemplate({}, \"\")\n            : \"none\";\n        projection.root && projection.root.updateScroll();\n        projection.updateLayout();\n        this.resolveConstraints();\n        /**\n         * For each axis, calculate the current progress of the layout axis\n         * within the new constraints.\n         */\n        eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, null))\n                return;\n            /**\n             * Calculate a new transform based on the previous box progress\n             */\n            const axisValue = this.getAxisMotionValue(axis);\n            const { min, max } = this.constraints[axis];\n            axisValue.set(mixNumber(min, max, boxProgress[axis]));\n        });\n    }\n    addListeners() {\n        if (!this.visualElement.current)\n            return;\n        elementDragControls.set(this.visualElement, this);\n        const element = this.visualElement.current;\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        const stopPointerListener = addPointerEvent(element, \"pointerdown\", (event) => {\n            const { drag, dragListener = true } = this.getProps();\n            drag && dragListener && this.start(event);\n        });\n        const measureDragConstraints = () => {\n            const { dragConstraints } = this.getProps();\n            if (isRefObject(dragConstraints) && dragConstraints.current) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        };\n        const { projection } = this.visualElement;\n        const stopMeasureLayoutListener = projection.addEventListener(\"measure\", measureDragConstraints);\n        if (projection && !projection.layout) {\n            projection.root && projection.root.updateScroll();\n            projection.updateLayout();\n        }\n        frame.read(measureDragConstraints);\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        const stopResizeListener = addDomEvent(window, \"resize\", () => this.scalePositionWithinConstraints());\n        /**\n         * If the element's layout changes, calculate the delta and apply that to\n         * the drag gesture's origin point.\n         */\n        const stopLayoutUpdateListener = projection.addEventListener(\"didUpdate\", (({ delta, hasLayoutChanged }) => {\n            if (this.isDragging && hasLayoutChanged) {\n                eachAxis((axis) => {\n                    const motionValue = this.getAxisMotionValue(axis);\n                    if (!motionValue)\n                        return;\n                    this.originPoint[axis] += delta[axis].translate;\n                    motionValue.set(motionValue.get() + delta[axis].translate);\n                });\n                this.visualElement.render();\n            }\n        }));\n        return () => {\n            stopResizeListener();\n            stopPointerListener();\n            stopMeasureLayoutListener();\n            stopLayoutUpdateListener && stopLayoutUpdateListener();\n        };\n    }\n    getProps() {\n        const props = this.visualElement.getProps();\n        const { drag = false, dragDirectionLock = false, dragPropagation = false, dragConstraints = false, dragElastic = defaultElastic, dragMomentum = true, } = props;\n        return {\n            ...props,\n            drag,\n            dragDirectionLock,\n            dragPropagation,\n            dragConstraints,\n            dragElastic,\n            dragMomentum,\n        };\n    }\n}\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold = 10) {\n    let direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n","import { isDragging } from './is-active.mjs';\n\nfunction setDragLock(axis) {\n    if (axis === \"x\" || axis === \"y\") {\n        if (isDragging[axis]) {\n            return null;\n        }\n        else {\n            isDragging[axis] = true;\n            return () => {\n                isDragging[axis] = false;\n            };\n        }\n    }\n    else {\n        if (isDragging.x || isDragging.y) {\n            return null;\n        }\n        else {\n            isDragging.x = isDragging.y = true;\n            return () => {\n                isDragging.x = isDragging.y = false;\n            };\n        }\n    }\n}\n\nexport { setDragLock };\n","import { frame } from 'motion-dom';\nimport { noop } from 'motion-utils';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { Feature } from '../../motion/features/Feature.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { PanSession } from './PanSession.mjs';\n\nconst asyncHandler = (handler) => (event, info) => {\n    if (handler) {\n        frame.postRender(() => handler(event, info));\n    }\n};\nclass PanGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removePointerDownListener = noop;\n    }\n    onPointerDown(pointerDownEvent) {\n        this.session = new PanSession(pointerDownEvent, this.createPanHandlers(), {\n            transformPagePoint: this.node.getTransformPagePoint(),\n            contextWindow: getContextWindow(this.node),\n        });\n    }\n    createPanHandlers() {\n        const { onPanSessionStart, onPanStart, onPan, onPanEnd } = this.node.getProps();\n        return {\n            onSessionStart: asyncHandler(onPanSessionStart),\n            onStart: asyncHandler(onPanStart),\n            onMove: onPan,\n            onEnd: (event, info) => {\n                delete this.session;\n                if (onPanEnd) {\n                    frame.postRender(() => onPanEnd(event, info));\n                }\n            },\n        };\n    }\n    mount() {\n        this.removePointerDownListener = addPointerEvent(this.node.current, \"pointerdown\", (event) => this.onPointerDown(event));\n    }\n    update() {\n        this.session && this.session.updateHandlers(this.createPanHandlers());\n    }\n    unmount() {\n        this.removePointerDownListener();\n        this.session && this.session.end();\n    }\n}\n\nexport { PanGesture };\n","/**\n * This should only ever be modified on the client otherwise it'll\n * persist through server requests. If we need instanced states we\n * could lazy-init via root.\n */\nconst globalProjectionState = {\n    /**\n     * Global flag as to whether the tree has animated since the last time\n     * we resized the window\n     */\n    hasAnimatedSinceResize: true,\n    /**\n     * We set this to true once, on the first update. Any nodes added to the tree beyond that\n     * update will be given a `data-projection-id` attribute.\n     */\n    hasEverUpdated: false,\n};\n\nexport { globalProjectionState };\n","import { px } from 'motion-dom';\n\nfunction pixelsToPercent(pixels, axis) {\n    if (axis.max === axis.min)\n        return 0;\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nconst correctBorderRadius = {\n    correct: (latest, node) => {\n        if (!node.target)\n            return latest;\n        /**\n         * If latest is a string, if it's a percentage we can return immediately as it's\n         * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n         */\n        if (typeof latest === \"string\") {\n            if (px.test(latest)) {\n                latest = parseFloat(latest);\n            }\n            else {\n                return latest;\n            }\n        }\n        /**\n         * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n         * pixel value as a percentage of each axis\n         */\n        const x = pixelsToPercent(latest, node.target.x);\n        const y = pixelsToPercent(latest, node.target.y);\n        return `${x}% ${y}%`;\n    },\n};\n\nexport { correctBorderRadius, pixelsToPercent };\n","import { complex, mixNumber } from 'motion-dom';\n\nconst correctBoxShadow = {\n    correct: (latest, { treeScale, projectionDelta }) => {\n        const original = latest;\n        const shadow = complex.parse(latest);\n        // TODO: Doesn't support multiple shadows\n        if (shadow.length > 5)\n            return original;\n        const template = complex.createTransformer(latest);\n        const offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n        // Calculate the overall context scale\n        const xScale = projectionDelta.x.scale * treeScale.x;\n        const yScale = projectionDelta.y.scale * treeScale.y;\n        shadow[0 + offset] /= xScale;\n        shadow[1 + offset] /= yScale;\n        /**\n         * Ideally we'd correct x and y scales individually, but because blur and\n         * spread apply to both we have to take a scale average and apply that instead.\n         * We could potentially improve the outcome of this by incorporating the ratio between\n         * the two scales.\n         */\n        const averageScale = mixNumber(xScale, yScale, 0.5);\n        // Blur\n        if (typeof shadow[2 + offset] === \"number\")\n            shadow[2 + offset] /= averageScale;\n        // Spread\n        if (typeof shadow[3 + offset] === \"number\")\n            shadow[3 + offset] /= averageScale;\n        return template(shadow);\n    },\n};\n\nexport { correctBoxShadow };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport { frame, microtask } from 'motion-dom';\nimport { useContext, Component } from 'react';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.mjs';\nimport { LayoutGroupContext } from '../../../context/LayoutGroupContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../../context/SwitchLayoutGroupContext.mjs';\nimport { globalProjectionState } from '../../../projection/node/state.mjs';\nimport { correctBorderRadius } from '../../../projection/styles/scale-border-radius.mjs';\nimport { correctBoxShadow } from '../../../projection/styles/scale-box-shadow.mjs';\nimport { addScaleCorrector } from '../../../projection/styles/scale-correction.mjs';\n\n/**\n * Track whether we've taken any snapshots yet. If not,\n * we can safely skip notification of didUpdate.\n *\n * Difficult to capture in a test but to prevent flickering\n * we must set this to true either on update or unmount.\n * Running `next-env/layout-id` in Safari will show this behaviour if broken.\n */\nlet hasTakenAnySnapshot = false;\nclass MeasureLayoutWithContext extends Component {\n    /**\n     * This only mounts projection nodes for components that\n     * need measuring, we might want to do it for all components\n     * in order to incorporate transforms\n     */\n    componentDidMount() {\n        const { visualElement, layoutGroup, switchLayoutGroup, layoutId } = this.props;\n        const { projection } = visualElement;\n        addScaleCorrector(defaultScaleCorrectors);\n        if (projection) {\n            if (layoutGroup.group)\n                layoutGroup.group.add(projection);\n            if (switchLayoutGroup && switchLayoutGroup.register && layoutId) {\n                switchLayoutGroup.register(projection);\n            }\n            if (hasTakenAnySnapshot) {\n                projection.root.didUpdate();\n            }\n            projection.addEventListener(\"animationComplete\", () => {\n                this.safeToRemove();\n            });\n            projection.setOptions({\n                ...projection.options,\n                onExitComplete: () => this.safeToRemove(),\n            });\n        }\n        globalProjectionState.hasEverUpdated = true;\n    }\n    getSnapshotBeforeUpdate(prevProps) {\n        const { layoutDependency, visualElement, drag, isPresent } = this.props;\n        const { projection } = visualElement;\n        if (!projection)\n            return null;\n        /**\n         * TODO: We use this data in relegate to determine whether to\n         * promote a previous element. There's no guarantee its presence data\n         * will have updated by this point - if a bug like this arises it will\n         * have to be that we markForRelegation and then find a new lead some other way,\n         * perhaps in didUpdate\n         */\n        projection.isPresent = isPresent;\n        hasTakenAnySnapshot = true;\n        if (drag ||\n            prevProps.layoutDependency !== layoutDependency ||\n            layoutDependency === undefined ||\n            prevProps.isPresent !== isPresent) {\n            projection.willUpdate();\n        }\n        else {\n            this.safeToRemove();\n        }\n        if (prevProps.isPresent !== isPresent) {\n            if (isPresent) {\n                projection.promote();\n            }\n            else if (!projection.relegate()) {\n                /**\n                 * If there's another stack member taking over from this one,\n                 * it's in charge of the exit animation and therefore should\n                 * be in charge of the safe to remove. Otherwise we call it here.\n                 */\n                frame.postRender(() => {\n                    const stack = projection.getStack();\n                    if (!stack || !stack.members.length) {\n                        this.safeToRemove();\n                    }\n                });\n            }\n        }\n        return null;\n    }\n    componentDidUpdate() {\n        const { projection } = this.props.visualElement;\n        if (projection) {\n            projection.root.didUpdate();\n            microtask.postRender(() => {\n                if (!projection.currentAnimation && projection.isLead()) {\n                    this.safeToRemove();\n                }\n            });\n        }\n    }\n    componentWillUnmount() {\n        const { visualElement, layoutGroup, switchLayoutGroup: promoteContext, } = this.props;\n        const { projection } = visualElement;\n        hasTakenAnySnapshot = true;\n        if (projection) {\n            projection.scheduleCheckAfterUnmount();\n            if (layoutGroup && layoutGroup.group)\n                layoutGroup.group.remove(projection);\n            if (promoteContext && promoteContext.deregister)\n                promoteContext.deregister(projection);\n        }\n    }\n    safeToRemove() {\n        const { safeToRemove } = this.props;\n        safeToRemove && safeToRemove();\n    }\n    render() {\n        return null;\n    }\n}\nfunction MeasureLayout(props) {\n    const [isPresent, safeToRemove] = usePresence();\n    const layoutGroup = useContext(LayoutGroupContext);\n    return (jsx(MeasureLayoutWithContext, { ...props, layoutGroup: layoutGroup, switchLayoutGroup: useContext(SwitchLayoutGroupContext), isPresent: isPresent, safeToRemove: safeToRemove }));\n}\nconst defaultScaleCorrectors = {\n    borderRadius: {\n        ...correctBorderRadius,\n        applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ],\n    },\n    borderTopLeftRadius: correctBorderRadius,\n    borderTopRightRadius: correctBorderRadius,\n    borderBottomLeftRadius: correctBorderRadius,\n    borderBottomRightRadius: correctBorderRadius,\n    boxShadow: correctBoxShadow,\n};\n\nexport { MeasureLayout };\n","import { isObject } from 'motion-utils';\n\n/**\n * Checks if an element is an SVG element in a way\n * that works across iframes\n */\nfunction isSVGElement(element) {\n    return isObject(element) && \"ownerSVGElement\" in element;\n}\n\nexport { isSVGElement };\n","const compareByDepth = (a, b) => a.depth - b.depth;\n\nexport { compareByDepth };\n","import { addUniqueItem, removeItem } from 'motion-utils';\nimport { compareByDepth } from './compare-by-depth.mjs';\n\nclass FlatTree {\n    constructor() {\n        this.children = [];\n        this.isDirty = false;\n    }\n    add(child) {\n        addUniqueItem(this.children, child);\n        this.isDirty = true;\n    }\n    remove(child) {\n        removeItem(this.children, child);\n        this.isDirty = true;\n    }\n    forEach(callback) {\n        this.isDirty && this.children.sort(compareByDepth);\n        this.isDirty = false;\n        this.children.forEach(callback);\n    }\n}\n\nexport { FlatTree };\n","import { time, frame, cancelFrame } from 'motion-dom';\nimport { secondsToMilliseconds } from 'motion-utils';\n\n/**\n * Timeout defined in ms\n */\nfunction delay(callback, timeout) {\n    const start = time.now();\n    const checkElapsed = ({ timestamp }) => {\n        const elapsed = timestamp - start;\n        if (elapsed >= timeout) {\n            cancelFrame(checkElapsed);\n            callback(elapsed - timeout);\n        }\n    };\n    frame.setup(checkElapsed, true);\n    return () => cancelFrame(checkElapsed);\n}\nfunction delayInSeconds(callback, timeout) {\n    return delay(callback, secondsToMilliseconds(timeout));\n}\n\nexport { delay, delayInSeconds };\n","import { mixNumber, percent, px } from 'motion-dom';\nimport { progress, circOut, noop } from 'motion-utils';\n\nconst borders = [\"TopLeft\", \"TopRight\", \"BottomLeft\", \"BottomRight\"];\nconst numBorders = borders.length;\nconst asNumber = (value) => typeof value === \"string\" ? parseFloat(value) : value;\nconst isPx = (value) => typeof value === \"number\" || px.test(value);\nfunction mixValues(target, follow, lead, progress, shouldCrossfadeOpacity, isOnlyMember) {\n    if (shouldCrossfadeOpacity) {\n        target.opacity = mixNumber(0, lead.opacity ?? 1, easeCrossfadeIn(progress));\n        target.opacityExit = mixNumber(follow.opacity ?? 1, 0, easeCrossfadeOut(progress));\n    }\n    else if (isOnlyMember) {\n        target.opacity = mixNumber(follow.opacity ?? 1, lead.opacity ?? 1, progress);\n    }\n    /**\n     * Mix border radius\n     */\n    for (let i = 0; i < numBorders; i++) {\n        const borderLabel = `border${borders[i]}Radius`;\n        let followRadius = getRadius(follow, borderLabel);\n        let leadRadius = getRadius(lead, borderLabel);\n        if (followRadius === undefined && leadRadius === undefined)\n            continue;\n        followRadius || (followRadius = 0);\n        leadRadius || (leadRadius = 0);\n        const canMix = followRadius === 0 ||\n            leadRadius === 0 ||\n            isPx(followRadius) === isPx(leadRadius);\n        if (canMix) {\n            target[borderLabel] = Math.max(mixNumber(asNumber(followRadius), asNumber(leadRadius), progress), 0);\n            if (percent.test(leadRadius) || percent.test(followRadius)) {\n                target[borderLabel] += \"%\";\n            }\n        }\n        else {\n            target[borderLabel] = leadRadius;\n        }\n    }\n    /**\n     * Mix rotation\n     */\n    if (follow.rotate || lead.rotate) {\n        target.rotate = mixNumber(follow.rotate || 0, lead.rotate || 0, progress);\n    }\n}\nfunction getRadius(values, radiusName) {\n    return values[radiusName] !== undefined\n        ? values[radiusName]\n        : values.borderRadius;\n}\n// /**\n//  * We only want to mix the background color if there's a follow element\n//  * that we're not crossfading opacity between. For instance with switch\n//  * AnimateSharedLayout animations, this helps the illusion of a continuous\n//  * element being animated but also cuts down on the number of paints triggered\n//  * for elements where opacity is doing that work for us.\n//  */\n// if (\n//     !hasFollowElement &&\n//     latestLeadValues.backgroundColor &&\n//     latestFollowValues.backgroundColor\n// ) {\n//     /**\n//      * This isn't ideal performance-wise as mixColor is creating a new function every frame.\n//      * We could probably create a mixer that runs at the start of the animation but\n//      * the idea behind the crossfader is that it runs dynamically between two potentially\n//      * changing targets (ie opacity or borderRadius may be animating independently via variants)\n//      */\n//     leadState.backgroundColor = followState.backgroundColor = mixColor(\n//         latestFollowValues.backgroundColor as string,\n//         latestLeadValues.backgroundColor as string\n//     )(p)\n// }\nconst easeCrossfadeIn = /*@__PURE__*/ compress(0, 0.5, circOut);\nconst easeCrossfadeOut = /*@__PURE__*/ compress(0.5, 0.95, noop);\nfunction compress(min, max, easing) {\n    return (p) => {\n        // Could replace ifs with clamp\n        if (p < min)\n            return 0;\n        if (p > max)\n            return 1;\n        return easing(progress(min, max, p));\n    };\n}\n\nexport { mixValues };\n","/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisInto(axis, originAxis) {\n    axis.min = originAxis.min;\n    axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyBoxInto(box, originBox) {\n    copyAxisInto(box.x, originBox.x);\n    copyAxisInto(box.y, originBox.y);\n}\n/**\n * Reset a delta to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisDeltaInto(delta, originDelta) {\n    delta.translate = originDelta.translate;\n    delta.scale = originDelta.scale;\n    delta.originPoint = originDelta.originPoint;\n    delta.origin = originDelta.origin;\n}\n\nexport { copyAxisDeltaInto, copyAxisInto, copyBoxInto };\n","import { percent, mixNumber } from 'motion-dom';\nimport { scalePoint } from './delta-apply.mjs';\n\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate = 0, scale = 1, origin = 0.5, boxScale, originAxis = axis, sourceAxis = axis) {\n    if (percent.test(translate)) {\n        translate = parseFloat(translate);\n        const relativeProgress = mixNumber(sourceAxis.min, sourceAxis.max, translate / 100);\n        translate = relativeProgress - sourceAxis.min;\n    }\n    if (typeof translate !== \"number\")\n        return;\n    let originPoint = mixNumber(originAxis.min, originAxis.max, origin);\n    if (axis === originAxis)\n        originPoint -= translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, [key, scaleKey, originKey], origin, sourceAxis) {\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale, origin, sourceAxis);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms, originBox, sourceBox) {\n    removeAxisTransforms(box.x, transforms, xKeys, originBox ? originBox.x : undefined, sourceBox ? sourceBox.x : undefined);\n    removeAxisTransforms(box.y, transforms, yKeys, originBox ? originBox.y : undefined, sourceBox ? sourceBox.y : undefined);\n}\n\nexport { removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta };\n","import { calcLength } from './delta-calc.mjs';\n\nfunction isAxisDeltaZero(delta) {\n    return delta.translate === 0 && delta.scale === 1;\n}\nfunction isDeltaZero(delta) {\n    return isAxisDeltaZero(delta.x) && isAxisDeltaZero(delta.y);\n}\nfunction axisEquals(a, b) {\n    return a.min === b.min && a.max === b.max;\n}\nfunction boxEquals(a, b) {\n    return axisEquals(a.x, b.x) && axisEquals(a.y, b.y);\n}\nfunction axisEqualsRounded(a, b) {\n    return (Math.round(a.min) === Math.round(b.min) &&\n        Math.round(a.max) === Math.round(b.max));\n}\nfunction boxEqualsRounded(a, b) {\n    return axisEqualsRounded(a.x, b.x) && axisEqualsRounded(a.y, b.y);\n}\nfunction aspectRatio(box) {\n    return calcLength(box.x) / calcLength(box.y);\n}\nfunction axisDeltaEquals(a, b) {\n    return (a.translate === b.translate &&\n        a.scale === b.scale &&\n        a.originPoint === b.originPoint);\n}\n\nexport { aspectRatio, axisDeltaEquals, axisEquals, axisEqualsRounded, boxEquals, boxEqualsRounded, isDeltaZero };\n","import { addUniqueItem, removeItem } from 'motion-utils';\n\nclass NodeStack {\n    constructor() {\n        this.members = [];\n    }\n    add(node) {\n        addUniqueItem(this.members, node);\n        node.scheduleRender();\n    }\n    remove(node) {\n        removeItem(this.members, node);\n        if (node === this.prevLead) {\n            this.prevLead = undefined;\n        }\n        if (node === this.lead) {\n            const prevLead = this.members[this.members.length - 1];\n            if (prevLead) {\n                this.promote(prevLead);\n            }\n        }\n    }\n    relegate(node) {\n        const indexOfNode = this.members.findIndex((member) => node === member);\n        if (indexOfNode === 0)\n            return false;\n        /**\n         * Find the next projection node that is present\n         */\n        let prevLead;\n        for (let i = indexOfNode; i >= 0; i--) {\n            const member = this.members[i];\n            if (member.isPresent !== false) {\n                prevLead = member;\n                break;\n            }\n        }\n        if (prevLead) {\n            this.promote(prevLead);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    promote(node, preserveFollowOpacity) {\n        const prevLead = this.lead;\n        if (node === prevLead)\n            return;\n        this.prevLead = prevLead;\n        this.lead = node;\n        node.show();\n        if (prevLead) {\n            prevLead.instance && prevLead.scheduleRender();\n            node.scheduleRender();\n            node.resumeFrom = prevLead;\n            if (preserveFollowOpacity) {\n                node.resumeFrom.preserveOpacity = true;\n            }\n            if (prevLead.snapshot) {\n                node.snapshot = prevLead.snapshot;\n                node.snapshot.latestValues =\n                    prevLead.animationValues || prevLead.latestValues;\n            }\n            if (node.root && node.root.isUpdating) {\n                node.isLayoutDirty = true;\n            }\n            const { crossfade } = node.options;\n            if (crossfade === false) {\n                prevLead.hide();\n            }\n            /**\n             * TODO:\n             *   - Test border radius when previous node was deleted\n             *   - boxShadow mixing\n             *   - Shared between element A in scrolled container and element B (scroll stays the same or changes)\n             *   - Shared between element A in transformed container and element B (transform stays the same or changes)\n             *   - Shared between element A in scrolled page and element B (scroll stays the same or changes)\n             * ---\n             *   - Crossfade opacity of root nodes\n             *   - layoutId changes after animation\n             *   - layoutId changes mid animation\n             */\n        }\n    }\n    exitAnimationComplete() {\n        this.members.forEach((node) => {\n            const { options, resumingFrom } = node;\n            options.onExitComplete && options.onExitComplete();\n            if (resumingFrom) {\n                resumingFrom.options.onExitComplete &&\n                    resumingFrom.options.onExitComplete();\n            }\n        });\n    }\n    scheduleRender() {\n        this.members.forEach((node) => {\n            node.instance && node.scheduleRender(false);\n        });\n    }\n    /**\n     * Clear any leads that have been removed this render to prevent them from being\n     * used in future animations and to prevent memory leaks\n     */\n    removeLeadSnapshot() {\n        if (this.lead && this.lead.snapshot) {\n            this.lead.snapshot = undefined;\n        }\n    }\n}\n\nexport { NodeStack };\n","import { statsBuffer, isSVGElement, isSVGSVGElement, frame, getValueTransition, cancelFrame, time, frameData, frameSteps, microtask, activeAnimations, motionValue, mixNumber } from 'motion-dom';\nimport { SubscriptionManager, clamp, noop } from 'motion-utils';\nimport { animateSingleValue } from '../../animation/animate/single-value.mjs';\nimport { getOptimisedAppearId } from '../../animation/optimized-appear/get-appear-id.mjs';\nimport { FlatTree } from '../../render/utils/flat-tree.mjs';\nimport { delay } from '../../utils/delay.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { mixValues } from '../animation/mix-values.mjs';\nimport { copyBoxInto, copyAxisDeltaInto } from '../geometry/copy.mjs';\nimport { translateAxis, transformBox, applyBoxDelta, applyTreeDeltas } from '../geometry/delta-apply.mjs';\nimport { calcLength, calcRelativePosition, calcRelativeBox, calcBoxDelta, isNear } from '../geometry/delta-calc.mjs';\nimport { removeBoxTransforms } from '../geometry/delta-remove.mjs';\nimport { createBox, createDelta } from '../geometry/models.mjs';\nimport { boxEqualsRounded, isDeltaZero, axisDeltaEquals, aspectRatio, boxEquals } from '../geometry/utils.mjs';\nimport { NodeStack } from '../shared/stack.mjs';\nimport { scaleCorrectors } from '../styles/scale-correction.mjs';\nimport { buildProjectionTransform } from '../styles/transform.mjs';\nimport { eachAxis } from '../utils/each-axis.mjs';\nimport { hasTransform, hasScale, has2DTranslate } from '../utils/has-transform.mjs';\nimport { globalProjectionState } from './state.mjs';\n\nconst metrics = {\n    nodes: 0,\n    calculatedTargetDeltas: 0,\n    calculatedProjections: 0,\n};\nconst transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\n/**\n * We use 1000 as the animation target as 0-1000 maps better to pixels than 0-1\n * which has a noticeable difference in spring animations\n */\nconst animationTarget = 1000;\nlet id = 0;\nfunction resetDistortingTransform(key, visualElement, values, sharedAnimationValues) {\n    const { latestValues } = visualElement;\n    // Record the distorting transform and then temporarily set it to 0\n    if (latestValues[key]) {\n        values[key] = latestValues[key];\n        visualElement.setStaticValue(key, 0);\n        if (sharedAnimationValues) {\n            sharedAnimationValues[key] = 0;\n        }\n    }\n}\nfunction cancelTreeOptimisedTransformAnimations(projectionNode) {\n    projectionNode.hasCheckedOptimisedAppear = true;\n    if (projectionNode.root === projectionNode)\n        return;\n    const { visualElement } = projectionNode.options;\n    if (!visualElement)\n        return;\n    const appearId = getOptimisedAppearId(visualElement);\n    if (window.MotionHasOptimisedAnimation(appearId, \"transform\")) {\n        const { layout, layoutId } = projectionNode.options;\n        window.MotionCancelOptimisedAnimation(appearId, \"transform\", frame, !(layout || layoutId));\n    }\n    const { parent } = projectionNode;\n    if (parent && !parent.hasCheckedOptimisedAppear) {\n        cancelTreeOptimisedTransformAnimations(parent);\n    }\n}\nfunction createProjectionNode({ attachResizeListener, defaultParent, measureScroll, checkIsScrollRoot, resetTransform, }) {\n    return class ProjectionNode {\n        constructor(latestValues = {}, parent = defaultParent?.()) {\n            /**\n             * A unique ID generated for every projection node.\n             */\n            this.id = id++;\n            /**\n             * An id that represents a unique session instigated by startUpdate.\n             */\n            this.animationId = 0;\n            this.animationCommitId = 0;\n            /**\n             * A Set containing all this component's children. This is used to iterate\n             * through the children.\n             *\n             * TODO: This could be faster to iterate as a flat array stored on the root node.\n             */\n            this.children = new Set();\n            /**\n             * Options for the node. We use this to configure what kind of layout animations\n             * we should perform (if any).\n             */\n            this.options = {};\n            /**\n             * We use this to detect when its safe to shut down part of a projection tree.\n             * We have to keep projecting children for scale correction and relative projection\n             * until all their parents stop performing layout animations.\n             */\n            this.isTreeAnimating = false;\n            this.isAnimationBlocked = false;\n            /**\n             * Flag to true if we think this layout has been changed. We can't always know this,\n             * currently we set it to true every time a component renders, or if it has a layoutDependency\n             * if that has changed between renders. Additionally, components can be grouped by LayoutGroup\n             * and if one node is dirtied, they all are.\n             */\n            this.isLayoutDirty = false;\n            /**\n             * Flag to true if we think the projection calculations for this node needs\n             * recalculating as a result of an updated transform or layout animation.\n             */\n            this.isProjectionDirty = false;\n            /**\n             * Flag to true if the layout *or* transform has changed. This then gets propagated\n             * throughout the projection tree, forcing any element below to recalculate on the next frame.\n             */\n            this.isSharedProjectionDirty = false;\n            /**\n             * Flag transform dirty. This gets propagated throughout the whole tree but is only\n             * respected by shared nodes.\n             */\n            this.isTransformDirty = false;\n            /**\n             * Block layout updates for instant layout transitions throughout the tree.\n             */\n            this.updateManuallyBlocked = false;\n            this.updateBlockedByResize = false;\n            /**\n             * Set to true between the start of the first `willUpdate` call and the end of the `didUpdate`\n             * call.\n             */\n            this.isUpdating = false;\n            /**\n             * If this is an SVG element we currently disable projection transforms\n             */\n            this.isSVG = false;\n            /**\n             * Flag to true (during promotion) if a node doing an instant layout transition needs to reset\n             * its projection styles.\n             */\n            this.needsReset = false;\n            /**\n             * Flags whether this node should have its transform reset prior to measuring.\n             */\n            this.shouldResetTransform = false;\n            /**\n             * Store whether this node has been checked for optimised appear animations. As\n             * effects fire bottom-up, and we want to look up the tree for appear animations,\n             * this makes sure we only check each path once, stopping at nodes that\n             * have already been checked.\n             */\n            this.hasCheckedOptimisedAppear = false;\n            /**\n             * An object representing the calculated contextual/accumulated/tree scale.\n             * This will be used to scale calculcated projection transforms, as these are\n             * calculated in screen-space but need to be scaled for elements to layoutly\n             * make it to their calculated destinations.\n             *\n             * TODO: Lazy-init\n             */\n            this.treeScale = { x: 1, y: 1 };\n            /**\n             *\n             */\n            this.eventHandlers = new Map();\n            this.hasTreeAnimated = false;\n            // Note: Currently only running on root node\n            this.updateScheduled = false;\n            this.scheduleUpdate = () => this.update();\n            this.projectionUpdateScheduled = false;\n            this.checkUpdateFailed = () => {\n                if (this.isUpdating) {\n                    this.isUpdating = false;\n                    this.clearAllSnapshots();\n                }\n            };\n            /**\n             * This is a multi-step process as shared nodes might be of different depths. Nodes\n             * are sorted by depth order, so we need to resolve the entire tree before moving to\n             * the next step.\n             */\n            this.updateProjection = () => {\n                this.projectionUpdateScheduled = false;\n                /**\n                 * Reset debug counts. Manually resetting rather than creating a new\n                 * object each frame.\n                 */\n                if (statsBuffer.value) {\n                    metrics.nodes =\n                        metrics.calculatedTargetDeltas =\n                            metrics.calculatedProjections =\n                                0;\n                }\n                this.nodes.forEach(propagateDirtyNodes);\n                this.nodes.forEach(resolveTargetDelta);\n                this.nodes.forEach(calcProjection);\n                this.nodes.forEach(cleanDirtyNodes);\n                if (statsBuffer.addProjectionMetrics) {\n                    statsBuffer.addProjectionMetrics(metrics);\n                }\n            };\n            /**\n             * Frame calculations\n             */\n            this.resolvedRelativeTargetAt = 0.0;\n            this.hasProjected = false;\n            this.isVisible = true;\n            this.animationProgress = 0;\n            /**\n             * Shared layout\n             */\n            // TODO Only running on root node\n            this.sharedNodes = new Map();\n            this.latestValues = latestValues;\n            this.root = parent ? parent.root || parent : this;\n            this.path = parent ? [...parent.path, parent] : [];\n            this.parent = parent;\n            this.depth = parent ? parent.depth + 1 : 0;\n            for (let i = 0; i < this.path.length; i++) {\n                this.path[i].shouldResetTransform = true;\n            }\n            if (this.root === this)\n                this.nodes = new FlatTree();\n        }\n        addEventListener(name, handler) {\n            if (!this.eventHandlers.has(name)) {\n                this.eventHandlers.set(name, new SubscriptionManager());\n            }\n            return this.eventHandlers.get(name).add(handler);\n        }\n        notifyListeners(name, ...args) {\n            const subscriptionManager = this.eventHandlers.get(name);\n            subscriptionManager && subscriptionManager.notify(...args);\n        }\n        hasListeners(name) {\n            return this.eventHandlers.has(name);\n        }\n        /**\n         * Lifecycles\n         */\n        mount(instance) {\n            if (this.instance)\n                return;\n            this.isSVG = isSVGElement(instance) && !isSVGSVGElement(instance);\n            this.instance = instance;\n            const { layoutId, layout, visualElement } = this.options;\n            if (visualElement && !visualElement.current) {\n                visualElement.mount(instance);\n            }\n            this.root.nodes.add(this);\n            this.parent && this.parent.children.add(this);\n            if (this.root.hasTreeAnimated && (layout || layoutId)) {\n                this.isLayoutDirty = true;\n            }\n            if (attachResizeListener) {\n                let cancelDelay;\n                let innerWidth = 0;\n                const resizeUnblockUpdate = () => (this.root.updateBlockedByResize = false);\n                // Set initial innerWidth in a frame.read callback to batch the read\n                frame.read(() => {\n                    innerWidth = window.innerWidth;\n                });\n                attachResizeListener(instance, () => {\n                    const newInnerWidth = window.innerWidth;\n                    if (newInnerWidth === innerWidth)\n                        return;\n                    innerWidth = newInnerWidth;\n                    this.root.updateBlockedByResize = true;\n                    cancelDelay && cancelDelay();\n                    cancelDelay = delay(resizeUnblockUpdate, 250);\n                    if (globalProjectionState.hasAnimatedSinceResize) {\n                        globalProjectionState.hasAnimatedSinceResize = false;\n                        this.nodes.forEach(finishAnimation);\n                    }\n                });\n            }\n            if (layoutId) {\n                this.root.registerSharedNode(layoutId, this);\n            }\n            // Only register the handler if it requires layout animation\n            if (this.options.animate !== false &&\n                visualElement &&\n                (layoutId || layout)) {\n                this.addEventListener(\"didUpdate\", ({ delta, hasLayoutChanged, hasRelativeLayoutChanged, layout: newLayout, }) => {\n                    if (this.isTreeAnimationBlocked()) {\n                        this.target = undefined;\n                        this.relativeTarget = undefined;\n                        return;\n                    }\n                    // TODO: Check here if an animation exists\n                    const layoutTransition = this.options.transition ||\n                        visualElement.getDefaultTransition() ||\n                        defaultLayoutTransition;\n                    const { onLayoutAnimationStart, onLayoutAnimationComplete, } = visualElement.getProps();\n                    /**\n                     * The target layout of the element might stay the same,\n                     * but its position relative to its parent has changed.\n                     */\n                    const hasTargetChanged = !this.targetLayout ||\n                        !boxEqualsRounded(this.targetLayout, newLayout);\n                    /*\n                     * Note: Disabled to fix relative animations always triggering new\n                     * layout animations. If this causes further issues, we can try\n                     * a different approach to detecting relative target changes.\n                     */\n                    // || hasRelativeLayoutChanged\n                    /**\n                     * If the layout hasn't seemed to have changed, it might be that the\n                     * element is visually in the same place in the document but its position\n                     * relative to its parent has indeed changed. So here we check for that.\n                     */\n                    const hasOnlyRelativeTargetChanged = !hasLayoutChanged && hasRelativeLayoutChanged;\n                    if (this.options.layoutRoot ||\n                        this.resumeFrom ||\n                        hasOnlyRelativeTargetChanged ||\n                        (hasLayoutChanged &&\n                            (hasTargetChanged || !this.currentAnimation))) {\n                        if (this.resumeFrom) {\n                            this.resumingFrom = this.resumeFrom;\n                            this.resumingFrom.resumingFrom = undefined;\n                        }\n                        const animationOptions = {\n                            ...getValueTransition(layoutTransition, \"layout\"),\n                            onPlay: onLayoutAnimationStart,\n                            onComplete: onLayoutAnimationComplete,\n                        };\n                        if (visualElement.shouldReduceMotion ||\n                            this.options.layoutRoot) {\n                            animationOptions.delay = 0;\n                            animationOptions.type = false;\n                        }\n                        this.startAnimation(animationOptions);\n                        /**\n                         * Set animation origin after starting animation to avoid layout jump\n                         * caused by stopping previous layout animation\n                         */\n                        this.setAnimationOrigin(delta, hasOnlyRelativeTargetChanged);\n                    }\n                    else {\n                        /**\n                         * If the layout hasn't changed and we have an animation that hasn't started yet,\n                         * finish it immediately. Otherwise it will be animating from a location\n                         * that was probably never commited to screen and look like a jumpy box.\n                         */\n                        if (!hasLayoutChanged) {\n                            finishAnimation(this);\n                        }\n                        if (this.isLead() && this.options.onExitComplete) {\n                            this.options.onExitComplete();\n                        }\n                    }\n                    this.targetLayout = newLayout;\n                });\n            }\n        }\n        unmount() {\n            this.options.layoutId && this.willUpdate();\n            this.root.nodes.remove(this);\n            const stack = this.getStack();\n            stack && stack.remove(this);\n            this.parent && this.parent.children.delete(this);\n            this.instance = undefined;\n            this.eventHandlers.clear();\n            cancelFrame(this.updateProjection);\n        }\n        // only on the root\n        blockUpdate() {\n            this.updateManuallyBlocked = true;\n        }\n        unblockUpdate() {\n            this.updateManuallyBlocked = false;\n        }\n        isUpdateBlocked() {\n            return this.updateManuallyBlocked || this.updateBlockedByResize;\n        }\n        isTreeAnimationBlocked() {\n            return (this.isAnimationBlocked ||\n                (this.parent && this.parent.isTreeAnimationBlocked()) ||\n                false);\n        }\n        // Note: currently only running on root node\n        startUpdate() {\n            if (this.isUpdateBlocked())\n                return;\n            this.isUpdating = true;\n            this.nodes && this.nodes.forEach(resetSkewAndRotation);\n            this.animationId++;\n        }\n        getTransformTemplate() {\n            const { visualElement } = this.options;\n            return visualElement && visualElement.getProps().transformTemplate;\n        }\n        willUpdate(shouldNotifyListeners = true) {\n            this.root.hasTreeAnimated = true;\n            if (this.root.isUpdateBlocked()) {\n                this.options.onExitComplete && this.options.onExitComplete();\n                return;\n            }\n            /**\n             * If we're running optimised appear animations then these must be\n             * cancelled before measuring the DOM. This is so we can measure\n             * the true layout of the element rather than the WAAPI animation\n             * which will be unaffected by the resetSkewAndRotate step.\n             *\n             * Note: This is a DOM write. Worst case scenario is this is sandwiched\n             * between other snapshot reads which will cause unnecessary style recalculations.\n             * This has to happen here though, as we don't yet know which nodes will need\n             * snapshots in startUpdate(), but we only want to cancel optimised animations\n             * if a layout animation measurement is actually going to be affected by them.\n             */\n            if (window.MotionCancelOptimisedAnimation &&\n                !this.hasCheckedOptimisedAppear) {\n                cancelTreeOptimisedTransformAnimations(this);\n            }\n            !this.root.isUpdating && this.root.startUpdate();\n            if (this.isLayoutDirty)\n                return;\n            this.isLayoutDirty = true;\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                node.shouldResetTransform = true;\n                node.updateScroll(\"snapshot\");\n                if (node.options.layoutRoot) {\n                    node.willUpdate(false);\n                }\n            }\n            const { layoutId, layout } = this.options;\n            if (layoutId === undefined && !layout)\n                return;\n            const transformTemplate = this.getTransformTemplate();\n            this.prevTransformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            this.updateSnapshot();\n            shouldNotifyListeners && this.notifyListeners(\"willUpdate\");\n        }\n        update() {\n            this.updateScheduled = false;\n            const updateWasBlocked = this.isUpdateBlocked();\n            // When doing an instant transition, we skip the layout update,\n            // but should still clean up the measurements so that the next\n            // snapshot could be taken correctly.\n            if (updateWasBlocked) {\n                this.unblockUpdate();\n                this.clearAllSnapshots();\n                this.nodes.forEach(clearMeasurements);\n                return;\n            }\n            /**\n             * If this is a repeat of didUpdate then ignore the animation.\n             */\n            if (this.animationId <= this.animationCommitId) {\n                this.nodes.forEach(clearIsLayoutDirty);\n                return;\n            }\n            this.animationCommitId = this.animationId;\n            if (!this.isUpdating) {\n                this.nodes.forEach(clearIsLayoutDirty);\n            }\n            else {\n                this.isUpdating = false;\n                /**\n                 * Write\n                 */\n                this.nodes.forEach(resetTransformStyle);\n                /**\n                 * Read ==================\n                 */\n                // Update layout measurements of updated children\n                this.nodes.forEach(updateLayout);\n                /**\n                 * Write\n                 */\n                // Notify listeners that the layout is updated\n                this.nodes.forEach(notifyLayoutUpdate);\n            }\n            this.clearAllSnapshots();\n            /**\n             * Manually flush any pending updates. Ideally\n             * we could leave this to the following requestAnimationFrame but this seems\n             * to leave a flash of incorrectly styled content.\n             */\n            const now = time.now();\n            frameData.delta = clamp(0, 1000 / 60, now - frameData.timestamp);\n            frameData.timestamp = now;\n            frameData.isProcessing = true;\n            frameSteps.update.process(frameData);\n            frameSteps.preRender.process(frameData);\n            frameSteps.render.process(frameData);\n            frameData.isProcessing = false;\n        }\n        didUpdate() {\n            if (!this.updateScheduled) {\n                this.updateScheduled = true;\n                microtask.read(this.scheduleUpdate);\n            }\n        }\n        clearAllSnapshots() {\n            this.nodes.forEach(clearSnapshot);\n            this.sharedNodes.forEach(removeLeadSnapshots);\n        }\n        scheduleUpdateProjection() {\n            if (!this.projectionUpdateScheduled) {\n                this.projectionUpdateScheduled = true;\n                frame.preRender(this.updateProjection, false, true);\n            }\n        }\n        scheduleCheckAfterUnmount() {\n            /**\n             * If the unmounting node is in a layoutGroup and did trigger a willUpdate,\n             * we manually call didUpdate to give a chance to the siblings to animate.\n             * Otherwise, cleanup all snapshots to prevents future nodes from reusing them.\n             */\n            frame.postRender(() => {\n                if (this.isLayoutDirty) {\n                    this.root.didUpdate();\n                }\n                else {\n                    this.root.checkUpdateFailed();\n                }\n            });\n        }\n        /**\n         * Update measurements\n         */\n        updateSnapshot() {\n            if (this.snapshot || !this.instance)\n                return;\n            this.snapshot = this.measure();\n            if (this.snapshot &&\n                !calcLength(this.snapshot.measuredBox.x) &&\n                !calcLength(this.snapshot.measuredBox.y)) {\n                this.snapshot = undefined;\n            }\n        }\n        updateLayout() {\n            if (!this.instance)\n                return;\n            this.updateScroll();\n            if (!(this.options.alwaysMeasureLayout && this.isLead()) &&\n                !this.isLayoutDirty) {\n                return;\n            }\n            /**\n             * When a node is mounted, it simply resumes from the prevLead's\n             * snapshot instead of taking a new one, but the ancestors scroll\n             * might have updated while the prevLead is unmounted. We need to\n             * update the scroll again to make sure the layout we measure is\n             * up to date.\n             */\n            if (this.resumeFrom && !this.resumeFrom.instance) {\n                for (let i = 0; i < this.path.length; i++) {\n                    const node = this.path[i];\n                    node.updateScroll();\n                }\n            }\n            const prevLayout = this.layout;\n            this.layout = this.measure(false);\n            this.layoutCorrected = createBox();\n            this.isLayoutDirty = false;\n            this.projectionDelta = undefined;\n            this.notifyListeners(\"measure\", this.layout.layoutBox);\n            const { visualElement } = this.options;\n            visualElement &&\n                visualElement.notify(\"LayoutMeasure\", this.layout.layoutBox, prevLayout ? prevLayout.layoutBox : undefined);\n        }\n        updateScroll(phase = \"measure\") {\n            let needsMeasurement = Boolean(this.options.layoutScroll && this.instance);\n            if (this.scroll &&\n                this.scroll.animationId === this.root.animationId &&\n                this.scroll.phase === phase) {\n                needsMeasurement = false;\n            }\n            if (needsMeasurement && this.instance) {\n                const isRoot = checkIsScrollRoot(this.instance);\n                this.scroll = {\n                    animationId: this.root.animationId,\n                    phase,\n                    isRoot,\n                    offset: measureScroll(this.instance),\n                    wasRoot: this.scroll ? this.scroll.isRoot : isRoot,\n                };\n            }\n        }\n        resetTransform() {\n            if (!resetTransform)\n                return;\n            const isResetRequested = this.isLayoutDirty ||\n                this.shouldResetTransform ||\n                this.options.alwaysMeasureLayout;\n            const hasProjection = this.projectionDelta && !isDeltaZero(this.projectionDelta);\n            const transformTemplate = this.getTransformTemplate();\n            const transformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            const transformTemplateHasChanged = transformTemplateValue !== this.prevTransformTemplateValue;\n            if (isResetRequested &&\n                this.instance &&\n                (hasProjection ||\n                    hasTransform(this.latestValues) ||\n                    transformTemplateHasChanged)) {\n                resetTransform(this.instance, transformTemplateValue);\n                this.shouldResetTransform = false;\n                this.scheduleRender();\n            }\n        }\n        measure(removeTransform = true) {\n            const pageBox = this.measurePageBox();\n            let layoutBox = this.removeElementScroll(pageBox);\n            /**\n             * Measurements taken during the pre-render stage\n             * still have transforms applied so we remove them\n             * via calculation.\n             */\n            if (removeTransform) {\n                layoutBox = this.removeTransform(layoutBox);\n            }\n            roundBox(layoutBox);\n            return {\n                animationId: this.root.animationId,\n                measuredBox: pageBox,\n                layoutBox,\n                latestValues: {},\n                source: this.id,\n            };\n        }\n        measurePageBox() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return createBox();\n            const box = visualElement.measureViewportBox();\n            const wasInScrollRoot = this.scroll?.wasRoot || this.path.some(checkNodeWasScrollRoot);\n            if (!wasInScrollRoot) {\n                // Remove viewport scroll to give page-relative coordinates\n                const { scroll } = this.root;\n                if (scroll) {\n                    translateAxis(box.x, scroll.offset.x);\n                    translateAxis(box.y, scroll.offset.y);\n                }\n            }\n            return box;\n        }\n        removeElementScroll(box) {\n            const boxWithoutScroll = createBox();\n            copyBoxInto(boxWithoutScroll, box);\n            if (this.scroll?.wasRoot) {\n                return boxWithoutScroll;\n            }\n            /**\n             * Performance TODO: Keep a cumulative scroll offset down the tree\n             * rather than loop back up the path.\n             */\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                const { scroll, options } = node;\n                if (node !== this.root && scroll && options.layoutScroll) {\n                    /**\n                     * If this is a new scroll root, we want to remove all previous scrolls\n                     * from the viewport box.\n                     */\n                    if (scroll.wasRoot) {\n                        copyBoxInto(boxWithoutScroll, box);\n                    }\n                    translateAxis(boxWithoutScroll.x, scroll.offset.x);\n                    translateAxis(boxWithoutScroll.y, scroll.offset.y);\n                }\n            }\n            return boxWithoutScroll;\n        }\n        applyTransform(box, transformOnly = false) {\n            const withTransforms = createBox();\n            copyBoxInto(withTransforms, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!transformOnly &&\n                    node.options.layoutScroll &&\n                    node.scroll &&\n                    node !== node.root) {\n                    transformBox(withTransforms, {\n                        x: -node.scroll.offset.x,\n                        y: -node.scroll.offset.y,\n                    });\n                }\n                if (!hasTransform(node.latestValues))\n                    continue;\n                transformBox(withTransforms, node.latestValues);\n            }\n            if (hasTransform(this.latestValues)) {\n                transformBox(withTransforms, this.latestValues);\n            }\n            return withTransforms;\n        }\n        removeTransform(box) {\n            const boxWithoutTransform = createBox();\n            copyBoxInto(boxWithoutTransform, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!node.instance)\n                    continue;\n                if (!hasTransform(node.latestValues))\n                    continue;\n                hasScale(node.latestValues) && node.updateSnapshot();\n                const sourceBox = createBox();\n                const nodeBox = node.measurePageBox();\n                copyBoxInto(sourceBox, nodeBox);\n                removeBoxTransforms(boxWithoutTransform, node.latestValues, node.snapshot ? node.snapshot.layoutBox : undefined, sourceBox);\n            }\n            if (hasTransform(this.latestValues)) {\n                removeBoxTransforms(boxWithoutTransform, this.latestValues);\n            }\n            return boxWithoutTransform;\n        }\n        setTargetDelta(delta) {\n            this.targetDelta = delta;\n            this.root.scheduleUpdateProjection();\n            this.isProjectionDirty = true;\n        }\n        setOptions(options) {\n            this.options = {\n                ...this.options,\n                ...options,\n                crossfade: options.crossfade !== undefined ? options.crossfade : true,\n            };\n        }\n        clearMeasurements() {\n            this.scroll = undefined;\n            this.layout = undefined;\n            this.snapshot = undefined;\n            this.prevTransformTemplateValue = undefined;\n            this.targetDelta = undefined;\n            this.target = undefined;\n            this.isLayoutDirty = false;\n        }\n        forceRelativeParentToResolveTarget() {\n            if (!this.relativeParent)\n                return;\n            /**\n             * If the parent target isn't up-to-date, force it to update.\n             * This is an unfortunate de-optimisation as it means any updating relative\n             * projection will cause all the relative parents to recalculate back\n             * up the tree.\n             */\n            if (this.relativeParent.resolvedRelativeTargetAt !==\n                frameData.timestamp) {\n                this.relativeParent.resolveTargetDelta(true);\n            }\n        }\n        resolveTargetDelta(forceRecalculation = false) {\n            /**\n             * Once the dirty status of nodes has been spread through the tree, we also\n             * need to check if we have a shared node of a different depth that has itself\n             * been dirtied.\n             */\n            const lead = this.getLead();\n            this.isProjectionDirty || (this.isProjectionDirty = lead.isProjectionDirty);\n            this.isTransformDirty || (this.isTransformDirty = lead.isTransformDirty);\n            this.isSharedProjectionDirty || (this.isSharedProjectionDirty = lead.isSharedProjectionDirty);\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            /**\n             * We don't use transform for this step of processing so we don't\n             * need to check whether any nodes have changed transform.\n             */\n            const canSkip = !(forceRecalculation ||\n                (isShared && this.isSharedProjectionDirty) ||\n                this.isProjectionDirty ||\n                this.parent?.isProjectionDirty ||\n                this.attemptToResolveRelativeTarget ||\n                this.root.updateBlockedByResize);\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If we have no layout, we can't perform projection, so early return\n             */\n            if (!this.layout || !(layout || layoutId))\n                return;\n            this.resolvedRelativeTargetAt = frameData.timestamp;\n            /**\n             * If we don't have a targetDelta but do have a layout, we can attempt to resolve\n             * a relativeParent. This will allow a component to perform scale correction\n             * even if no animation has started.\n             */\n            if (!this.targetDelta && !this.relativeTarget) {\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    relativeParent.layout &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.layout.layoutBox, relativeParent.layout.layoutBox);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * If we have no relative target or no target delta our target isn't valid\n             * for this frame.\n             */\n            if (!this.relativeTarget && !this.targetDelta)\n                return;\n            /**\n             * Lazy-init target data structure\n             */\n            if (!this.target) {\n                this.target = createBox();\n                this.targetWithTransforms = createBox();\n            }\n            /**\n             * If we've got a relative box for this component, resolve it into a target relative to the parent.\n             */\n            if (this.relativeTarget &&\n                this.relativeTargetOrigin &&\n                this.relativeParent &&\n                this.relativeParent.target) {\n                this.forceRelativeParentToResolveTarget();\n                calcRelativeBox(this.target, this.relativeTarget, this.relativeParent.target);\n                /**\n                 * If we've only got a targetDelta, resolve it into a target\n                 */\n            }\n            else if (this.targetDelta) {\n                if (Boolean(this.resumingFrom)) {\n                    // TODO: This is creating a new object every frame\n                    this.target = this.applyTransform(this.layout.layoutBox);\n                }\n                else {\n                    copyBoxInto(this.target, this.layout.layoutBox);\n                }\n                applyBoxDelta(this.target, this.targetDelta);\n            }\n            else {\n                /**\n                 * If no target, use own layout as target\n                 */\n                copyBoxInto(this.target, this.layout.layoutBox);\n            }\n            /**\n             * If we've been told to attempt to resolve a relative target, do so.\n             */\n            if (this.attemptToResolveRelativeTarget) {\n                this.attemptToResolveRelativeTarget = false;\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    Boolean(relativeParent.resumingFrom) ===\n                        Boolean(this.resumingFrom) &&\n                    !relativeParent.options.layoutScroll &&\n                    relativeParent.target &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.target, relativeParent.target);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * Increase debug counter for resolved target deltas\n             */\n            if (statsBuffer.value) {\n                metrics.calculatedTargetDeltas++;\n            }\n        }\n        getClosestProjectingParent() {\n            if (!this.parent ||\n                hasScale(this.parent.latestValues) ||\n                has2DTranslate(this.parent.latestValues)) {\n                return undefined;\n            }\n            if (this.parent.isProjecting()) {\n                return this.parent;\n            }\n            else {\n                return this.parent.getClosestProjectingParent();\n            }\n        }\n        isProjecting() {\n            return Boolean((this.relativeTarget ||\n                this.targetDelta ||\n                this.options.layoutRoot) &&\n                this.layout);\n        }\n        calcProjection() {\n            const lead = this.getLead();\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            let canSkip = true;\n            /**\n             * If this is a normal layout animation and neither this node nor its nearest projecting\n             * is dirty then we can't skip.\n             */\n            if (this.isProjectionDirty || this.parent?.isProjectionDirty) {\n                canSkip = false;\n            }\n            /**\n             * If this is a shared layout animation and this node's shared projection is dirty then\n             * we can't skip.\n             */\n            if (isShared &&\n                (this.isSharedProjectionDirty || this.isTransformDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If we have resolved the target this frame we must recalculate the\n             * projection to ensure it visually represents the internal calculations.\n             */\n            if (this.resolvedRelativeTargetAt === frameData.timestamp) {\n                canSkip = false;\n            }\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If this section of the tree isn't animating we can\n             * delete our target sources for the following frame.\n             */\n            this.isTreeAnimating = Boolean((this.parent && this.parent.isTreeAnimating) ||\n                this.currentAnimation ||\n                this.pendingAnimation);\n            if (!this.isTreeAnimating) {\n                this.targetDelta = this.relativeTarget = undefined;\n            }\n            if (!this.layout || !(layout || layoutId))\n                return;\n            /**\n             * Reset the corrected box with the latest values from box, as we're then going\n             * to perform mutative operations on it.\n             */\n            copyBoxInto(this.layoutCorrected, this.layout.layoutBox);\n            /**\n             * Record previous tree scales before updating.\n             */\n            const prevTreeScaleX = this.treeScale.x;\n            const prevTreeScaleY = this.treeScale.y;\n            /**\n             * Apply all the parent deltas to this box to produce the corrected box. This\n             * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n             */\n            applyTreeDeltas(this.layoutCorrected, this.treeScale, this.path, isShared);\n            /**\n             * If this layer needs to perform scale correction but doesn't have a target,\n             * use the layout as the target.\n             */\n            if (lead.layout &&\n                !lead.target &&\n                (this.treeScale.x !== 1 || this.treeScale.y !== 1)) {\n                lead.target = lead.layout.layoutBox;\n                lead.targetWithTransforms = createBox();\n            }\n            const { target } = lead;\n            if (!target) {\n                /**\n                 * If we don't have a target to project into, but we were previously\n                 * projecting, we want to remove the stored transform and schedule\n                 * a render to ensure the elements reflect the removed transform.\n                 */\n                if (this.prevProjectionDelta) {\n                    this.createProjectionDeltas();\n                    this.scheduleRender();\n                }\n                return;\n            }\n            if (!this.projectionDelta || !this.prevProjectionDelta) {\n                this.createProjectionDeltas();\n            }\n            else {\n                copyAxisDeltaInto(this.prevProjectionDelta.x, this.projectionDelta.x);\n                copyAxisDeltaInto(this.prevProjectionDelta.y, this.projectionDelta.y);\n            }\n            /**\n             * Update the delta between the corrected box and the target box before user-set transforms were applied.\n             * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n             * for our layout reprojection, but still allow them to be scaled correctly by the user.\n             * It might be that to simplify this we may want to accept that user-set scale is also corrected\n             * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n             * to allow people to choose whether these styles are corrected based on just the\n             * layout reprojection or the final bounding box.\n             */\n            calcBoxDelta(this.projectionDelta, this.layoutCorrected, target, this.latestValues);\n            if (this.treeScale.x !== prevTreeScaleX ||\n                this.treeScale.y !== prevTreeScaleY ||\n                !axisDeltaEquals(this.projectionDelta.x, this.prevProjectionDelta.x) ||\n                !axisDeltaEquals(this.projectionDelta.y, this.prevProjectionDelta.y)) {\n                this.hasProjected = true;\n                this.scheduleRender();\n                this.notifyListeners(\"projectionUpdate\", target);\n            }\n            /**\n             * Increase debug counter for recalculated projections\n             */\n            if (statsBuffer.value) {\n                metrics.calculatedProjections++;\n            }\n        }\n        hide() {\n            this.isVisible = false;\n            // TODO: Schedule render\n        }\n        show() {\n            this.isVisible = true;\n            // TODO: Schedule render\n        }\n        scheduleRender(notifyAll = true) {\n            this.options.visualElement?.scheduleRender();\n            if (notifyAll) {\n                const stack = this.getStack();\n                stack && stack.scheduleRender();\n            }\n            if (this.resumingFrom && !this.resumingFrom.instance) {\n                this.resumingFrom = undefined;\n            }\n        }\n        createProjectionDeltas() {\n            this.prevProjectionDelta = createDelta();\n            this.projectionDelta = createDelta();\n            this.projectionDeltaWithTransform = createDelta();\n        }\n        setAnimationOrigin(delta, hasOnlyRelativeTargetChanged = false) {\n            const snapshot = this.snapshot;\n            const snapshotLatestValues = snapshot ? snapshot.latestValues : {};\n            const mixedValues = { ...this.latestValues };\n            const targetDelta = createDelta();\n            if (!this.relativeParent ||\n                !this.relativeParent.options.layoutRoot) {\n                this.relativeTarget = this.relativeTargetOrigin = undefined;\n            }\n            this.attemptToResolveRelativeTarget = !hasOnlyRelativeTargetChanged;\n            const relativeLayout = createBox();\n            const snapshotSource = snapshot ? snapshot.source : undefined;\n            const layoutSource = this.layout ? this.layout.source : undefined;\n            const isSharedLayoutAnimation = snapshotSource !== layoutSource;\n            const stack = this.getStack();\n            const isOnlyMember = !stack || stack.members.length <= 1;\n            const shouldCrossfadeOpacity = Boolean(isSharedLayoutAnimation &&\n                !isOnlyMember &&\n                this.options.crossfade === true &&\n                !this.path.some(hasOpacityCrossfade));\n            this.animationProgress = 0;\n            let prevRelativeTarget;\n            this.mixTargetDelta = (latest) => {\n                const progress = latest / 1000;\n                mixAxisDelta(targetDelta.x, delta.x, progress);\n                mixAxisDelta(targetDelta.y, delta.y, progress);\n                this.setTargetDelta(targetDelta);\n                if (this.relativeTarget &&\n                    this.relativeTargetOrigin &&\n                    this.layout &&\n                    this.relativeParent &&\n                    this.relativeParent.layout) {\n                    calcRelativePosition(relativeLayout, this.layout.layoutBox, this.relativeParent.layout.layoutBox);\n                    mixBox(this.relativeTarget, this.relativeTargetOrigin, relativeLayout, progress);\n                    /**\n                     * If this is an unchanged relative target we can consider the\n                     * projection not dirty.\n                     */\n                    if (prevRelativeTarget &&\n                        boxEquals(this.relativeTarget, prevRelativeTarget)) {\n                        this.isProjectionDirty = false;\n                    }\n                    if (!prevRelativeTarget)\n                        prevRelativeTarget = createBox();\n                    copyBoxInto(prevRelativeTarget, this.relativeTarget);\n                }\n                if (isSharedLayoutAnimation) {\n                    this.animationValues = mixedValues;\n                    mixValues(mixedValues, snapshotLatestValues, this.latestValues, progress, shouldCrossfadeOpacity, isOnlyMember);\n                }\n                this.root.scheduleUpdateProjection();\n                this.scheduleRender();\n                this.animationProgress = progress;\n            };\n            this.mixTargetDelta(this.options.layoutRoot ? 1000 : 0);\n        }\n        startAnimation(options) {\n            this.notifyListeners(\"animationStart\");\n            this.currentAnimation?.stop();\n            this.resumingFrom?.currentAnimation?.stop();\n            if (this.pendingAnimation) {\n                cancelFrame(this.pendingAnimation);\n                this.pendingAnimation = undefined;\n            }\n            /**\n             * Start the animation in the next frame to have a frame with progress 0,\n             * where the target is the same as when the animation started, so we can\n             * calculate the relative positions correctly for instant transitions.\n             */\n            this.pendingAnimation = frame.update(() => {\n                globalProjectionState.hasAnimatedSinceResize = true;\n                activeAnimations.layout++;\n                this.motionValue || (this.motionValue = motionValue(0));\n                this.currentAnimation = animateSingleValue(this.motionValue, [0, 1000], {\n                    ...options,\n                    velocity: 0,\n                    isSync: true,\n                    onUpdate: (latest) => {\n                        this.mixTargetDelta(latest);\n                        options.onUpdate && options.onUpdate(latest);\n                    },\n                    onStop: () => {\n                        activeAnimations.layout--;\n                    },\n                    onComplete: () => {\n                        activeAnimations.layout--;\n                        options.onComplete && options.onComplete();\n                        this.completeAnimation();\n                    },\n                });\n                if (this.resumingFrom) {\n                    this.resumingFrom.currentAnimation = this.currentAnimation;\n                }\n                this.pendingAnimation = undefined;\n            });\n        }\n        completeAnimation() {\n            if (this.resumingFrom) {\n                this.resumingFrom.currentAnimation = undefined;\n                this.resumingFrom.preserveOpacity = undefined;\n            }\n            const stack = this.getStack();\n            stack && stack.exitAnimationComplete();\n            this.resumingFrom =\n                this.currentAnimation =\n                    this.animationValues =\n                        undefined;\n            this.notifyListeners(\"animationComplete\");\n        }\n        finishAnimation() {\n            if (this.currentAnimation) {\n                this.mixTargetDelta && this.mixTargetDelta(animationTarget);\n                this.currentAnimation.stop();\n            }\n            this.completeAnimation();\n        }\n        applyTransformsToTarget() {\n            const lead = this.getLead();\n            let { targetWithTransforms, target, layout, latestValues } = lead;\n            if (!targetWithTransforms || !target || !layout)\n                return;\n            /**\n             * If we're only animating position, and this element isn't the lead element,\n             * then instead of projecting into the lead box we instead want to calculate\n             * a new target that aligns the two boxes but maintains the layout shape.\n             */\n            if (this !== lead &&\n                this.layout &&\n                layout &&\n                shouldAnimatePositionOnly(this.options.animationType, this.layout.layoutBox, layout.layoutBox)) {\n                target = this.target || createBox();\n                const xLength = calcLength(this.layout.layoutBox.x);\n                target.x.min = lead.target.x.min;\n                target.x.max = target.x.min + xLength;\n                const yLength = calcLength(this.layout.layoutBox.y);\n                target.y.min = lead.target.y.min;\n                target.y.max = target.y.min + yLength;\n            }\n            copyBoxInto(targetWithTransforms, target);\n            /**\n             * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n             * This is the final box that we will then project into by calculating a transform delta and\n             * applying it to the corrected box.\n             */\n            transformBox(targetWithTransforms, latestValues);\n            /**\n             * Update the delta between the corrected box and the final target box, after\n             * user-set transforms are applied to it. This will be used by the renderer to\n             * create a transform style that will reproject the element from its layout layout\n             * into the desired bounding box.\n             */\n            calcBoxDelta(this.projectionDeltaWithTransform, this.layoutCorrected, targetWithTransforms, latestValues);\n        }\n        registerSharedNode(layoutId, node) {\n            if (!this.sharedNodes.has(layoutId)) {\n                this.sharedNodes.set(layoutId, new NodeStack());\n            }\n            const stack = this.sharedNodes.get(layoutId);\n            stack.add(node);\n            const config = node.options.initialPromotionConfig;\n            node.promote({\n                transition: config ? config.transition : undefined,\n                preserveFollowOpacity: config && config.shouldPreserveFollowOpacity\n                    ? config.shouldPreserveFollowOpacity(node)\n                    : undefined,\n            });\n        }\n        isLead() {\n            const stack = this.getStack();\n            return stack ? stack.lead === this : true;\n        }\n        getLead() {\n            const { layoutId } = this.options;\n            return layoutId ? this.getStack()?.lead || this : this;\n        }\n        getPrevLead() {\n            const { layoutId } = this.options;\n            return layoutId ? this.getStack()?.prevLead : undefined;\n        }\n        getStack() {\n            const { layoutId } = this.options;\n            if (layoutId)\n                return this.root.sharedNodes.get(layoutId);\n        }\n        promote({ needsReset, transition, preserveFollowOpacity, } = {}) {\n            const stack = this.getStack();\n            if (stack)\n                stack.promote(this, preserveFollowOpacity);\n            if (needsReset) {\n                this.projectionDelta = undefined;\n                this.needsReset = true;\n            }\n            if (transition)\n                this.setOptions({ transition });\n        }\n        relegate() {\n            const stack = this.getStack();\n            if (stack) {\n                return stack.relegate(this);\n            }\n            else {\n                return false;\n            }\n        }\n        resetSkewAndRotation() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return;\n            // If there's no detected skew or rotation values, we can early return without a forced render.\n            let hasDistortingTransform = false;\n            /**\n             * An unrolled check for rotation values. Most elements don't have any rotation and\n             * skipping the nested loop and new object creation is 50% faster.\n             */\n            const { latestValues } = visualElement;\n            if (latestValues.z ||\n                latestValues.rotate ||\n                latestValues.rotateX ||\n                latestValues.rotateY ||\n                latestValues.rotateZ ||\n                latestValues.skewX ||\n                latestValues.skewY) {\n                hasDistortingTransform = true;\n            }\n            // If there's no distorting values, we don't need to do any more.\n            if (!hasDistortingTransform)\n                return;\n            const resetValues = {};\n            if (latestValues.z) {\n                resetDistortingTransform(\"z\", visualElement, resetValues, this.animationValues);\n            }\n            // Check the skew and rotate value of all axes and reset to 0\n            for (let i = 0; i < transformAxes.length; i++) {\n                resetDistortingTransform(`rotate${transformAxes[i]}`, visualElement, resetValues, this.animationValues);\n                resetDistortingTransform(`skew${transformAxes[i]}`, visualElement, resetValues, this.animationValues);\n            }\n            // Force a render of this element to apply the transform with all skews and rotations\n            // set to 0.\n            visualElement.render();\n            // Put back all the values we reset\n            for (const key in resetValues) {\n                visualElement.setStaticValue(key, resetValues[key]);\n                if (this.animationValues) {\n                    this.animationValues[key] = resetValues[key];\n                }\n            }\n            // Schedule a render for the next frame. This ensures we won't visually\n            // see the element with the reset rotate value applied.\n            visualElement.scheduleRender();\n        }\n        applyProjectionStyles(targetStyle, // CSSStyleDeclaration - doesn't allow numbers to be assigned to properties\n        styleProp) {\n            if (!this.instance || this.isSVG)\n                return;\n            if (!this.isVisible) {\n                targetStyle.visibility = \"hidden\";\n                return;\n            }\n            const transformTemplate = this.getTransformTemplate();\n            if (this.needsReset) {\n                this.needsReset = false;\n                targetStyle.visibility = \"\";\n                targetStyle.opacity = \"\";\n                targetStyle.pointerEvents =\n                    resolveMotionValue(styleProp?.pointerEvents) || \"\";\n                targetStyle.transform = transformTemplate\n                    ? transformTemplate(this.latestValues, \"\")\n                    : \"none\";\n                return;\n            }\n            const lead = this.getLead();\n            if (!this.projectionDelta || !this.layout || !lead.target) {\n                if (this.options.layoutId) {\n                    targetStyle.opacity =\n                        this.latestValues.opacity !== undefined\n                            ? this.latestValues.opacity\n                            : 1;\n                    targetStyle.pointerEvents =\n                        resolveMotionValue(styleProp?.pointerEvents) || \"\";\n                }\n                if (this.hasProjected && !hasTransform(this.latestValues)) {\n                    targetStyle.transform = transformTemplate\n                        ? transformTemplate({}, \"\")\n                        : \"none\";\n                    this.hasProjected = false;\n                }\n                return;\n            }\n            targetStyle.visibility = \"\";\n            const valuesToRender = lead.animationValues || lead.latestValues;\n            this.applyTransformsToTarget();\n            let transform = buildProjectionTransform(this.projectionDeltaWithTransform, this.treeScale, valuesToRender);\n            if (transformTemplate) {\n                transform = transformTemplate(valuesToRender, transform);\n            }\n            targetStyle.transform = transform;\n            const { x, y } = this.projectionDelta;\n            targetStyle.transformOrigin = `${x.origin * 100}% ${y.origin * 100}% 0`;\n            if (lead.animationValues) {\n                /**\n                 * If the lead component is animating, assign this either the entering/leaving\n                 * opacity\n                 */\n                targetStyle.opacity =\n                    lead === this\n                        ? valuesToRender.opacity ??\n                            this.latestValues.opacity ??\n                            1\n                        : this.preserveOpacity\n                            ? this.latestValues.opacity\n                            : valuesToRender.opacityExit;\n            }\n            else {\n                /**\n                 * Or we're not animating at all, set the lead component to its layout\n                 * opacity and other components to hidden.\n                 */\n                targetStyle.opacity =\n                    lead === this\n                        ? valuesToRender.opacity !== undefined\n                            ? valuesToRender.opacity\n                            : \"\"\n                        : valuesToRender.opacityExit !== undefined\n                            ? valuesToRender.opacityExit\n                            : 0;\n            }\n            /**\n             * Apply scale correction\n             */\n            for (const key in scaleCorrectors) {\n                if (valuesToRender[key] === undefined)\n                    continue;\n                const { correct, applyTo, isCSSVariable } = scaleCorrectors[key];\n                /**\n                 * Only apply scale correction to the value if we have an\n                 * active projection transform. Otherwise these values become\n                 * vulnerable to distortion if the element changes size without\n                 * a corresponding layout animation.\n                 */\n                const corrected = transform === \"none\"\n                    ? valuesToRender[key]\n                    : correct(valuesToRender[key], lead);\n                if (applyTo) {\n                    const num = applyTo.length;\n                    for (let i = 0; i < num; i++) {\n                        targetStyle[applyTo[i]] = corrected;\n                    }\n                }\n                else {\n                    // If this is a CSS variable, set it directly on the instance.\n                    // Replacing this function from creating styles to setting them\n                    // would be a good place to remove per frame object creation\n                    if (isCSSVariable) {\n                        this.options.visualElement.renderState.vars[key] = corrected;\n                    }\n                    else {\n                        targetStyle[key] = corrected;\n                    }\n                }\n            }\n            /**\n             * Disable pointer events on follow components. This is to ensure\n             * that if a follow component covers a lead component it doesn't block\n             * pointer events on the lead.\n             */\n            if (this.options.layoutId) {\n                targetStyle.pointerEvents =\n                    lead === this\n                        ? resolveMotionValue(styleProp?.pointerEvents) || \"\"\n                        : \"none\";\n            }\n        }\n        clearSnapshot() {\n            this.resumeFrom = this.snapshot = undefined;\n        }\n        // Only run on root\n        resetTree() {\n            this.root.nodes.forEach((node) => node.currentAnimation?.stop());\n            this.root.nodes.forEach(clearMeasurements);\n            this.root.sharedNodes.clear();\n        }\n    };\n}\nfunction updateLayout(node) {\n    node.updateLayout();\n}\nfunction notifyLayoutUpdate(node) {\n    const snapshot = node.resumeFrom?.snapshot || node.snapshot;\n    if (node.isLead() &&\n        node.layout &&\n        snapshot &&\n        node.hasListeners(\"didUpdate\")) {\n        const { layoutBox: layout, measuredBox: measuredLayout } = node.layout;\n        const { animationType } = node.options;\n        const isShared = snapshot.source !== node.layout.source;\n        // TODO Maybe we want to also resize the layout snapshot so we don't trigger\n        // animations for instance if layout=\"size\" and an element has only changed position\n        if (animationType === \"size\") {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(axisSnapshot);\n                axisSnapshot.min = layout[axis].min;\n                axisSnapshot.max = axisSnapshot.min + length;\n            });\n        }\n        else if (shouldAnimatePositionOnly(animationType, snapshot.layoutBox, layout)) {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(layout[axis]);\n                axisSnapshot.max = axisSnapshot.min + length;\n                /**\n                 * Ensure relative target gets resized and rerendererd\n                 */\n                if (node.relativeTarget && !node.currentAnimation) {\n                    node.isProjectionDirty = true;\n                    node.relativeTarget[axis].max =\n                        node.relativeTarget[axis].min + length;\n                }\n            });\n        }\n        const layoutDelta = createDelta();\n        calcBoxDelta(layoutDelta, layout, snapshot.layoutBox);\n        const visualDelta = createDelta();\n        if (isShared) {\n            calcBoxDelta(visualDelta, node.applyTransform(measuredLayout, true), snapshot.measuredBox);\n        }\n        else {\n            calcBoxDelta(visualDelta, layout, snapshot.layoutBox);\n        }\n        const hasLayoutChanged = !isDeltaZero(layoutDelta);\n        let hasRelativeLayoutChanged = false;\n        if (!node.resumeFrom) {\n            const relativeParent = node.getClosestProjectingParent();\n            /**\n             * If the relativeParent is itself resuming from a different element then\n             * the relative snapshot is not relavent\n             */\n            if (relativeParent && !relativeParent.resumeFrom) {\n                const { snapshot: parentSnapshot, layout: parentLayout } = relativeParent;\n                if (parentSnapshot && parentLayout) {\n                    const relativeSnapshot = createBox();\n                    calcRelativePosition(relativeSnapshot, snapshot.layoutBox, parentSnapshot.layoutBox);\n                    const relativeLayout = createBox();\n                    calcRelativePosition(relativeLayout, layout, parentLayout.layoutBox);\n                    if (!boxEqualsRounded(relativeSnapshot, relativeLayout)) {\n                        hasRelativeLayoutChanged = true;\n                    }\n                    if (relativeParent.options.layoutRoot) {\n                        node.relativeTarget = relativeLayout;\n                        node.relativeTargetOrigin = relativeSnapshot;\n                        node.relativeParent = relativeParent;\n                    }\n                }\n            }\n        }\n        node.notifyListeners(\"didUpdate\", {\n            layout,\n            snapshot,\n            delta: visualDelta,\n            layoutDelta,\n            hasLayoutChanged,\n            hasRelativeLayoutChanged,\n        });\n    }\n    else if (node.isLead()) {\n        const { onExitComplete } = node.options;\n        onExitComplete && onExitComplete();\n    }\n    /**\n     * Clearing transition\n     * TODO: Investigate why this transition is being passed in as {type: false } from Framer\n     * and why we need it at all\n     */\n    node.options.transition = undefined;\n}\nfunction propagateDirtyNodes(node) {\n    /**\n     * Increase debug counter for nodes encountered this frame\n     */\n    if (statsBuffer.value) {\n        metrics.nodes++;\n    }\n    if (!node.parent)\n        return;\n    /**\n     * If this node isn't projecting, propagate isProjectionDirty. It will have\n     * no performance impact but it will allow the next child that *is* projecting\n     * but *isn't* dirty to just check its parent to see if *any* ancestor needs\n     * correcting.\n     */\n    if (!node.isProjecting()) {\n        node.isProjectionDirty = node.parent.isProjectionDirty;\n    }\n    /**\n     * Propagate isSharedProjectionDirty and isTransformDirty\n     * throughout the whole tree. A future revision can take another look at\n     * this but for safety we still recalcualte shared nodes.\n     */\n    node.isSharedProjectionDirty || (node.isSharedProjectionDirty = Boolean(node.isProjectionDirty ||\n        node.parent.isProjectionDirty ||\n        node.parent.isSharedProjectionDirty));\n    node.isTransformDirty || (node.isTransformDirty = node.parent.isTransformDirty);\n}\nfunction cleanDirtyNodes(node) {\n    node.isProjectionDirty =\n        node.isSharedProjectionDirty =\n            node.isTransformDirty =\n                false;\n}\nfunction clearSnapshot(node) {\n    node.clearSnapshot();\n}\nfunction clearMeasurements(node) {\n    node.clearMeasurements();\n}\nfunction clearIsLayoutDirty(node) {\n    node.isLayoutDirty = false;\n}\nfunction resetTransformStyle(node) {\n    const { visualElement } = node.options;\n    if (visualElement && visualElement.getProps().onBeforeLayoutMeasure) {\n        visualElement.notify(\"BeforeLayoutMeasure\");\n    }\n    node.resetTransform();\n}\nfunction finishAnimation(node) {\n    node.finishAnimation();\n    node.targetDelta = node.relativeTarget = node.target = undefined;\n    node.isProjectionDirty = true;\n}\nfunction resolveTargetDelta(node) {\n    node.resolveTargetDelta();\n}\nfunction calcProjection(node) {\n    node.calcProjection();\n}\nfunction resetSkewAndRotation(node) {\n    node.resetSkewAndRotation();\n}\nfunction removeLeadSnapshots(stack) {\n    stack.removeLeadSnapshot();\n}\nfunction mixAxisDelta(output, delta, p) {\n    output.translate = mixNumber(delta.translate, 0, p);\n    output.scale = mixNumber(delta.scale, 1, p);\n    output.origin = delta.origin;\n    output.originPoint = delta.originPoint;\n}\nfunction mixAxis(output, from, to, p) {\n    output.min = mixNumber(from.min, to.min, p);\n    output.max = mixNumber(from.max, to.max, p);\n}\nfunction mixBox(output, from, to, p) {\n    mixAxis(output.x, from.x, to.x, p);\n    mixAxis(output.y, from.y, to.y, p);\n}\nfunction hasOpacityCrossfade(node) {\n    return (node.animationValues && node.animationValues.opacityExit !== undefined);\n}\nconst defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nconst userAgentContains = (string) => typeof navigator !== \"undefined\" &&\n    navigator.userAgent &&\n    navigator.userAgent.toLowerCase().includes(string);\n/**\n * Measured bounding boxes must be rounded in Safari and\n * left untouched in Chrome, otherwise non-integer layouts within scaled-up elements\n * can appear to jump.\n */\nconst roundPoint = userAgentContains(\"applewebkit/\") && !userAgentContains(\"chrome/\")\n    ? Math.round\n    : noop;\nfunction roundAxis(axis) {\n    // Round to the nearest .5 pixels to support subpixel layouts\n    axis.min = roundPoint(axis.min);\n    axis.max = roundPoint(axis.max);\n}\nfunction roundBox(box) {\n    roundAxis(box.x);\n    roundAxis(box.y);\n}\nfunction shouldAnimatePositionOnly(animationType, snapshot, layout) {\n    return (animationType === \"position\" ||\n        (animationType === \"preserve-aspect\" &&\n            !isNear(aspectRatio(snapshot), aspectRatio(layout), 0.2)));\n}\nfunction checkNodeWasScrollRoot(node) {\n    return node !== node.root && node.scroll?.wasRoot;\n}\n\nexport { cleanDirtyNodes, createProjectionNode, mixAxis, mixAxisDelta, mixBox, propagateDirtyNodes };\n","import { isSVGElement } from './is-svg-element.mjs';\n\n/**\n * Checks if an element is specifically an SVGSVGElement (the root SVG element)\n * in a way that works across iframes\n */\nfunction isSVGSVGElement(element) {\n    return isSVGElement(element) && element.tagName === \"svg\";\n}\n\nexport { isSVGSVGElement };\n","import { isMotionValue, motionValue } from 'motion-dom';\nimport { animateMotionValue } from '../interfaces/motion-value.mjs';\n\nfunction animateSingleValue(value, keyframes, options) {\n    const motionValue$1 = isMotionValue(value) ? value : motionValue(value);\n    motionValue$1.start(animateMotionValue(\"\", motionValue$1, keyframes, options));\n    return motionValue$1.animation;\n}\n\nexport { animateSingleValue };\n","function buildProjectionTransform(delta, treeScale, latestTransform) {\n    let transform = \"\";\n    /**\n     * The translations we use to calculate are always relative to the viewport coordinate space.\n     * But when we apply scales, we also scale the coordinate space of an element and its children.\n     * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n     * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n     */\n    const xTranslate = delta.x.translate / treeScale.x;\n    const yTranslate = delta.y.translate / treeScale.y;\n    const zTranslate = latestTransform?.z || 0;\n    if (xTranslate || yTranslate || zTranslate) {\n        transform = `translate3d(${xTranslate}px, ${yTranslate}px, ${zTranslate}px) `;\n    }\n    /**\n     * Apply scale correction for the tree transform.\n     * This will apply scale to the screen-orientated axes.\n     */\n    if (treeScale.x !== 1 || treeScale.y !== 1) {\n        transform += `scale(${1 / treeScale.x}, ${1 / treeScale.y}) `;\n    }\n    if (latestTransform) {\n        const { transformPerspective, rotate, rotateX, rotateY, skewX, skewY } = latestTransform;\n        if (transformPerspective)\n            transform = `perspective(${transformPerspective}px) ${transform}`;\n        if (rotate)\n            transform += `rotate(${rotate}deg) `;\n        if (rotateX)\n            transform += `rotateX(${rotateX}deg) `;\n        if (rotateY)\n            transform += `rotateY(${rotateY}deg) `;\n        if (skewX)\n            transform += `skewX(${skewX}deg) `;\n        if (skewY)\n            transform += `skewY(${skewY}deg) `;\n    }\n    /**\n     * Apply scale to match the size of the element to the size we want it.\n     * This will apply scale to the element-orientated axes.\n     */\n    const elementScaleX = delta.x.scale * treeScale.x;\n    const elementScaleY = delta.y.scale * treeScale.y;\n    if (elementScaleX !== 1 || elementScaleY !== 1) {\n        transform += `scale(${elementScaleX}, ${elementScaleY})`;\n    }\n    return transform || \"none\";\n}\n\nexport { buildProjectionTransform };\n","import { addDomEvent } from '../../events/add-dom-event.mjs';\nimport { createProjectionNode } from './create-projection-node.mjs';\n\nconst DocumentProjectionNode = createProjectionNode({\n    attachResizeListener: (ref, notify) => addDomEvent(ref, \"resize\", notify),\n    measureScroll: () => ({\n        x: document.documentElement.scrollLeft || document.body.scrollLeft,\n        y: document.documentElement.scrollTop || document.body.scrollTop,\n    }),\n    checkIsScrollRoot: () => true,\n});\n\nexport { DocumentProjectionNode };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { DocumentProjectionNode } from './DocumentProjectionNode.mjs';\n\nconst rootProjectionNode = {\n    current: undefined,\n};\nconst HTMLProjectionNode = createProjectionNode({\n    measureScroll: (instance) => ({\n        x: instance.scrollLeft,\n        y: instance.scrollTop,\n    }),\n    defaultParent: () => {\n        if (!rootProjectionNode.current) {\n            const documentNode = new DocumentProjectionNode({});\n            documentNode.mount(window);\n            documentNode.setOptions({ layoutScroll: true });\n            rootProjectionNode.current = documentNode;\n        }\n        return rootProjectionNode.current;\n    },\n    resetTransform: (instance, value) => {\n        instance.style.transform = value !== undefined ? value : \"none\";\n    },\n    checkIsScrollRoot: (instance) => Boolean(window.getComputedStyle(instance).position === \"fixed\"),\n});\n\nexport { HTMLProjectionNode, rootProjectionNode };\n","import { DragGesture } from '../../gestures/drag/index.mjs';\nimport { PanGesture } from '../../gestures/pan/index.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\nimport { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\n\nconst drag = {\n    pan: {\n        Feature: PanGesture,\n    },\n    drag: {\n        Feature: DragGesture,\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { drag };\n","import { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from 'motion-utils';\nimport { VisualElementDragControls } from './VisualElementDragControls.mjs';\n\nclass DragGesture extends Feature {\n    constructor(node) {\n        super(node);\n        this.removeGroupControls = noop;\n        this.removeListeners = noop;\n        this.controls = new VisualElementDragControls(node);\n    }\n    mount() {\n        // If we've been provided a DragControls for manual control over the drag gesture,\n        // subscribe this component to it on mount.\n        const { dragControls } = this.node.getProps();\n        if (dragControls) {\n            this.removeGroupControls = dragControls.subscribe(this.controls);\n        }\n        this.removeListeners = this.controls.addListeners() || noop;\n    }\n    unmount() {\n        this.removeGroupControls();\n        this.removeListeners();\n    }\n}\n\nexport { DragGesture };\n","import { resolveElements } from '../../utils/resolve-elements.mjs';\n\nfunction setupGesture(elementOrSelector, options) {\n    const elements = resolveElements(elementOrSelector);\n    const gestureAbortController = new AbortController();\n    const eventOptions = {\n        passive: true,\n        ...options,\n        signal: gestureAbortController.signal,\n    };\n    const cancel = () => gestureAbortController.abort();\n    return [elements, eventOptions, cancel];\n}\n\nexport { setupGesture };\n","function resolveElements(elementOrSelector, scope, selectorCache) {\n    if (elementOrSelector instanceof EventTarget) {\n        return [elementOrSelector];\n    }\n    else if (typeof elementOrSelector === \"string\") {\n        let root = document;\n        if (scope) {\n            root = scope.current;\n        }\n        const elements = selectorCache?.[elementOrSelector] ??\n            root.querySelectorAll(elementOrSelector);\n        return elements ? Array.from(elements) : [];\n    }\n    return Array.from(elementOrSelector);\n}\n\nexport { resolveElements };\n","import { isDragActive } from './drag/state/is-active.mjs';\nimport { setupGesture } from './utils/setup.mjs';\n\nfunction isValidHover(event) {\n    return !(event.pointerType === \"touch\" || isDragActive());\n}\n/**\n * Create a hover gesture. hover() is different to .addEventListener(\"pointerenter\")\n * in that it has an easier syntax, filters out polyfilled touch events, interoperates\n * with drag gestures, and automatically removes the \"pointerennd\" event listener when the hover ends.\n *\n * @public\n */\nfunction hover(elementOrSelector, onHoverStart, options = {}) {\n    const [elements, eventOptions, cancel] = setupGesture(elementOrSelector, options);\n    const onPointerEnter = (enterEvent) => {\n        if (!isValidHover(enterEvent))\n            return;\n        const { target } = enterEvent;\n        const onHoverEnd = onHoverStart(target, enterEvent);\n        if (typeof onHoverEnd !== \"function\" || !target)\n            return;\n        const onPointerLeave = (leaveEvent) => {\n            if (!isValidHover(leaveEvent))\n                return;\n            onHoverEnd(leaveEvent);\n            target.removeEventListener(\"pointerleave\", onPointerLeave);\n        };\n        target.addEventListener(\"pointerleave\", onPointerLeave, eventOptions);\n    };\n    elements.forEach((element) => {\n        element.addEventListener(\"pointerenter\", onPointerEnter, eventOptions);\n    });\n    return cancel;\n}\n\nexport { hover };\n","import { hover, frame } from 'motion-dom';\nimport { extractEventInfo } from '../events/event-info.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\n\nfunction handleHoverEvent(node, event, lifecycle) {\n    const { props } = node;\n    if (node.animationState && props.whileHover) {\n        node.animationState.setActive(\"whileHover\", lifecycle === \"Start\");\n    }\n    const eventName = (\"onHover\" + lifecycle);\n    const callback = props[eventName];\n    if (callback) {\n        frame.postRender(() => callback(event, extractEventInfo(event)));\n    }\n}\nclass HoverGesture extends Feature {\n    mount() {\n        const { current } = this.node;\n        if (!current)\n            return;\n        this.unmount = hover(current, (_element, startEvent) => {\n            handleHoverEvent(this.node, startEvent, \"Start\");\n            return (endEvent) => handleHoverEvent(this.node, endEvent, \"End\");\n        });\n    }\n    unmount() { }\n}\n\nexport { HoverGesture };\n","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nconst isNodeOrChild = (parent, child) => {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nexport { isNodeOrChild };\n","const focusableElements = new Set([\n    \"BUTTON\",\n    \"INPUT\",\n    \"SELECT\",\n    \"TEXTAREA\",\n    \"A\",\n]);\nfunction isElementKeyboardAccessible(element) {\n    return (focusableElements.has(element.tagName) ||\n        element.tabIndex !== -1);\n}\n\nexport { isElementKeyboardAccessible };\n","const isPressing = new WeakSet();\n\nexport { isPressing };\n","import { isPressing } from './state.mjs';\n\n/**\n * Filter out events that are not \"Enter\" keys.\n */\nfunction filterEvents(callback) {\n    return (event) => {\n        if (event.key !== \"Enter\")\n            return;\n        callback(event);\n    };\n}\nfunction firePointerEvent(target, type) {\n    target.dispatchEvent(new PointerEvent(\"pointer\" + type, { isPrimary: true, bubbles: true }));\n}\nconst enableKeyboardPress = (focusEvent, eventOptions) => {\n    const element = focusEvent.currentTarget;\n    if (!element)\n        return;\n    const handleKeydown = filterEvents(() => {\n        if (isPressing.has(element))\n            return;\n        firePointerEvent(element, \"down\");\n        const handleKeyup = filterEvents(() => {\n            firePointerEvent(element, \"up\");\n        });\n        const handleBlur = () => firePointerEvent(element, \"cancel\");\n        element.addEventListener(\"keyup\", handleKeyup, eventOptions);\n        element.addEventListener(\"blur\", handleBlur, eventOptions);\n    });\n    element.addEventListener(\"keydown\", handleKeydown, eventOptions);\n    /**\n     * Add an event listener that fires on blur to remove the keydown events.\n     */\n    element.addEventListener(\"blur\", () => element.removeEventListener(\"keydown\", handleKeydown), eventOptions);\n};\n\nexport { enableKeyboardPress };\n","import { isHTMLElement } from '../../utils/is-html-element.mjs';\nimport { isDragActive } from '../drag/state/is-active.mjs';\nimport { isNodeOrChild } from '../utils/is-node-or-child.mjs';\nimport { isPrimaryPointer } from '../utils/is-primary-pointer.mjs';\nimport { setupGesture } from '../utils/setup.mjs';\nimport { isElementKeyboardAccessible } from './utils/is-keyboard-accessible.mjs';\nimport { enableKeyboardPress } from './utils/keyboard.mjs';\nimport { isPressing } from './utils/state.mjs';\n\n/**\n * Filter out events that are not primary pointer events, or are triggering\n * while a Motion gesture is active.\n */\nfunction isValidPressEvent(event) {\n    return isPrimaryPointer(event) && !isDragActive();\n}\n/**\n * Create a press gesture.\n *\n * Press is different to `\"pointerdown\"`, `\"pointerup\"` in that it\n * automatically filters out secondary pointer events like right\n * click and multitouch.\n *\n * It also adds accessibility support for keyboards, where\n * an element with a press gesture will receive focus and\n *  trigger on Enter `\"keydown\"` and `\"keyup\"` events.\n *\n * This is different to a browser's `\"click\"` event, which does\n * respond to keyboards but only for the `\"click\"` itself, rather\n * than the press start and end/cancel. The element also needs\n * to be focusable for this to work, whereas a press gesture will\n * make an element focusable by default.\n *\n * @public\n */\nfunction press(targetOrSelector, onPressStart, options = {}) {\n    const [targets, eventOptions, cancelEvents] = setupGesture(targetOrSelector, options);\n    const startPress = (startEvent) => {\n        const target = startEvent.currentTarget;\n        if (!isValidPressEvent(startEvent))\n            return;\n        isPressing.add(target);\n        const onPressEnd = onPressStart(target, startEvent);\n        const onPointerEnd = (endEvent, success) => {\n            window.removeEventListener(\"pointerup\", onPointerUp);\n            window.removeEventListener(\"pointercancel\", onPointerCancel);\n            if (isPressing.has(target)) {\n                isPressing.delete(target);\n            }\n            if (!isValidPressEvent(endEvent)) {\n                return;\n            }\n            if (typeof onPressEnd === \"function\") {\n                onPressEnd(endEvent, { success });\n            }\n        };\n        const onPointerUp = (upEvent) => {\n            onPointerEnd(upEvent, target === window ||\n                target === document ||\n                options.useGlobalTarget ||\n                isNodeOrChild(target, upEvent.target));\n        };\n        const onPointerCancel = (cancelEvent) => {\n            onPointerEnd(cancelEvent, false);\n        };\n        window.addEventListener(\"pointerup\", onPointerUp, eventOptions);\n        window.addEventListener(\"pointercancel\", onPointerCancel, eventOptions);\n    };\n    targets.forEach((target) => {\n        const pointerDownTarget = options.useGlobalTarget ? window : target;\n        pointerDownTarget.addEventListener(\"pointerdown\", startPress, eventOptions);\n        if (isHTMLElement(target)) {\n            target.addEventListener(\"focus\", (event) => enableKeyboardPress(event, eventOptions));\n            if (!isElementKeyboardAccessible(target) &&\n                !target.hasAttribute(\"tabindex\")) {\n                target.tabIndex = 0;\n            }\n        }\n    });\n    return cancelEvents;\n}\n\nexport { press };\n","import { press, frame } from 'motion-dom';\nimport { extractEventInfo } from '../events/event-info.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\n\nfunction handlePressEvent(node, event, lifecycle) {\n    const { props } = node;\n    if (node.current instanceof HTMLButtonElement && node.current.disabled) {\n        return;\n    }\n    if (node.animationState && props.whileTap) {\n        node.animationState.setActive(\"whileTap\", lifecycle === \"Start\");\n    }\n    const eventName = (\"onTap\" + (lifecycle === \"End\" ? \"\" : lifecycle));\n    const callback = props[eventName];\n    if (callback) {\n        frame.postRender(() => callback(event, extractEventInfo(event)));\n    }\n}\nclass PressGesture extends Feature {\n    mount() {\n        const { current } = this.node;\n        if (!current)\n            return;\n        this.unmount = press(current, (_element, startEvent) => {\n            handlePressEvent(this.node, startEvent, \"Start\");\n            return (endEvent, { success }) => handlePressEvent(this.node, endEvent, success ? \"End\" : \"Cancel\");\n        }, { useGlobalTarget: this.node.props.globalTapTarget });\n    }\n    unmount() { }\n}\n\nexport { PressGesture };\n","/**\n * Map an IntersectionHandler callback to an element. We only ever make one handler for one\n * element, so even though these handlers might all be triggered by different\n * observers, we can keep them in the same map.\n */\nconst observerCallbacks = new WeakMap();\n/**\n * Multiple observers can be created for multiple element/document roots. Each with\n * different settings. So here we store dictionaries of observers to each root,\n * using serialised settings (threshold/margin) as lookup keys.\n */\nconst observers = new WeakMap();\nconst fireObserverCallback = (entry) => {\n    const callback = observerCallbacks.get(entry.target);\n    callback && callback(entry);\n};\nconst fireAllObserverCallbacks = (entries) => {\n    entries.forEach(fireObserverCallback);\n};\nfunction initIntersectionObserver({ root, ...options }) {\n    const lookupRoot = root || document;\n    /**\n     * If we don't have an observer lookup map for this root, create one.\n     */\n    if (!observers.has(lookupRoot)) {\n        observers.set(lookupRoot, {});\n    }\n    const rootObservers = observers.get(lookupRoot);\n    const key = JSON.stringify(options);\n    /**\n     * If we don't have an observer for this combination of root and settings,\n     * create one.\n     */\n    if (!rootObservers[key]) {\n        rootObservers[key] = new IntersectionObserver(fireAllObserverCallbacks, { root, ...options });\n    }\n    return rootObservers[key];\n}\nfunction observeIntersection(element, options, callback) {\n    const rootInteresectionObserver = initIntersectionObserver(options);\n    observerCallbacks.set(element, callback);\n    rootInteresectionObserver.observe(element);\n    return () => {\n        observerCallbacks.delete(element);\n        rootInteresectionObserver.unobserve(element);\n    };\n}\n\nexport { observeIntersection };\n","import { Feature } from '../Feature.mjs';\nimport { observeIntersection } from './observers.mjs';\n\nconst thresholdNames = {\n    some: 0,\n    all: 1,\n};\nclass InViewFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.hasEnteredView = false;\n        this.isInView = false;\n    }\n    startObserver() {\n        this.unmount();\n        const { viewport = {} } = this.node.getProps();\n        const { root, margin: rootMargin, amount = \"some\", once } = viewport;\n        const options = {\n            root: root ? root.current : undefined,\n            rootMargin,\n            threshold: typeof amount === \"number\" ? amount : thresholdNames[amount],\n        };\n        const onIntersectionUpdate = (entry) => {\n            const { isIntersecting } = entry;\n            /**\n             * If there's been no change in the viewport state, early return.\n             */\n            if (this.isInView === isIntersecting)\n                return;\n            this.isInView = isIntersecting;\n            /**\n             * Handle hasEnteredView. If this is only meant to run once, and\n             * element isn't visible, early return. Otherwise set hasEnteredView to true.\n             */\n            if (once && !isIntersecting && this.hasEnteredView) {\n                return;\n            }\n            else if (isIntersecting) {\n                this.hasEnteredView = true;\n            }\n            if (this.node.animationState) {\n                this.node.animationState.setActive(\"whileInView\", isIntersecting);\n            }\n            /**\n             * Use the latest committed props rather than the ones in scope\n             * when this observer is created\n             */\n            const { onViewportEnter, onViewportLeave } = this.node.getProps();\n            const callback = isIntersecting ? onViewportEnter : onViewportLeave;\n            callback && callback(entry);\n        };\n        return observeIntersection(this.node.current, options, onIntersectionUpdate);\n    }\n    mount() {\n        this.startObserver();\n    }\n    update() {\n        if (typeof IntersectionObserver === \"undefined\")\n            return;\n        const { props, prevProps } = this.node;\n        const hasOptionsChanged = [\"amount\", \"margin\", \"root\"].some(hasViewportOptionChanged(props, prevProps));\n        if (hasOptionsChanged) {\n            this.startObserver();\n        }\n    }\n    unmount() { }\n}\nfunction hasViewportOptionChanged({ viewport = {} }, { viewport: prevViewport = {} } = {}) {\n    return (name) => viewport[name] !== prevViewport[name];\n}\n\nexport { InViewFeature };\n","import { HoverGesture } from '../../gestures/hover.mjs';\nimport { FocusGesture } from '../../gestures/focus.mjs';\nimport { PressGesture } from '../../gestures/press.mjs';\nimport { InViewFeature } from './viewport/index.mjs';\n\nconst gestureAnimations = {\n    inView: {\n        Feature: InViewFeature,\n    },\n    tap: {\n        Feature: PressGesture,\n    },\n    focus: {\n        Feature: FocusGesture,\n    },\n    hover: {\n        Feature: HoverGesture,\n    },\n};\n\nexport { gestureAnimations };\n","import { pipe } from 'motion-utils';\nimport { addDomEvent } from '../events/add-dom-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\n\nclass FocusGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.isActive = false;\n    }\n    onFocus() {\n        let isFocusVisible = false;\n        /**\n         * If this element doesn't match focus-visible then don't\n         * apply whileHover. But, if matches throws that focus-visible\n         * is not a valid selector then in that browser outline styles will be applied\n         * to the element by default and we want to match that behaviour with whileFocus.\n         */\n        try {\n            isFocusVisible = this.node.current.matches(\":focus-visible\");\n        }\n        catch (e) {\n            isFocusVisible = true;\n        }\n        if (!isFocusVisible || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", true);\n        this.isActive = true;\n    }\n    onBlur() {\n        if (!this.isActive || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", false);\n        this.isActive = false;\n    }\n    mount() {\n        this.unmount = pipe(addDomEvent(this.node.current, \"focus\", () => this.onFocus()), addDomEvent(this.node.current, \"blur\", () => this.onBlur()));\n    }\n    unmount() { }\n}\n\nexport { FocusGesture };\n","import { createDomVisualElement } from '../../dom/create-visual-element.mjs';\nimport { createMotionProxy } from '../create-proxy.mjs';\nimport { featureBundle } from './feature-bundle.mjs';\n\nconst motion = /*@__PURE__*/ createMotionProxy(featureBundle, createDomVisualElement);\n\nexport { motion };\n","import { animations } from '../../../motion/features/animations.mjs';\nimport { drag } from '../../../motion/features/drag.mjs';\nimport { gestureAnimations } from '../../../motion/features/gestures.mjs';\nimport { layout } from '../../../motion/features/layout.mjs';\n\nconst featureBundle = {\n    ...animations,\n    ...gestureAnimations,\n    ...drag,\n    ...layout,\n};\n\nexport { featureBundle };\n","import { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\n\nconst layout = {\n    layout: {\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { layout };\n","import camelCase from \"camelcase\"\nimport type { IGatsbyImageData } from \"./index\"\n\nconst DEFAULT_PIXEL_DENSITIES = [0.25, 0.5, 1, 2]\nexport const DEFAULT_BREAKPOINTS = [750, 1080, 1366, 1920]\nexport const EVERY_BREAKPOINT = [\n  320, 654, 768, 1024, 1366, 1600, 1920, 2048, 2560, 3440, 3840, 4096,\n]\nconst DEFAULT_FLUID_WIDTH = 800\nconst DEFAULT_FIXED_WIDTH = 800\nconst DEFAULT_ASPECT_RATIO = 4 / 3\n\nexport type Fit = \"cover\" | \"fill\" | \"inside\" | \"outside\" | \"contain\"\n\nexport type Layout = \"fixed\" | \"fullWidth\" | \"constrained\"\nexport type ImageFormat = \"jpg\" | \"png\" | \"webp\" | \"avif\" | \"auto\" | \"\"\n\n/**\n * The minimal required reporter, as we don't want to import it from gatsby-cli\n */\nexport interface IReporter {\n  warn(message: string): void\n}\n\nexport interface ISharpGatsbyImageArgs {\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  placeholder?: \"tracedSVG\" | \"dominantColor\" | \"blurred\" | \"none\"\n  tracedSVGOptions?: Record<string, unknown>\n  width?: number\n  height?: number\n  aspectRatio?: number\n  sizes?: string\n  quality?: number\n  transformOptions?: {\n    fit?: Fit\n    cropFocus?: number | string\n    duotone?: {\n      highlight: string\n      shadow: string\n      opacity?: number\n    }\n    grayscale?: boolean\n    rotate?: number\n    trim?: number\n  }\n  jpgOptions?: Record<string, unknown>\n  pngOptions?: Record<string, unknown>\n  webpOptions?: Record<string, unknown>\n  avifOptions?: Record<string, unknown>\n  blurredOptions?: { width?: number; toFormat?: ImageFormat }\n  breakpoints?: Array<number>\n  outputPixelDensities?: Array<number>\n  backgroundColor?: string\n}\n\nexport interface IImageSizeArgs {\n  width?: number\n  height?: number\n  layout?: Layout\n  filename: string\n  outputPixelDensities?: Array<number>\n  breakpoints?: Array<number>\n  fit?: Fit\n  reporter?: IReporter\n  sourceMetadata: { width: number; height: number }\n}\n\nexport interface IImageSizes {\n  sizes: Array<number>\n  presentationWidth: number\n  presentationHeight: number\n  aspectRatio: number\n  unscaledWidth: number\n}\n\nexport interface IImage {\n  src: string\n  width: number\n  height: number\n  format: ImageFormat\n}\n\nexport interface IGatsbyImageHelperArgs {\n  pluginName: string\n  generateImageSource: (\n    filename: string,\n    width: number,\n    height: number,\n    format: ImageFormat,\n    fit?: Fit,\n    options?: Record<string, unknown>\n  ) => IImage\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  filename: string\n  placeholderURL?: string\n  width?: number\n  height?: number\n  sizes?: string\n  reporter?: IReporter\n  sourceMetadata?: { width: number; height: number; format: ImageFormat }\n  fit?: Fit\n  options?: Record<string, unknown>\n  breakpoints?: Array<number>\n  backgroundColor?: string\n  aspectRatio?: number\n}\n\nconst warn = (message: string): void => console.warn(message)\n\nconst sortNumeric = (a: number, b: number): number => a - b\n\nexport const getSizes = (width: number, layout: Layout): string | undefined => {\n  switch (layout) {\n    // If screen is wider than the max size, image width is the max size,\n    // otherwise it's the width of the screen\n    case `constrained`:\n      return `(min-width: ${width}px) ${width}px, 100vw`\n\n    // Image is always the same width, whatever the size of the screen\n    case `fixed`:\n      return `${width}px`\n\n    // Image is always the width of the screen\n    case `fullWidth`:\n      return `100vw`\n\n    default:\n      return undefined\n  }\n}\n\nexport const getSrcSet = (images: Array<IImage>): string =>\n  images.map(image => `${image.src} ${image.width}w`).join(`,\\n`)\n\nexport function formatFromFilename(filename: string): ImageFormat | undefined {\n  const dot = filename.lastIndexOf(`.`)\n  if (dot !== -1) {\n    const ext = filename.slice(dot + 1)\n    if (ext === `jpeg`) {\n      return `jpg`\n    }\n    if (ext.length === 3 || ext.length === 4) {\n      return ext as ImageFormat\n    }\n  }\n  return undefined\n}\n\nexport function setDefaultDimensions(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageHelperArgs {\n  let {\n    layout = `constrained`,\n    width,\n    height,\n    sourceMetadata,\n    breakpoints,\n    aspectRatio,\n    formats = [`auto`, `webp`],\n  } = args\n  formats = formats.map(format => format.toLowerCase() as ImageFormat)\n  layout = camelCase(layout) as Layout\n\n  if (width && height) {\n    return { ...args, formats, layout, aspectRatio: width / height }\n  }\n  if (sourceMetadata.width && sourceMetadata.height && !aspectRatio) {\n    aspectRatio = sourceMetadata.width / sourceMetadata.height\n  }\n\n  if (layout === `fullWidth`) {\n    width = width || sourceMetadata.width || breakpoints[breakpoints.length - 1]\n    height = height || Math.round(width / (aspectRatio || DEFAULT_ASPECT_RATIO))\n  } else {\n    if (!width) {\n      if (height && aspectRatio) {\n        width = height * aspectRatio\n      } else if (sourceMetadata.width) {\n        width = sourceMetadata.width\n      } else if (height) {\n        width = Math.round(height / DEFAULT_ASPECT_RATIO)\n      } else {\n        width = DEFAULT_FIXED_WIDTH\n      }\n    }\n\n    if (aspectRatio && !height) {\n      height = Math.round(width / aspectRatio)\n    } else if (!aspectRatio) {\n      aspectRatio = width / height\n    }\n  }\n  return { ...args, width, height, aspectRatio, layout, formats }\n}\n\n/**\n * Use this for getting an image for the blurred placeholder. This ensures the\n * aspect ratio and crop match the main image\n */\nexport function getLowResolutionImageURL(\n  args: IGatsbyImageHelperArgs,\n  width = 20\n): string {\n  args = setDefaultDimensions(args)\n  const { generateImageSource, filename, aspectRatio } = args\n  return generateImageSource(\n    filename,\n    width,\n    Math.round(width / aspectRatio),\n    args.sourceMetadata.format || `jpg`,\n    args.fit,\n    args.options\n  )?.src\n}\n\nexport function generateImageData(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageData {\n  args = setDefaultDimensions(args)\n\n  let {\n    pluginName,\n    sourceMetadata,\n    generateImageSource,\n    layout,\n    fit,\n    options,\n    width,\n    height,\n    filename,\n    reporter = { warn },\n    backgroundColor,\n    placeholderURL,\n  } = args\n\n  if (!pluginName) {\n    reporter.warn(\n      `[gatsby-plugin-image] \"generateImageData\" was not passed a plugin name`\n    )\n  }\n\n  if (typeof generateImageSource !== `function`) {\n    throw new Error(`generateImageSource must be a function`)\n  }\n\n  if (!sourceMetadata || (!sourceMetadata.width && !sourceMetadata.height)) {\n    // No metadata means we let the CDN handle max size etc, aspect ratio etc\n    sourceMetadata = {\n      width,\n      height,\n      format: sourceMetadata?.format || formatFromFilename(filename) || `auto`,\n    }\n  } else if (!sourceMetadata.format) {\n    sourceMetadata.format = formatFromFilename(filename)\n  }\n\n  const formats = new Set<ImageFormat>(args.formats)\n\n  if (formats.size === 0 || formats.has(`auto`) || formats.has(``)) {\n    formats.delete(`auto`)\n    formats.delete(``)\n    formats.add(sourceMetadata.format)\n  }\n\n  if (formats.has(`jpg`) && formats.has(`png`)) {\n    reporter.warn(\n      `[${pluginName}] Specifying both 'jpg' and 'png' formats is not supported. Using 'auto' instead`\n    )\n    if (sourceMetadata.format === `jpg`) {\n      formats.delete(`png`)\n    } else {\n      formats.delete(`jpg`)\n    }\n  }\n\n  const imageSizes = calculateImageSizes({ ...args, sourceMetadata })\n\n  const result: IGatsbyImageData[\"images\"] = {\n    sources: [],\n  }\n\n  let sizes = args.sizes\n  if (!sizes) {\n    sizes = getSizes(imageSizes.presentationWidth, layout)\n  }\n\n  formats.forEach(format => {\n    const images = imageSizes.sizes\n      .map(size => {\n        const imageSrc = generateImageSource(\n          filename,\n          size,\n          Math.round(size / imageSizes.aspectRatio),\n          format,\n          fit,\n          options\n        )\n        if (\n          !imageSrc?.width ||\n          !imageSrc.height ||\n          !imageSrc.src ||\n          !imageSrc.format\n        ) {\n          reporter.warn(\n            `[${pluginName}] The resolver for image ${filename} returned an invalid value.`\n          )\n          return undefined\n        }\n        return imageSrc\n      })\n      .filter(Boolean)\n\n    if (format === `jpg` || format === `png` || format === `auto`) {\n      const unscaled =\n        images.find(img => img.width === imageSizes.unscaledWidth) || images[0]\n\n      if (unscaled) {\n        result.fallback = {\n          src: unscaled.src,\n          srcSet: getSrcSet(images),\n          sizes,\n        }\n      }\n    } else {\n      result.sources?.push({\n        srcSet: getSrcSet(images),\n        sizes,\n        type: `image/${format}`,\n      })\n    }\n  })\n\n  const imageProps: Partial<IGatsbyImageData> = {\n    images: result,\n    layout,\n    backgroundColor,\n  }\n\n  if (placeholderURL) {\n    imageProps.placeholder = { fallback: placeholderURL }\n  }\n\n  switch (layout) {\n    case `fixed`:\n      imageProps.width = imageSizes.presentationWidth\n      imageProps.height = imageSizes.presentationHeight\n      break\n\n    case `fullWidth`:\n      imageProps.width = 1\n      imageProps.height = 1 / imageSizes.aspectRatio\n      break\n\n    case `constrained`:\n      imageProps.width = args.width || imageSizes.presentationWidth || 1\n      imageProps.height = (imageProps.width || 1) / imageSizes.aspectRatio\n  }\n\n  return imageProps as IGatsbyImageData\n}\n\nconst dedupeAndSortDensities = (values: Array<number>): Array<number> =>\n  Array.from(new Set([1, ...values])).sort(sortNumeric)\n\nexport function calculateImageSizes(args: IImageSizeArgs): IImageSizes {\n  const {\n    width,\n    height,\n    filename,\n    layout = `constrained`,\n    sourceMetadata: imgDimensions,\n    reporter = { warn },\n    breakpoints = DEFAULT_BREAKPOINTS,\n  } = args\n\n  // check that all dimensions provided are positive\n  const userDimensions = { width, height }\n  const erroneousUserDimensions = Object.entries(userDimensions).filter(\n    ([_, size]) => typeof size === `number` && size < 1\n  )\n  if (erroneousUserDimensions.length) {\n    throw new Error(\n      `Specified dimensions for images must be positive numbers (> 0). Problem dimensions you have are ${erroneousUserDimensions\n        .map(dim => dim.join(`: `))\n        .join(`, `)}`\n    )\n  }\n\n  if (layout === `fixed`) {\n    return fixedImageSizes(args)\n  } else if (layout === `constrained`) {\n    return responsiveImageSizes(args)\n  } else if (layout === `fullWidth`) {\n    return responsiveImageSizes({ breakpoints, ...args })\n  } else {\n    reporter.warn(\n      `No valid layout was provided for the image at ${filename}. Valid image layouts are fixed, fullWidth, and constrained. Found ${layout}`\n    )\n    return {\n      sizes: [imgDimensions.width],\n      presentationWidth: imgDimensions.width,\n      presentationHeight: imgDimensions.height,\n      aspectRatio: imgDimensions.width / imgDimensions.height,\n      unscaledWidth: imgDimensions.width,\n    }\n  }\n}\nexport function fixedImageSizes({\n  filename,\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  reporter = { warn },\n}: IImageSizeArgs): IImageSizes {\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  if (!width) {\n    if (!height) {\n      width = DEFAULT_FIXED_WIDTH\n    } else {\n      width = Math.round(height * aspectRatio)\n    }\n  } else if (!height) {\n    height = Math.round(width / aspectRatio)\n  }\n\n  const originalWidth = width // will use this for presentationWidth, don't want to lose it\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n\n  // If the image is smaller than requested, warn the user that it's being processed as such\n  // print out this message with the necessary information before we overwrite it for sizing\n  if (isTopSizeOverriden) {\n    const fixedDimension = imgDimensions.width < width ? `width` : `height`\n    reporter.warn(`\nThe requested ${fixedDimension} \"${\n      fixedDimension === `width` ? width : height\n    }px\" for the image ${filename} was larger than the actual image ${fixedDimension} of ${\n      imgDimensions[fixedDimension]\n    }px. If possible, replace the current image with a larger one.`)\n\n    if (fixedDimension === `width`) {\n      width = imgDimensions.width\n      height = Math.round(width / aspectRatio)\n    } else {\n      height = imgDimensions.height\n      width = height * aspectRatio\n    }\n  }\n\n  const sizes = densities\n    .filter(size => size >= 1) // remove smaller densities because fixed images don't need them\n    .map(density => Math.round(density * (width as number)))\n    .filter(size => size <= imgDimensions.width)\n\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function responsiveImageSizes({\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  breakpoints,\n  layout,\n}: IImageSizeArgs): IImageSizes {\n  let sizes\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  // Case 1: width of height were passed in, make sure it isn't larger than the actual image\n  width = width && Math.min(width, imgDimensions.width)\n  height = height && Math.min(height, imgDimensions.height)\n\n  // Case 2: neither width or height were passed in, use default size\n  if (!width && !height) {\n    width = Math.min(DEFAULT_FLUID_WIDTH, imgDimensions.width)\n    height = width / aspectRatio\n  }\n\n  // if it still hasn't been found, calculate width from the derived height.\n  // TS isn't smart enough to realise the type for height has been narrowed here\n  if (!width) {\n    width = (height as number) * aspectRatio\n  }\n\n  const originalWidth = width\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n  if (isTopSizeOverriden) {\n    width = imgDimensions.width\n    height = imgDimensions.height\n  }\n\n  width = Math.round(width)\n\n  if (breakpoints?.length > 0) {\n    sizes = breakpoints.filter(size => size <= imgDimensions.width)\n\n    // If a larger breakpoint has been filtered-out, add the actual image width instead\n    if (\n      sizes.length < breakpoints.length &&\n      !sizes.includes(imgDimensions.width)\n    ) {\n      sizes.push(imgDimensions.width)\n    }\n  } else {\n    sizes = densities.map(density => Math.round(density * (width as number)))\n    sizes = sizes.filter(size => size <= imgDimensions.width)\n  }\n\n  // ensure that the size passed in is included in the final output\n  if (layout === `constrained` && !sizes.includes(width)) {\n    sizes.push(width)\n  }\n  sizes = sizes.sort(sortNumeric)\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function getDimensionsAndAspectRatio(\n  dimensions,\n  options\n): { width: number; height: number; aspectRatio: number } {\n  // Calculate the eventual width/height of the image.\n  const imageAspectRatio = dimensions.width / dimensions.height\n\n  let width = options.width\n  let height = options.height\n\n  switch (options.fit) {\n    case `fill`: {\n      width = options.width ? options.width : dimensions.width\n      height = options.height ? options.height : dimensions.height\n      break\n    }\n    case `inside`: {\n      const widthOption = options.width\n        ? options.width\n        : Number.MAX_SAFE_INTEGER\n      const heightOption = options.height\n        ? options.height\n        : Number.MAX_SAFE_INTEGER\n\n      width = Math.min(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.min(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n    case `outside`: {\n      const widthOption = options.width ? options.width : 0\n      const heightOption = options.height ? options.height : 0\n\n      width = Math.max(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.max(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n\n    default: {\n      if (options.width && !options.height) {\n        width = options.width\n        height = Math.round(options.width / imageAspectRatio)\n      }\n\n      if (options.height && !options.width) {\n        width = Math.round(options.height * imageAspectRatio)\n        height = options.height\n      }\n    }\n  }\n\n  return {\n    width,\n    height,\n    aspectRatio: width / height,\n  }\n}\n","/* global GATSBY___IMAGE */\nimport { generateImageData, EVERY_BREAKPOINT } from \"../image-utils\"\nimport type { CSSProperties, HTMLAttributes, ImgHTMLAttributes } from \"react\"\nimport type { Node } from \"gatsby\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { IGatsbyImageData } from \"./gatsby-image.browser\"\nimport type {\n  IGatsbyImageHelperArgs,\n  Layout,\n  IImage,\n  ImageFormat,\n} from \"../image-utils\"\n\n// Native lazy-loading support: https://addyosmani.com/blog/lazy-loading/\nexport const hasNativeLazyLoadSupport = (): boolean =>\n  typeof HTMLImageElement !== `undefined` &&\n  `loading` in HTMLImageElement.prototype\n\nexport function gatsbyImageIsInstalled(): boolean {\n  return typeof GATSBY___IMAGE !== `undefined` && GATSBY___IMAGE\n}\n\nexport type IGatsbyImageDataParent<T = never> = T & {\n  gatsbyImageData: IGatsbyImageData\n}\nexport type IGatsbyImageParent<T = never> = T & {\n  gatsbyImage: IGatsbyImageData\n}\nexport type FileNode = Partial<Node> & {\n  childImageSharp?: IGatsbyImageDataParent<Partial<Node>>\n}\n\nconst isGatsbyImageData = (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageData | any\n): node is IGatsbyImageData =>\n  //  check for a deep prop to be sure this is a valid gatsbyImageData object\n  Boolean(node?.images?.fallback?.src)\n\nconst isGatsbyImageDataParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageDataParent<T> | any\n): node is IGatsbyImageDataParent<T> => Boolean(node?.gatsbyImageData)\n\nconst isGatsbyImageParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageParent<T> | any\n): node is IGatsbyImageParent<T> => Boolean(node?.gatsbyImage)\n\nexport type ImageDataLike =\n  | FileNode\n  | IGatsbyImageDataParent\n  | IGatsbyImageParent\n  | IGatsbyImageData\n\nexport const getImage = (\n  node: ImageDataLike | null\n): IGatsbyImageData | undefined => {\n  // This checks both for gatsbyImageData and gatsbyImage\n  if (isGatsbyImageData(node)) {\n    return node\n  }\n  // gatsbyImageData GraphQL field\n  if (isGatsbyImageDataParent(node)) {\n    return node.gatsbyImageData\n  }\n  // gatsbyImage GraphQL field for Gatsby's Image CDN service\n  if (isGatsbyImageParent(node)) {\n    return node.gatsbyImage\n  }\n  return node?.childImageSharp?.gatsbyImageData\n}\n\nexport const getSrc = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.src\n\nexport const getSrcSet = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.srcSet\n\nexport function getWrapperProps(\n  width: number,\n  height: number,\n  layout: Layout\n): Pick<HTMLAttributes<HTMLElement>, \"className\" | \"style\"> & {\n  \"data-gatsby-image-wrapper\": string\n} {\n  const wrapperStyle: CSSProperties = {}\n\n  let className = `gatsby-image-wrapper`\n\n  // If the plugin isn't installed we need to apply the styles inline\n  if (!gatsbyImageIsInstalled()) {\n    wrapperStyle.position = `relative`\n    wrapperStyle.overflow = `hidden`\n  }\n\n  if (layout === `fixed`) {\n    wrapperStyle.width = width\n    wrapperStyle.height = height\n  } else if (layout === `constrained`) {\n    if (!gatsbyImageIsInstalled()) {\n      wrapperStyle.display = `inline-block`\n      wrapperStyle.verticalAlign = `top`\n    }\n    className = `gatsby-image-wrapper gatsby-image-wrapper-constrained`\n  }\n\n  return {\n    className,\n    \"data-gatsby-image-wrapper\": ``,\n    style: wrapperStyle,\n  }\n}\n\nexport interface IUrlBuilderArgs<OptionsType> {\n  width: number\n  height: number\n  baseUrl: string\n  format: ImageFormat\n  options: OptionsType\n}\nexport interface IGetImageDataArgs<OptionsType = Record<string, unknown>> {\n  baseUrl: string\n  /**\n   * For constrained and fixed images, the size of the image element\n   */\n  width?: number\n  height?: number\n  /**\n   * If available, pass the source image width and height\n   */\n  sourceWidth?: number\n  sourceHeight?: number\n  /**\n   * If only one dimension is passed, then this will be used to calculate the other.\n   */\n  aspectRatio?: number\n  layout?: Layout\n  /**\n   * Returns a URL based on the passed arguments. Should be a pure function\n   */\n  urlBuilder: (args: IUrlBuilderArgs<OptionsType>) => string\n\n  /**\n   * Should be a data URI\n   */\n  placeholderURL?: string\n  backgroundColor?: string\n  /**\n   * Used in error messages etc\n   */\n  pluginName?: string\n\n  /**\n   * If you do not support auto-format, pass an array of image types here\n   */\n  formats?: Array<ImageFormat>\n\n  breakpoints?: Array<number>\n\n  /**\n   * Passed to the urlBuilder function\n   */\n  options?: OptionsType\n}\n\n/**\n * Use this hook to generate gatsby-plugin-image data in the browser.\n */\nexport function getImageData<OptionsType>({\n  baseUrl,\n  urlBuilder,\n  sourceWidth,\n  sourceHeight,\n  pluginName = `getImageData`,\n  formats = [`auto`],\n  breakpoints,\n  options,\n  ...props\n}: IGetImageDataArgs<OptionsType>): IGatsbyImageData {\n  if (\n    !breakpoints?.length &&\n    (props.layout === `fullWidth` || (props.layout as string) === `FULL_WIDTH`)\n  ) {\n    breakpoints = EVERY_BREAKPOINT\n  }\n  const generateImageSource = (\n    baseUrl: string,\n    width: number,\n    height?: number,\n    format?: ImageFormat\n  ): IImage => {\n    return {\n      width,\n      height,\n      format,\n      src: urlBuilder({ baseUrl, width, height, options, format }),\n    }\n  }\n\n  const sourceMetadata: IGatsbyImageHelperArgs[\"sourceMetadata\"] = {\n    width: sourceWidth,\n    height: sourceHeight,\n    format: `auto`,\n  }\n\n  const args: IGatsbyImageHelperArgs = {\n    ...props,\n    pluginName,\n    generateImageSource,\n    filename: baseUrl,\n    formats,\n    breakpoints,\n    sourceMetadata,\n  }\n  return generateImageData(args)\n}\n\nexport function getMainProps(\n  isLoading: boolean,\n  isLoaded: boolean,\n  images: IGatsbyImageData[\"images\"],\n  loading?: \"eager\" | \"lazy\",\n  style: CSSProperties = {}\n): Partial<MainImageProps> {\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      transform: `translateZ(0)`,\n      transition: `opacity 250ms linear`,\n      width: `100%`,\n      willChange: `opacity`,\n      ...style,\n    }\n  }\n\n  const result = {\n    ...images,\n    loading,\n    shouldLoad: isLoading,\n    \"data-main-image\": ``,\n    style: {\n      ...style,\n      opacity: isLoaded ? 1 : 0,\n    },\n  }\n\n  return result\n}\n\nexport type PlaceholderImageAttrs = ImgHTMLAttributes<HTMLImageElement> &\n  Pick<PlaceholderProps, \"sources\" | \"fallback\"> & {\n    \"data-placeholder-image\"?: string\n  }\n\nexport function getPlaceholderProps(\n  placeholder: PlaceholderImageAttrs | undefined,\n  isLoaded: boolean,\n  layout: Layout,\n  width?: number,\n  height?: number,\n  backgroundColor?: string,\n  objectFit?: CSSProperties[\"objectFit\"],\n  objectPosition?: CSSProperties[\"objectPosition\"]\n): PlaceholderImageAttrs {\n  const wrapperStyle: CSSProperties = {}\n\n  if (backgroundColor) {\n    wrapperStyle.backgroundColor = backgroundColor\n\n    if (layout === `fixed`) {\n      wrapperStyle.width = width\n      wrapperStyle.height = height\n      wrapperStyle.backgroundColor = backgroundColor\n      wrapperStyle.position = `relative`\n    } else if (layout === `constrained`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    } else if (layout === `fullWidth`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    }\n  }\n\n  if (objectFit) {\n    wrapperStyle.objectFit = objectFit\n  }\n\n  if (objectPosition) {\n    wrapperStyle.objectPosition = objectPosition\n  }\n  const result: PlaceholderImageAttrs = {\n    ...placeholder,\n    \"aria-hidden\": true,\n    \"data-placeholder-image\": ``,\n    style: {\n      opacity: isLoaded ? 0 : 1,\n      transition: `opacity 500ms linear`,\n      ...wrapperStyle,\n    },\n  }\n\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    result.style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      width: `100%`,\n    }\n  }\n\n  return result\n}\n\nexport interface IArtDirectedImage {\n  media: string\n  image: IGatsbyImageData\n}\n\n/**\n * Generate a Gatsby image data object with multiple, art-directed images that display at different\n * resolutions.\n *\n * @param defaultImage The image displayed when no media query matches.\n * It is also used for all other settings applied to the image, such as width, height and layout.\n * You should pass a className to the component with media queries to adjust the size of the container,\n * as this cannot be adjusted automatically.\n * @param artDirected Array of objects which each contains a `media` string which is a media query\n * such as `(min-width: 320px)`, and the image object to use when that query matches.\n */\nexport function withArtDirection(\n  defaultImage: IGatsbyImageData,\n  artDirected: Array<IArtDirectedImage>\n): IGatsbyImageData {\n  const { images, placeholder, ...props } = defaultImage\n  const output: IGatsbyImageData = {\n    ...props,\n    images: {\n      ...images,\n      sources: [],\n    },\n    placeholder: placeholder && {\n      ...placeholder,\n      sources: [],\n    },\n  }\n\n  artDirected.forEach(({ media, image }) => {\n    if (!media) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(\n          \"[gatsby-plugin-image] All art-directed images passed to must have a value set for `media`. Skipping.\"\n        )\n      }\n      return\n    }\n\n    if (\n      image.layout !== defaultImage.layout &&\n      process.env.NODE_ENV === `development`\n    ) {\n      console.warn(\n        `[gatsby-plugin-image] Mismatched image layout: expected \"${defaultImage.layout}\" but received \"${image.layout}\". All art-directed images use the same layout as the default image`\n      )\n    }\n\n    output.images.sources.push(\n      ...image.images.sources.map(source => {\n        return { ...source, media }\n      }),\n      {\n        media,\n        srcSet: image.images.fallback.srcSet,\n      }\n    )\n\n    if (!output.placeholder) {\n      return\n    }\n\n    output.placeholder.sources.push({\n      media,\n      srcSet: image.placeholder.fallback,\n    })\n  })\n  output.images.sources.push(...images.sources)\n  if (placeholder?.sources) {\n    output.placeholder?.sources.push(...placeholder.sources)\n  }\n  return output\n}\n","import React, { Fragment, FunctionComponent, PropsWithChildren } from \"react\"\nimport terserMacro from \"../../macros/terser.macro\"\nimport { Layout } from \"../image-utils\"\n\nexport interface ILayoutWrapperProps {\n  layout: Layout\n  width: number\n  height: number\n}\n\nconst NativeScriptLoading: FunctionComponent = () => (\n  <script\n    type=\"module\"\n    dangerouslySetInnerHTML={{\n      __html: terserMacro`\nconst hasNativeLazyLoadSupport = typeof HTMLImageElement !== \"undefined\" && \"loading\" in HTMLImageElement.prototype;\nif (hasNativeLazyLoadSupport) {\n  const gatsbyImages = document.querySelectorAll('img[data-main-image]');\n  for (let mainImage of gatsbyImages) {\n    if (mainImage.dataset.src) {\n      mainImage.setAttribute('src', mainImage.dataset.src)\n      mainImage.removeAttribute('data-src')\n    }\n    if (mainImage.dataset.srcset) {\n      mainImage.setAttribute('srcset', mainImage.dataset.srcset)\n      mainImage.removeAttribute('data-srcset')\n    }\n\n    const sources = mainImage.parentNode.querySelectorAll('source[data-srcset]');\n    for (let source of sources) {\n      source.setAttribute('srcset', source.dataset.srcset)\n      source.removeAttribute('data-srcset')\n    }\n\n    if (mainImage.complete) {\n      mainImage.style.opacity = 1;\n\n      // also hide the placeholder\n      mainImage.parentNode.parentNode.querySelector('[data-placeholder-image]').style.opacity = 0;\n    }\n  }\n}\n`,\n    }}\n  />\n)\n\nexport function getSizer(\n  layout: Layout,\n  width: number,\n  height: number\n): string {\n  let sizer = ``\n  if (layout === `fullWidth`) {\n    sizer = `<div aria-hidden=\"true\" style=\"padding-top: ${\n      (height / width) * 100\n    }%;\"></div>`\n  }\n\n  if (layout === `constrained`) {\n    sizer = `<div style=\"max-width: ${width}px; display: block;\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E\" style=\"max-width: 100%; display: block; position: static;\"></div>`\n  }\n\n  return sizer\n}\n\nconst Sizer: FunctionComponent<ILayoutWrapperProps> = function Sizer({\n  layout,\n  width,\n  height,\n}) {\n  if (layout === `fullWidth`) {\n    return (\n      <div aria-hidden style={{ paddingTop: `${(height / width) * 100}%` }} />\n    )\n  }\n\n  if (layout === `constrained`) {\n    return (\n      <div style={{ maxWidth: width, display: `block` }}>\n        <img\n          alt=\"\"\n          role=\"presentation\"\n          aria-hidden=\"true\"\n          src={`data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E`}\n          style={{\n            maxWidth: `100%`,\n            display: `block`,\n            position: `static`,\n          }}\n        />\n      </div>\n    )\n  }\n\n  return null\n}\n\nexport const LayoutWrapper: FunctionComponent<\n  PropsWithChildren<ILayoutWrapperProps>\n> = function LayoutWrapper({ children, ...props }) {\n  return (\n    <Fragment>\n      <Sizer {...props} />\n      {children}\n\n      {SERVER ? <NativeScriptLoading /> : null}\n    </Fragment>\n  )\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\n\nexport interface IResponsiveImageProps {\n  sizes?: string\n  srcSet: string\n}\n\nexport type SourceProps = IResponsiveImageProps &\n  (\n    | {\n        media: string\n        type?: string\n      }\n    | {\n        media?: string\n        type: string\n      }\n  )\n\ntype FallbackProps = { src: string } & Partial<IResponsiveImageProps>\n\ntype ImageProps = ImgHTMLAttributes<HTMLImageElement> & {\n  src: string\n  alt: string\n  shouldLoad: boolean\n}\n\nexport type PictureProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: FallbackProps\n  sources?: Array<SourceProps>\n  alt: string\n  shouldLoad?: boolean\n}\n\nconst Image: FunctionComponent<ImageProps> = function Image({\n  src,\n  srcSet,\n  loading,\n  alt = ``,\n  shouldLoad,\n  ...props\n}) {\n  return (\n    <img\n      {...props}\n      decoding=\"async\"\n      loading={loading}\n      src={shouldLoad ? src : undefined}\n      data-src={!shouldLoad ? src : undefined}\n      srcSet={shouldLoad ? srcSet : undefined}\n      data-srcset={!shouldLoad ? srcSet : undefined}\n      alt={alt}\n    />\n  )\n}\n\nexport const Picture: React.FC<PictureProps> = function Picture({\n  fallback,\n  sources = [],\n  shouldLoad = true,\n  ...props\n}) {\n  const sizes = props.sizes || fallback?.sizes\n  const fallbackImage = (\n    <Image {...props} {...fallback} sizes={sizes} shouldLoad={shouldLoad} />\n  )\n\n  if (!sources.length) {\n    return fallbackImage\n  }\n\n  return (\n    <picture>\n      {sources.map(({ media, srcSet, type }) => (\n        <source\n          key={`${media}-${type}-${srcSet}`}\n          type={type}\n          media={media}\n          srcSet={shouldLoad ? srcSet : undefined}\n          data-srcset={!shouldLoad ? srcSet : undefined}\n          sizes={sizes}\n        />\n      ))}\n      {fallbackImage}\n    </picture>\n  )\n}\n\nImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  sizes: PropTypes.string,\n  srcSet: PropTypes.string,\n  shouldLoad: PropTypes.bool,\n}\n\nPicture.displayName = `Picture`\nPicture.propTypes = {\n  alt: PropTypes.string.isRequired,\n  shouldLoad: PropTypes.bool,\n  fallback: PropTypes.exact({\n    src: PropTypes.string.isRequired,\n    srcSet: PropTypes.string,\n    sizes: PropTypes.string,\n  }),\n  sources: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.exact({\n        media: PropTypes.string.isRequired,\n        type: PropTypes.string,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n      PropTypes.exact({\n        media: PropTypes.string,\n        type: PropTypes.string.isRequired,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n    ])\n  ),\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\nimport { Picture, SourceProps } from \"./picture\"\n\nexport type PlaceholderProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: string\n  sources?: Array<SourceProps>\n}\n\nexport const Placeholder: FunctionComponent<PlaceholderProps> =\n  function Placeholder({ fallback, ...props }) {\n    if (fallback) {\n      return (\n        <Picture\n          {...props}\n          fallback={{\n            src: fallback,\n          }}\n          aria-hidden\n          alt=\"\"\n        />\n      )\n    } else {\n      return <div {...props}></div>\n    }\n  }\n\nPlaceholder.displayName = `Placeholder`\nPlaceholder.propTypes = {\n  fallback: PropTypes.string,\n  sources: Picture.propTypes?.sources,\n  alt: function (props, propName, componentName): Error | null {\n    if (!props[propName]) {\n      return null\n    }\n\n    return new Error(\n      `Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`. Validation failed.`\n    )\n  },\n}\n","import React from \"react\"\nimport { Picture, PictureProps } from \"./picture\"\n\nexport type MainImageProps = PictureProps\n\nexport const MainImage: React.FC<PictureProps> = function MainImage(props) {\n  return (\n    <>\n      <Picture {...props} />\n      <noscript>\n        <Picture {...props} shouldLoad={true} />\n      </noscript>\n    </>\n  )\n}\n\nMainImage.displayName = `MainImage`\nMainImage.propTypes = Picture.propTypes\n","import React from \"react\"\nimport { getWrapperProps, getMainProps, getPlaceholderProps } from \"./hooks\"\nimport { Placeholder } from \"./placeholder\"\nimport { MainImage, MainImageProps } from \"./main-image\"\nimport { LayoutWrapper } from \"./layout-wrapper\"\nimport PropTypes from \"prop-types\"\nimport type { FunctionComponent, WeakValidationMap } from \"react\"\nimport type { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\n\nconst removeNewLines = (str: string): string => str.replace(/\\n/g, ``)\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> =\n  function GatsbyImage({\n    as = `div`,\n    className,\n    class: preactClass,\n    style,\n    image,\n    loading = `lazy`,\n    imgClassName,\n    imgStyle,\n    backgroundColor,\n    objectFit,\n    objectPosition,\n    ...props\n  }) {\n    if (!image) {\n      console.warn(`[gatsby-plugin-image] Missing image prop`)\n      return null\n    }\n\n    if (preactClass) {\n      className = preactClass\n    }\n\n    imgStyle = {\n      objectFit,\n      objectPosition,\n      backgroundColor,\n      ...imgStyle,\n    }\n\n    const {\n      width,\n      height,\n      layout,\n      images,\n      placeholder,\n      backgroundColor: placeholderBackgroundColor,\n    } = image\n\n    const {\n      style: wStyle,\n      className: wClass,\n      ...wrapperProps\n    } = getWrapperProps(width, height, layout)\n\n    const cleanedImages: IGatsbyImageData[\"images\"] = {\n      fallback: undefined,\n      sources: [],\n    }\n    if (images.fallback) {\n      cleanedImages.fallback = {\n        ...images.fallback,\n        srcSet: images.fallback.srcSet\n          ? removeNewLines(images.fallback.srcSet)\n          : undefined,\n      }\n    }\n\n    if (images.sources) {\n      cleanedImages.sources = images.sources.map(source => {\n        return {\n          ...source,\n          srcSet: removeNewLines(source.srcSet),\n        }\n      })\n    }\n\n    return React.createElement(\n      as,\n      {\n        ...wrapperProps,\n        style: {\n          ...wStyle,\n          ...style,\n          backgroundColor,\n        },\n        className: `${wClass}${className ? ` ${className}` : ``}`,\n      },\n      <LayoutWrapper layout={layout} width={width} height={height}>\n        <Placeholder\n          {...getPlaceholderProps(\n            placeholder,\n            false,\n            layout,\n            width,\n            height,\n            placeholderBackgroundColor,\n            objectFit,\n            objectPosition\n          )}\n        />\n\n        <MainImage\n          data-gatsby-image-ssr=\"\"\n          className={imgClassName}\n          {...(props as Omit<\n            MainImageProps,\n            \"images\" | \"fallback\" | \"onError\" | \"onLoad\"\n          >)}\n          // When eager is set we want to start the isLoading state on true (we want to load the img without react)\n          {...getMainProps(\n            loading === `eager`,\n            false,\n            cleanedImages,\n            loading,\n            imgStyle\n          )}\n        />\n      </LayoutWrapper>\n    )\n  }\n\nexport const altValidator: PropTypes.Validator<string> = (\n  props: GatsbyImageProps,\n  propName,\n  componentName,\n  ...rest\n): Error | undefined => {\n  if (!props.alt && props.alt !== ``) {\n    return new Error(\n      `The \"alt\" prop is required in ${componentName}. If the image is purely presentational then pass an empty string: e.g. alt=\"\". Learn more: https://a11y-style-guide.com/style-guide/section-media.html`\n    )\n  }\n\n  return PropTypes.string(props, propName, componentName, ...rest)\n}\n\nexport const propTypes = {\n  image: PropTypes.object.isRequired,\n  alt: altValidator,\n} as WeakValidationMap<GatsbyImageProps>\n","import {\n  createElement,\n  memo,\n  useMemo,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n} from \"react\"\nimport {\n  getWrapperProps,\n  gatsbyImageIsInstalled,\n  hasNativeLazyLoadSupport,\n} from \"./hooks\"\nimport { getSizer } from \"./layout-wrapper\"\nimport { propTypes } from \"./gatsby-image.server\"\nimport type {\n  FC,\n  ElementType,\n  FunctionComponent,\n  ImgHTMLAttributes,\n  CSSProperties,\n  ReactEventHandler,\n} from \"react\"\nimport type { renderImageToString } from \"./lazy-hydrate\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { Layout } from \"../image-utils\"\n\nconst imageCache = new Set<string>()\nlet renderImageToStringPromise\nlet renderImage: typeof renderImageToString | undefined\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface GatsbyImageProps\n  extends Omit<\n    ImgHTMLAttributes<HTMLImageElement>,\n    \"placeholder\" | \"onLoad\" | \"src\" | \"srcSet\" | \"width\" | \"height\"\n  > {\n  alt: string\n  as?: ElementType\n  className?: string\n  class?: string\n  imgClassName?: string\n  image: IGatsbyImageData\n  imgStyle?: CSSProperties\n  backgroundColor?: string\n  objectFit?: CSSProperties[\"objectFit\"]\n  objectPosition?: CSSProperties[\"objectPosition\"]\n  onLoad?: (props: { wasCached: boolean }) => void\n  onError?: ReactEventHandler<HTMLImageElement>\n  onStartLoad?: (props: { wasCached: boolean }) => void\n}\n\nexport interface IGatsbyImageData {\n  layout: Layout\n  width: number\n  height: number\n  backgroundColor?: string\n  images: Pick<MainImageProps, \"sources\" | \"fallback\">\n  placeholder?: Pick<PlaceholderProps, \"sources\" | \"fallback\">\n}\n\nconst GatsbyImageHydrator: FC<GatsbyImageProps> = function GatsbyImageHydrator({\n  as = `div`,\n  image,\n  style,\n  backgroundColor,\n  className,\n  class: preactClass,\n  onStartLoad,\n  onLoad,\n  onError,\n  ...props\n}) {\n  const { width, height, layout } = image\n  const {\n    style: wStyle,\n    className: wClass,\n    ...wrapperProps\n  } = getWrapperProps(width, height, layout)\n  const root = useRef<HTMLElement>()\n  const cacheKey = useMemo(() => JSON.stringify(image.images), [image.images])\n\n  // Preact uses class instead of className so we need to check for both\n  if (preactClass) {\n    className = preactClass\n  }\n\n  const sizer = getSizer(layout, width, height)\n\n  useEffect(() => {\n    if (!renderImageToStringPromise) {\n      renderImageToStringPromise = import(`./lazy-hydrate`).then(\n        ({ renderImageToString, swapPlaceholderImage }) => {\n          renderImage = renderImageToString\n\n          return {\n            renderImageToString,\n            swapPlaceholderImage,\n          }\n        }\n      )\n    }\n\n    // The plugin image component is a bit special where if it's server-side rendered, we add extra script tags to support lazy-loading without\n    // In this case we stop hydration but fire the correct events.\n    const ssrImage = root.current.querySelector(\n      `[data-gatsby-image-ssr]`\n    ) as HTMLImageElement\n    if (ssrImage && hasNativeLazyLoadSupport()) {\n      if (ssrImage.complete) {\n        // Trigger onStartload and onLoad events\n        onStartLoad?.({\n          wasCached: true,\n        })\n        onLoad?.({\n          wasCached: true,\n        })\n\n        // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n        setTimeout(() => {\n          ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n        }, 0)\n      } else {\n        onStartLoad?.({\n          wasCached: true,\n        })\n\n        ssrImage.addEventListener(`load`, function onLoadListener() {\n          ssrImage.removeEventListener(`load`, onLoadListener)\n\n          onLoad?.({\n            wasCached: true,\n          })\n          // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n          setTimeout(() => {\n            ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n          }, 0)\n        })\n      }\n\n      imageCache.add(cacheKey)\n\n      return\n    }\n\n    if (renderImage && imageCache.has(cacheKey)) {\n      return\n    }\n\n    let animationFrame\n    let cleanupCallback\n    renderImageToStringPromise.then(\n      ({ renderImageToString, swapPlaceholderImage }) => {\n        if (!root.current) {\n          return\n        }\n\n        root.current.innerHTML = renderImageToString({\n          isLoading: true,\n          isLoaded: imageCache.has(cacheKey),\n          image,\n          ...props,\n        })\n\n        if (!imageCache.has(cacheKey)) {\n          animationFrame = requestAnimationFrame(() => {\n            if (root.current) {\n              cleanupCallback = swapPlaceholderImage(\n                root.current,\n                cacheKey,\n                imageCache,\n                style,\n                onStartLoad,\n                onLoad,\n                onError\n              )\n            }\n          })\n        }\n      }\n    )\n\n    // eslint-disable-next-line consistent-return\n    return (): void => {\n      if (animationFrame) {\n        cancelAnimationFrame(animationFrame)\n      }\n      if (cleanupCallback) {\n        cleanupCallback()\n      }\n    }\n  }, [image])\n\n  // useLayoutEffect is ran before React commits to the DOM. This allows us to make sure our HTML is using our cached image version\n  useLayoutEffect(() => {\n    if (imageCache.has(cacheKey) && renderImage) {\n      root.current.innerHTML = renderImage({\n        isLoading: imageCache.has(cacheKey),\n        isLoaded: imageCache.has(cacheKey),\n        image,\n        ...props,\n      })\n\n      // Trigger onStartload and onLoad events\n      onStartLoad?.({\n        wasCached: true,\n      })\n      onLoad?.({\n        wasCached: true,\n      })\n    }\n  }, [image])\n\n  // By keeping all props equal React will keep the component in the DOM\n  return createElement(as, {\n    ...wrapperProps,\n    style: {\n      ...wStyle,\n      ...style,\n      backgroundColor,\n    },\n    className: `${wClass}${className ? ` ${className}` : ``}`,\n    ref: root,\n    dangerouslySetInnerHTML: {\n      __html: sizer,\n    },\n    suppressHydrationWarning: true,\n  })\n}\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> = memo(\n  function GatsbyImage(props) {\n    if (!props.image) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(`[gatsby-plugin-image] Missing image prop`)\n      }\n\n      return null\n    }\n\n    if (!gatsbyImageIsInstalled() && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `[gatsby-plugin-image] You're missing out on some cool performance features. Please add \"gatsby-plugin-image\" to your gatsby-config.js`\n      )\n    }\n\n    return createElement(GatsbyImageHydrator, props)\n  }\n)\n\nGatsbyImage.propTypes = propTypes\nGatsbyImage.displayName = `GatsbyImage`\n","import React, { FunctionComponent, ReactElement } from \"react\"\nimport {\n  altValidator,\n  GatsbyImage as GatsbyImageServer,\n} from \"./gatsby-image.server\"\nimport { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\nimport PropTypes from \"prop-types\"\nimport { ISharpGatsbyImageArgs } from \"../image-utils\"\n\nexport interface IStaticImageProps\n  extends Omit<GatsbyImageProps, \"image\">,\n    Omit<ISharpGatsbyImageArgs, \"backgroundColor\"> {\n  src: string\n  filename?: string\n}\n\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nexport function _getStaticImage(\n  GatsbyImage: FunctionComponent<GatsbyImageProps>\n): React.FC<IStaticImageProps & IPrivateProps> {\n  return function StaticImage({\n    src,\n    __imageData: imageData,\n    __error,\n    // We extract these because they're not meant to be passed-down to GatsbyImage\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    width,\n    height,\n    aspectRatio,\n    tracedSVGOptions,\n    placeholder,\n    formats,\n    quality,\n    transformOptions,\n    jpgOptions,\n    pngOptions,\n    webpOptions,\n    avifOptions,\n    blurredOptions,\n    breakpoints,\n    outputPixelDensities,\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    ...props\n  }): ReactElement {\n    if (__error) {\n      console.warn(__error)\n    }\n\n    if (imageData) {\n      return <GatsbyImage image={imageData} {...props} />\n    }\n    console.warn(`Image not loaded`, src)\n    if (!__error && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `Please ensure that \"gatsby-plugin-image\" is included in the plugins array in gatsby-config.js, and that your version of gatsby is at least 2.24.78`\n      )\n    }\n    return null\n  }\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageServer)\n\nconst checkDimensionProps: PropTypes.Validator<number> = (\n  props: IStaticImageProps & IPrivateProps,\n  propName: keyof IStaticImageProps & IPrivateProps,\n  ...rest\n) => {\n  if (\n    props.layout === `fullWidth` &&\n    (propName === `width` || propName === `height`) &&\n    props[propName]\n  ) {\n    return new Error(\n      `\"${propName}\" ${props[propName]} may not be passed when layout is fullWidth.`\n    )\n  }\n  return PropTypes.number(props, propName, ...rest)\n}\n\nconst validLayouts = new Set([`fixed`, `fullWidth`, `constrained`])\n\nexport const propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: altValidator,\n  width: checkDimensionProps,\n  height: checkDimensionProps,\n  sizes: PropTypes.string,\n  layout: (props: IStaticImageProps & IPrivateProps): Error | undefined => {\n    if (props.layout === undefined) {\n      return undefined\n    }\n    if (validLayouts.has(props.layout)) {\n      return undefined\n    }\n\n    return new Error(\n      `Invalid value ${props.layout}\" provided for prop \"layout\". Defaulting to \"constrained\". Valid values are \"fixed\", \"fullWidth\" or \"constrained\".`\n    )\n  },\n}\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","import {\n  GatsbyImage as GatsbyImageBrowser,\n  IGatsbyImageData,\n} from \"./gatsby-image.browser\"\nimport React from \"react\"\nimport {\n  _getStaticImage,\n  propTypes,\n  IStaticImageProps,\n} from \"./static-image.server\"\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageBrowser)\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","'use strict';\n\nconst UPPERCASE = /[\\p{Lu}]/u;\nconst LOWERCASE = /[\\p{Ll}]/u;\nconst LEADING_CAPITAL = /^[\\p{Lu}](?![\\p{Lu}])/gu;\nconst IDENTIFIER = /([\\p{Alpha}\\p{N}_]|$)/u;\nconst SEPARATORS = /[_.\\- ]+/;\n\nconst LEADING_SEPARATORS = new RegExp('^' + SEPARATORS.source);\nconst SEPARATORS_AND_IDENTIFIER = new RegExp(SEPARATORS.source + IDENTIFIER.source, 'gu');\nconst NUMBERS_AND_IDENTIFIER = new RegExp('\\\\d+' + IDENTIFIER.source, 'gu');\n\nconst preserveCamelCase = (string, toLowerCase, toUpperCase) => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\n\tfor (let i = 0; i < string.length; i++) {\n\t\tconst character = string[i];\n\n\t\tif (isLastCharLower && UPPERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i) + '-' + string.slice(i);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\ti++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && LOWERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = toLowerCase(character) === character && toUpperCase(character) !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = toUpperCase(character) === character && toLowerCase(character) !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst preserveConsecutiveUppercase = (input, toLowerCase) => {\n\tLEADING_CAPITAL.lastIndex = 0;\n\n\treturn input.replace(LEADING_CAPITAL, m1 => toLowerCase(m1));\n};\n\nconst postProcess = (input, toUpperCase) => {\n\tSEPARATORS_AND_IDENTIFIER.lastIndex = 0;\n\tNUMBERS_AND_IDENTIFIER.lastIndex = 0;\n\n\treturn input.replace(SEPARATORS_AND_IDENTIFIER, (_, identifier) => toUpperCase(identifier))\n\t\t.replace(NUMBERS_AND_IDENTIFIER, m => toUpperCase(m));\n};\n\nconst camelCase = (input, options) => {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = {\n\t\tpascalCase: false,\n\t\tpreserveConsecutiveUppercase: false,\n\t\t...options\n\t};\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tconst toLowerCase = options.locale === false ?\n\t\tstring => string.toLowerCase() :\n\t\tstring => string.toLocaleLowerCase(options.locale);\n\tconst toUpperCase = options.locale === false ?\n\t\tstring => string.toUpperCase() :\n\t\tstring => string.toLocaleUpperCase(options.locale);\n\n\tif (input.length === 1) {\n\t\treturn options.pascalCase ? toUpperCase(input) : toLowerCase(input);\n\t}\n\n\tconst hasUpperCase = input !== toLowerCase(input);\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input, toLowerCase, toUpperCase);\n\t}\n\n\tinput = input.replace(LEADING_SEPARATORS, '');\n\n\tif (options.preserveConsecutiveUppercase) {\n\t\tinput = preserveConsecutiveUppercase(input, toLowerCase);\n\t} else {\n\t\tinput = toLowerCase(input);\n\t}\n\n\tif (options.pascalCase) {\n\t\tinput = toUpperCase(input.charAt(0)) + input.slice(1);\n\t}\n\n\treturn postProcess(input, toUpperCase);\n};\n\nmodule.exports = camelCase;\n// TODO: Remove this for the next major release\nmodule.exports.default = camelCase;\n","import { computePosition, arrow as arrow$2, autoPlacement as autoPlacement$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1 } from '@floating-ui/dom';\nexport { autoUpdate, computePosition, detectOverflow, getOverflowAncestors, platform } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\nvar isClient = typeof document !== 'undefined';\n\nvar noop = function noop() {};\nvar index = isClient ? useLayoutEffect : noop;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length;\n  let i;\n  let keys;\n  if (a && b && typeof a === 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const openRef = useLatestRef(open);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        // The floating element's position may be recomputed while it's closed\n        // but still mounted (such as when transitioning out). To ensure\n        // `isPositioned` will be `false` initially on the next open, avoid\n        // setting it to `true` when `open === false` (must be specified).\n        isPositioned: openRef.current !== false\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef, openRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow$1 = options => {\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(state) {\n      const {\n        element,\n        padding\n      } = typeof options === 'function' ? options(state) : options;\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$2({\n            element: element.current,\n            padding\n          }).fn(state);\n        }\n        return {};\n      }\n      if (element) {\n        return arrow$2({\n          element,\n          padding\n        }).fn(state);\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = (options, deps) => ({\n  ...offset$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = (options, deps) => ({\n  ...shift$1(options),\n  options: [options, deps]\n});\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = (options, deps) => ({\n  ...limitShift$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = (options, deps) => ({\n  ...flip$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = (options, deps) => ({\n  ...size$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = (options, deps) => ({\n  ...autoPlacement$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = (options, deps) => ({\n  ...hide$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = (options, deps) => ({\n  ...inline$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = (options, deps) => ({\n  ...arrow$1(options),\n  options: [options, deps]\n});\n\nexport { arrow, autoPlacement, flip, hide, inline, limitShift, offset, shift, size, useFloating };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\n\nconst useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","/**\n * @license React\n * use-sync-external-store-with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = React.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport { isHTMLElement } from 'motion-dom';\nimport * as React from 'react';\nimport { useId, useRef, useContext, useInsertionEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\n\n/**\n * Measurement functionality has to be within a separate component\n * to leverage snapshot lifecycle.\n */\nclass PopChildMeasure extends React.Component {\n    getSnapshotBeforeUpdate(prevProps) {\n        const element = this.props.childRef.current;\n        if (element && prevProps.isPresent && !this.props.isPresent) {\n            const parent = element.offsetParent;\n            const parentWidth = isHTMLElement(parent)\n                ? parent.offsetWidth || 0\n                : 0;\n            const size = this.props.sizeRef.current;\n            size.height = element.offsetHeight || 0;\n            size.width = element.offsetWidth || 0;\n            size.top = element.offsetTop;\n            size.left = element.offsetLeft;\n            size.right = parentWidth - size.width - size.left;\n        }\n        return null;\n    }\n    /**\n     * Required with getSnapshotBeforeUpdate to stop React complaining.\n     */\n    componentDidUpdate() { }\n    render() {\n        return this.props.children;\n    }\n}\nfunction PopChild({ children, isPresent, anchorX, root }) {\n    const id = useId();\n    const ref = useRef(null);\n    const size = useRef({\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n        right: 0,\n    });\n    const { nonce } = useContext(MotionConfigContext);\n    /**\n     * We create and inject a style block so we can apply this explicit\n     * sizing in a non-destructive manner by just deleting the style block.\n     *\n     * We can't apply size via render as the measurement happens\n     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the\n     * styles directly on the DOM node, we might be overwriting\n     * styles set via the style prop.\n     */\n    useInsertionEffect(() => {\n        const { width, height, top, left, right } = size.current;\n        if (isPresent || !ref.current || !width || !height)\n            return;\n        const x = anchorX === \"left\" ? `left: ${left}` : `right: ${right}`;\n        ref.current.dataset.motionPopId = id;\n        const style = document.createElement(\"style\");\n        if (nonce)\n            style.nonce = nonce;\n        const parent = root ?? document.head;\n        parent.appendChild(style);\n        if (style.sheet) {\n            style.sheet.insertRule(`\n          [data-motion-pop-id=\"${id}\"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            ${x}px !important;\n            top: ${top}px !important;\n          }\n        `);\n        }\n        return () => {\n            if (parent.contains(style)) {\n                parent.removeChild(style);\n            }\n        };\n    }, [isPresent]);\n    return (jsx(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size, children: React.cloneElement(children, { ref }) }));\n}\n\nexport { PopChild };\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, anchorX, root }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    let isReusedContext = true;\n    let context = useMemo(() => {\n        isReusedContext = false;\n        return {\n            id,\n            initial,\n            isPresent,\n            custom,\n            onExitComplete: (childId) => {\n                presenceChildren.set(childId, true);\n                for (const isComplete of presenceChildren.values()) {\n                    if (!isComplete)\n                        return; // can stop searching when any is incomplete\n                }\n                onExitComplete && onExitComplete();\n            },\n            register: (childId) => {\n                presenceChildren.set(childId, false);\n                return () => presenceChildren.delete(childId);\n            },\n        };\n    }, [isPresent, presenceChildren, onExitComplete]);\n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    if (presenceAffectsLayout && isReusedContext) {\n        context = { ...context };\n    }\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = (jsx(PopChild, { isPresent: isPresent, anchorX: anchorX, root: root, children: children }));\n    }\n    return (jsx(PresenceContext.Provider, { value: context, children: children }));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { Children, isValidElement } from 'react';\n\nconst getChildKey = (child) => child.key || \"\";\nfunction onlyElements(children) {\n    const filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, (child) => {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n\nexport { getChildKey, onlyElements };\n","\"use client\";\nimport { jsx, Fragment } from 'react/jsx-runtime';\nimport { useMemo, useRef, useState, useContext } from 'react';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { usePresence } from './use-presence.mjs';\nimport { onlyElements, getChildKey } from './utils.mjs';\n\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nconst AnimatePresence = ({ children, custom, initial = true, onExitComplete, presenceAffectsLayout = true, mode = \"sync\", propagate = false, anchorX = \"left\", root }) => {\n    const [isParentPresent, safeToRemove] = usePresence(propagate);\n    /**\n     * Filter any children that aren't ReactElements. We can only track components\n     * between renders with a props.key.\n     */\n    const presentChildren = useMemo(() => onlyElements(children), [children]);\n    /**\n     * Track the keys of the currently rendered children. This is used to\n     * determine which children are exiting.\n     */\n    const presentKeys = propagate && !isParentPresent ? [] : presentChildren.map(getChildKey);\n    /**\n     * If `initial={false}` we only want to pass this to components in the first render.\n     */\n    const isInitialRender = useRef(true);\n    /**\n     * A ref containing the currently present children. When all exit animations\n     * are complete, we use this to re-render the component with the latest children\n     * *committed* rather than the latest children *rendered*.\n     */\n    const pendingPresentChildren = useRef(presentChildren);\n    /**\n     * Track which exiting children have finished animating out.\n     */\n    const exitComplete = useConstant(() => new Map());\n    /**\n     * Save children to render as React state. To ensure this component is concurrent-safe,\n     * we check for exiting children via an effect.\n     */\n    const [diffedChildren, setDiffedChildren] = useState(presentChildren);\n    const [renderedChildren, setRenderedChildren] = useState(presentChildren);\n    useIsomorphicLayoutEffect(() => {\n        isInitialRender.current = false;\n        pendingPresentChildren.current = presentChildren;\n        /**\n         * Update complete status of exiting children.\n         */\n        for (let i = 0; i < renderedChildren.length; i++) {\n            const key = getChildKey(renderedChildren[i]);\n            if (!presentKeys.includes(key)) {\n                if (exitComplete.get(key) !== true) {\n                    exitComplete.set(key, false);\n                }\n            }\n            else {\n                exitComplete.delete(key);\n            }\n        }\n    }, [renderedChildren, presentKeys.length, presentKeys.join(\"-\")]);\n    const exitingChildren = [];\n    if (presentChildren !== diffedChildren) {\n        let nextChildren = [...presentChildren];\n        /**\n         * Loop through all the currently rendered components and decide which\n         * are exiting.\n         */\n        for (let i = 0; i < renderedChildren.length; i++) {\n            const child = renderedChildren[i];\n            const key = getChildKey(child);\n            if (!presentKeys.includes(key)) {\n                nextChildren.splice(i, 0, child);\n                exitingChildren.push(child);\n            }\n        }\n        /**\n         * If we're in \"wait\" mode, and we have exiting children, we want to\n         * only render these until they've all exited.\n         */\n        if (mode === \"wait\" && exitingChildren.length) {\n            nextChildren = exitingChildren;\n        }\n        setRenderedChildren(onlyElements(nextChildren));\n        setDiffedChildren(presentChildren);\n        /**\n         * Early return to ensure once we've set state with the latest diffed\n         * children, we can immediately re-render.\n         */\n        return null;\n    }\n    if (process.env.NODE_ENV !== \"production\" &&\n        mode === \"wait\" &&\n        renderedChildren.length > 1) {\n        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to \"wait\". This will lead to odd visual behaviour.`);\n    }\n    /**\n     * If we've been provided a forceRender function by the LayoutGroupContext,\n     * we can use it to force a re-render amongst all surrounding components once\n     * all components have finished animating out.\n     */\n    const { forceRender } = useContext(LayoutGroupContext);\n    return (jsx(Fragment, { children: renderedChildren.map((child) => {\n            const key = getChildKey(child);\n            const isPresent = propagate && !isParentPresent\n                ? false\n                : presentChildren === renderedChildren ||\n                    presentKeys.includes(key);\n            const onExit = () => {\n                if (exitComplete.has(key)) {\n                    exitComplete.set(key, true);\n                }\n                else {\n                    return;\n                }\n                let isEveryExitComplete = true;\n                exitComplete.forEach((isExitComplete) => {\n                    if (!isExitComplete)\n                        isEveryExitComplete = false;\n                });\n                if (isEveryExitComplete) {\n                    forceRender?.();\n                    setRenderedChildren(pendingPresentChildren.current);\n                    propagate && safeToRemove?.();\n                    onExitComplete && onExitComplete();\n                }\n            };\n            return (jsx(PresenceChild, { isPresent: isPresent, initial: !isInitialRender.current || initial\n                    ? undefined\n                    : false, custom: custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode, root: root, onExitComplete: isPresent ? undefined : onExit, anchorX: anchorX, children: child }, key));\n        }) }));\n};\n\nexport { AnimatePresence };\n","import { useStaticQuery, graphql } from 'gatsby';\n\nconst useSiteMetadata = () => {\n  const data = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n          author\n        }\n      }\n    }\n  `);\n  return data.site.siteMetadata;\n};\n\nexport default useSiteMetadata;","import { Link } from \"gatsby\";\nimport React, { useState } from \"react\";\nimport { AnimatePresence, motion } from \"motion/react\";\nimport useSiteMetadata from \"../hooks/useSiteMetadata\";\n\nconst MotionLink = motion(Link);\n\nconst Navbar = () => {\n  const [open, setOpen] = useState(false);\n  const { title } = useSiteMetadata();\n\n  const toggleMenu = () => setOpen(!open);\n  const closeMenu = () => setOpen(false);\n\n  const links = [\n    { title: \"Home\", url: \"/\", showInLargeScreen: true },\n    { title: \"Archives\", url: \"/archives\", showInLargeScreen: true },\n    { title: \"Uses\", url: \"/uses\", showInLargeScreen: true },\n    { title: \"Testimonials\", url: \"/testimonials\", showInLargeScreen: true },\n    { title: \"Typography\", url: \"/logos\", showInLargeScreen: false },\n    { title: \"About\", url: \"/about\", showInLargeScreen: true },\n  ];\n\n  return (\n    <header className=\"flex justify-between items-center box py-6 min-h-20\">\n      <Link\n        to=\"/\"\n        className=\"text-white inline-block text-xl x:text-2xl font-semibold cursor-default no-underline\"\n      >\n        {title}\n      </Link>\n      <div className=\"hidden md:flex gap-6\">\n        {links.map(\n          (menu) =>\n            menu.showInLargeScreen && (\n              <Link\n                className=\"text-white inline-block no-underline hover:text-gray-dark\"\n                to={menu.url}\n                key={menu.title}\n              >\n                {menu.title}\n              </Link>\n            )\n        )}\n      </div>\n\n      {/* Mobile Menu Hamburger */}\n      <button\n        className=\"flex justify-center items-center md:hidden\"\n        onClick={toggleMenu}\n        role=\"link\"\n        tabIndex={0}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"text-white w-6 h-6 feather feather-menu\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\" />\n          <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\" />\n          <line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\" />\n        </svg>\n      </button>\n\n      <AnimatePresence>\n        {open && (\n          <motion.div\n            className=\"fixed flex flex-col w-full h-full max-h-full inset-0 bg-purple-dark/95 backdrop-blur-md z-20\"\n            variants={{\n              open: {\n                x: \"0\",\n                transition: {\n                  ease: [0.76, 0, 0.24, 1],\n                  duration: 0.5,\n                  staggerChildren: 0.1,\n                },\n              },\n              closed: {\n                x: \"100%\",\n                transition: {\n                  ease: [0.76, 0, 0.24, 1],\n                  duration: 0.3,\n                  staggerChildren: 0.1,\n                  staggerDirection: -1,\n                  delay: 0.4,\n                },\n              },\n            }}\n            initial=\"closed\"\n            animate=\"open\"\n            exit=\"closed\"\n          >\n            <header className=\"flex justify-end items-center box min-h-20\">\n              <button\n                className=\"flex justify-center items-center py-6\"\n                onClick={closeMenu}\n                role=\"link\"\n                tabIndex={0}\n              >\n                <svg\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  className=\"w-6 h-6 text-white feather feather-x\"\n                >\n                  <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n                  <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n                </svg>\n              </button>\n            </header>\n            <div className=\"w-20 mx-auto text-center\">\n              {links.map((menu, index) => (\n                <MotionLink\n                  className=\"block font-bold text-white py-4 no-underline\"\n                  to={menu.url}\n                  key={menu.title}\n                  whileTap={{ scale: 0.95 }}\n                  custom={index}\n                  variants={{\n                    open: (i) => ({\n                      x: 0,\n                      opacity: 1,\n                      transition: {\n                        duration: 0.5,\n                        ease: [0.76, 0, 0.24, 1],\n                        delay: 0.05 * i,\n                      },\n                    }),\n                    closed: (i) => ({\n                      x: 80,\n                      opacity: 0,\n                      transition: {\n                        duration: 0.5,\n                        ease: [0.76, 0, 0.24, 1],\n                        delay: 0.05 * i,\n                      },\n                    }),\n                  }}\n                >\n                  {menu.title}\n                </MotionLink>\n              ))}\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </header>\n  );\n};\n\nexport default Navbar;\n","import React from 'react';\nimport useSiteMetadata from '../hooks/useSiteMetadata';\n\nexport default () => {\n  const { author } = useSiteMetadata();\n\n  return (\n    <footer className=\"mx-auto text-white text-xs x:text-base mt-auto\">\n      <p className=\"text-center\">\n        Image from\n        {' '}\n        <a\n          className=\"no-underline\"\n          href=\"https://dribbble.com/febinraj\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Febin_Raj\n        </a>\n      </p>\n      <div className=\"mt-3 md:flex md:justify-center md:items-center\">\n        <p className=\"text-center\">\n          Powered by\n          {' '}\n          <a\n            className=\"no-underline\"\n            href=\"https://www.gatsbyjs.org\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Gatsby\n          </a>\n          {' '}\n          @\n          {' '}\n          <a\n            className=\"no-underline\"\n            href=\"https://github.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            GitHub\n          </a>\n          <span className=\"invisible md:visible text-white\">&nbsp;|&nbsp;</span>\n        </p>\n        <p className=\"text-center my-3\">\n           2012 -\n          {' '}\n          {new Date().getFullYear()}\n          {' '}\n          | Design with\n          {' '}\n          <span role=\"img\" aria-label=\"love\">\n            \n          </span>\n          {' '}\n          by\n          {' '}\n          <a className=\"no-underline\" href=\"https://lattespirit.github.io\">\n            {author}\n          </a>\n        </p>\n      </div>\n    </footer>\n  );\n};\n","import $HgANd$react from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nconst $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c = typeof document !== 'undefined' ? (0, $HgANd$react).useLayoutEffect : ()=>{};\n\n\nexport {$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c as useLayoutEffect};\n//# sourceMappingURL=useLayoutEffect.module.js.map\n","import {useLayoutEffect as $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c} from \"./useLayoutEffect.mjs\";\nimport $lmaYr$react, {useRef as $lmaYr$useRef, useCallback as $lmaYr$useCallback} from \"react\";\n\n/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\nvar $8ae05eaa5c114e9c$var$_React_useInsertionEffect;\n// Use the earliest effect type possible. useInsertionEffect runs during the mutation phase,\n// before all layout effects, but is available only in React 18 and later.\nconst $8ae05eaa5c114e9c$var$useEarlyEffect = ($8ae05eaa5c114e9c$var$_React_useInsertionEffect = (0, $lmaYr$react)['useInsertionEffect']) !== null && $8ae05eaa5c114e9c$var$_React_useInsertionEffect !== void 0 ? $8ae05eaa5c114e9c$var$_React_useInsertionEffect : (0, $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c);\nfunction $8ae05eaa5c114e9c$export$7f54fc3180508a52(fn) {\n    const ref = (0, $lmaYr$useRef)(null);\n    $8ae05eaa5c114e9c$var$useEarlyEffect(()=>{\n        ref.current = fn;\n    }, [\n        fn\n    ]);\n    // @ts-ignore\n    return (0, $lmaYr$useCallback)((...args)=>{\n        const f = ref.current;\n        return f === null || f === void 0 ? void 0 : f(...args);\n    }, []);\n}\n\n\nexport {$8ae05eaa5c114e9c$export$7f54fc3180508a52 as useEffectEvent};\n//# sourceMappingURL=useEffectEvent.module.js.map\n","import {useLayoutEffect as $6dfIe$useLayoutEffect, useEffectEvent as $6dfIe$useEffectEvent, isFocusable as $6dfIe$isFocusable, getOwnerWindow as $6dfIe$getOwnerWindow, focusWithoutScrolling as $6dfIe$focusWithoutScrolling} from \"@react-aria/utils\";\nimport {useRef as $6dfIe$useRef, useCallback as $6dfIe$useCallback} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\nfunction $8a9cb279dc87e130$export$525bc4921d56d4a(nativeEvent) {\n    let event = nativeEvent;\n    event.nativeEvent = nativeEvent;\n    event.isDefaultPrevented = ()=>event.defaultPrevented;\n    // cancelBubble is technically deprecated in the spec, but still supported in all browsers.\n    event.isPropagationStopped = ()=>event.cancelBubble;\n    event.persist = ()=>{};\n    return event;\n}\nfunction $8a9cb279dc87e130$export$c2b7abe5d61ec696(event, target) {\n    Object.defineProperty(event, 'target', {\n        value: target\n    });\n    Object.defineProperty(event, 'currentTarget', {\n        value: target\n    });\n}\nfunction $8a9cb279dc87e130$export$715c682d09d639cc(onBlur) {\n    let stateRef = (0, $6dfIe$useRef)({\n        isFocused: false,\n        observer: null\n    });\n    // Clean up MutationObserver on unmount. See below.\n    (0, $6dfIe$useLayoutEffect)(()=>{\n        const state = stateRef.current;\n        return ()=>{\n            if (state.observer) {\n                state.observer.disconnect();\n                state.observer = null;\n            }\n        };\n    }, []);\n    let dispatchBlur = (0, $6dfIe$useEffectEvent)((e)=>{\n        onBlur === null || onBlur === void 0 ? void 0 : onBlur(e);\n    });\n    // This function is called during a React onFocus event.\n    return (0, $6dfIe$useCallback)((e)=>{\n        // React does not fire onBlur when an element is disabled. https://github.com/facebook/react/issues/9142\n        // Most browsers fire a native focusout event in this case, except for Firefox. In that case, we use a\n        // MutationObserver to watch for the disabled attribute, and dispatch these events ourselves.\n        // For browsers that do, focusout fires before the MutationObserver, so onBlur should not fire twice.\n        if (e.target instanceof HTMLButtonElement || e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement || e.target instanceof HTMLSelectElement) {\n            stateRef.current.isFocused = true;\n            let target = e.target;\n            let onBlurHandler = (e)=>{\n                stateRef.current.isFocused = false;\n                if (target.disabled) {\n                    // For backward compatibility, dispatch a (fake) React synthetic event.\n                    let event = $8a9cb279dc87e130$export$525bc4921d56d4a(e);\n                    dispatchBlur(event);\n                }\n                // We no longer need the MutationObserver once the target is blurred.\n                if (stateRef.current.observer) {\n                    stateRef.current.observer.disconnect();\n                    stateRef.current.observer = null;\n                }\n            };\n            target.addEventListener('focusout', onBlurHandler, {\n                once: true\n            });\n            stateRef.current.observer = new MutationObserver(()=>{\n                if (stateRef.current.isFocused && target.disabled) {\n                    var _stateRef_current_observer;\n                    (_stateRef_current_observer = stateRef.current.observer) === null || _stateRef_current_observer === void 0 ? void 0 : _stateRef_current_observer.disconnect();\n                    let relatedTargetEl = target === document.activeElement ? null : document.activeElement;\n                    target.dispatchEvent(new FocusEvent('blur', {\n                        relatedTarget: relatedTargetEl\n                    }));\n                    target.dispatchEvent(new FocusEvent('focusout', {\n                        bubbles: true,\n                        relatedTarget: relatedTargetEl\n                    }));\n                }\n            });\n            stateRef.current.observer.observe(target, {\n                attributes: true,\n                attributeFilter: [\n                    'disabled'\n                ]\n            });\n        }\n    }, [\n        dispatchBlur\n    ]);\n}\nlet $8a9cb279dc87e130$export$fda7da73ab5d4c48 = false;\nfunction $8a9cb279dc87e130$export$cabe61c495ee3649(target) {\n    // The browser will focus the nearest focusable ancestor of our target.\n    while(target && !(0, $6dfIe$isFocusable)(target))target = target.parentElement;\n    let window = (0, $6dfIe$getOwnerWindow)(target);\n    let activeElement = window.document.activeElement;\n    if (!activeElement || activeElement === target) return;\n    $8a9cb279dc87e130$export$fda7da73ab5d4c48 = true;\n    let isRefocusing = false;\n    let onBlur = (e)=>{\n        if (e.target === activeElement || isRefocusing) e.stopImmediatePropagation();\n    };\n    let onFocusOut = (e)=>{\n        if (e.target === activeElement || isRefocusing) {\n            e.stopImmediatePropagation();\n            // If there was no focusable ancestor, we don't expect a focus event.\n            // Re-focus the original active element here.\n            if (!target && !isRefocusing) {\n                isRefocusing = true;\n                (0, $6dfIe$focusWithoutScrolling)(activeElement);\n                cleanup();\n            }\n        }\n    };\n    let onFocus = (e)=>{\n        if (e.target === target || isRefocusing) e.stopImmediatePropagation();\n    };\n    let onFocusIn = (e)=>{\n        if (e.target === target || isRefocusing) {\n            e.stopImmediatePropagation();\n            if (!isRefocusing) {\n                isRefocusing = true;\n                (0, $6dfIe$focusWithoutScrolling)(activeElement);\n                cleanup();\n            }\n        }\n    };\n    window.addEventListener('blur', onBlur, true);\n    window.addEventListener('focusout', onFocusOut, true);\n    window.addEventListener('focusin', onFocusIn, true);\n    window.addEventListener('focus', onFocus, true);\n    let cleanup = ()=>{\n        cancelAnimationFrame(raf);\n        window.removeEventListener('blur', onBlur, true);\n        window.removeEventListener('focusout', onFocusOut, true);\n        window.removeEventListener('focusin', onFocusIn, true);\n        window.removeEventListener('focus', onFocus, true);\n        $8a9cb279dc87e130$export$fda7da73ab5d4c48 = false;\n        isRefocusing = false;\n    };\n    let raf = requestAnimationFrame(cleanup);\n    return cleanup;\n}\n\n\nexport {$8a9cb279dc87e130$export$525bc4921d56d4a as createSyntheticEvent, $8a9cb279dc87e130$export$c2b7abe5d61ec696 as setEventTarget, $8a9cb279dc87e130$export$715c682d09d639cc as useSyntheticBlurEvent, $8a9cb279dc87e130$export$fda7da73ab5d4c48 as ignoreFocusEvent, $8a9cb279dc87e130$export$cabe61c495ee3649 as preventFocus};\n//# sourceMappingURL=utils.module.js.map\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ function $c87311424ea30a05$var$testUserAgent(re) {\n    var _window_navigator_userAgentData;\n    if (typeof window === 'undefined' || window.navigator == null) return false;\n    let brands = (_window_navigator_userAgentData = window.navigator['userAgentData']) === null || _window_navigator_userAgentData === void 0 ? void 0 : _window_navigator_userAgentData.brands;\n    return Array.isArray(brands) && brands.some((brand)=>re.test(brand.brand)) || re.test(window.navigator.userAgent);\n}\nfunction $c87311424ea30a05$var$testPlatform(re) {\n    var _window_navigator_userAgentData;\n    return typeof window !== 'undefined' && window.navigator != null ? re.test(((_window_navigator_userAgentData = window.navigator['userAgentData']) === null || _window_navigator_userAgentData === void 0 ? void 0 : _window_navigator_userAgentData.platform) || window.navigator.platform) : false;\n}\nfunction $c87311424ea30a05$var$cached(fn) {\n    if (process.env.NODE_ENV === 'test') return fn;\n    let res = null;\n    return ()=>{\n        if (res == null) res = fn();\n        return res;\n    };\n}\nconst $c87311424ea30a05$export$9ac100e40613ea10 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testPlatform(/^Mac/i);\n});\nconst $c87311424ea30a05$export$186c6964ca17d99 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testPlatform(/^iPhone/i);\n});\nconst $c87311424ea30a05$export$7bef049ce92e4224 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testPlatform(/^iPad/i) || // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n    $c87311424ea30a05$export$9ac100e40613ea10() && navigator.maxTouchPoints > 1;\n});\nconst $c87311424ea30a05$export$fedb369cb70207f1 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$export$186c6964ca17d99() || $c87311424ea30a05$export$7bef049ce92e4224();\n});\nconst $c87311424ea30a05$export$e1865c3bedcd822b = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$export$9ac100e40613ea10() || $c87311424ea30a05$export$fedb369cb70207f1();\n});\nconst $c87311424ea30a05$export$78551043582a6a98 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/AppleWebKit/i) && !$c87311424ea30a05$export$6446a186d09e379e();\n});\nconst $c87311424ea30a05$export$6446a186d09e379e = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/Chrome/i);\n});\nconst $c87311424ea30a05$export$a11b0059900ceec8 = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/Android/i);\n});\nconst $c87311424ea30a05$export$b7d78993b74f766d = $c87311424ea30a05$var$cached(function() {\n    return $c87311424ea30a05$var$testUserAgent(/Firefox/i);\n});\n\n\nexport {$c87311424ea30a05$export$9ac100e40613ea10 as isMac, $c87311424ea30a05$export$186c6964ca17d99 as isIPhone, $c87311424ea30a05$export$7bef049ce92e4224 as isIPad, $c87311424ea30a05$export$fedb369cb70207f1 as isIOS, $c87311424ea30a05$export$e1865c3bedcd822b as isAppleDevice, $c87311424ea30a05$export$78551043582a6a98 as isWebKit, $c87311424ea30a05$export$6446a186d09e379e as isChrome, $c87311424ea30a05$export$a11b0059900ceec8 as isAndroid, $c87311424ea30a05$export$b7d78993b74f766d as isFirefox};\n//# sourceMappingURL=platform.module.js.map\n","const $431fbd86ca7dc216$export$b204af158042fbac = (el)=>{\n    var _el_ownerDocument;\n    return (_el_ownerDocument = el === null || el === void 0 ? void 0 : el.ownerDocument) !== null && _el_ownerDocument !== void 0 ? _el_ownerDocument : document;\n};\nconst $431fbd86ca7dc216$export$f21a1ffae260145a = (el)=>{\n    if (el && 'window' in el && el.window === el) return el;\n    const doc = $431fbd86ca7dc216$export$b204af158042fbac(el);\n    return doc.defaultView || window;\n};\n/**\n * Type guard that checks if a value is a Node. Verifies the presence and type of the nodeType property.\n */ function $431fbd86ca7dc216$var$isNode(value) {\n    return value !== null && typeof value === 'object' && 'nodeType' in value && typeof value.nodeType === 'number';\n}\nfunction $431fbd86ca7dc216$export$af51f0f06c0f328a(node) {\n    return $431fbd86ca7dc216$var$isNode(node) && node.nodeType === Node.DOCUMENT_FRAGMENT_NODE && 'host' in node;\n}\n\n\nexport {$431fbd86ca7dc216$export$b204af158042fbac as getOwnerDocument, $431fbd86ca7dc216$export$f21a1ffae260145a as getOwnerWindow, $431fbd86ca7dc216$export$af51f0f06c0f328a as isShadowRoot};\n//# sourceMappingURL=domHelpers.module.js.map\n","import {ignoreFocusEvent as $8a9cb279dc87e130$export$fda7da73ab5d4c48} from \"./utils.mjs\";\nimport {isMac as $28AnR$isMac, isVirtualClick as $28AnR$isVirtualClick, getOwnerWindow as $28AnR$getOwnerWindow, getOwnerDocument as $28AnR$getOwnerDocument} from \"@react-aria/utils\";\nimport {useState as $28AnR$useState, useEffect as $28AnR$useEffect} from \"react\";\nimport {useIsSSR as $28AnR$useIsSSR} from \"@react-aria/ssr\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n\n\nlet $507fabe10e71c6fb$var$currentModality = null;\nlet $507fabe10e71c6fb$var$changeHandlers = new Set();\nlet $507fabe10e71c6fb$export$d90243b58daecda7 = new Map(); // We use a map here to support setting event listeners across multiple document objects.\nlet $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\nlet $507fabe10e71c6fb$var$hasBlurredWindowRecently = false;\n// Only Tab or Esc keys will make focus visible on text input elements\nconst $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS = {\n    Tab: true,\n    Escape: true\n};\nfunction $507fabe10e71c6fb$var$triggerChangeHandlers(modality, e) {\n    for (let handler of $507fabe10e71c6fb$var$changeHandlers)handler(modality, e);\n}\n/**\n * Helper function to determine if a KeyboardEvent is unmodified and could make keyboard focus styles visible.\n */ function $507fabe10e71c6fb$var$isValidKey(e) {\n    // Control and Shift keys trigger when navigating back to the tab with keyboard.\n    return !(e.metaKey || !(0, $28AnR$isMac)() && e.altKey || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\nfunction $507fabe10e71c6fb$var$handleKeyboardEvent(e) {\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n    if ($507fabe10e71c6fb$var$isValidKey(e)) {\n        $507fabe10e71c6fb$var$currentModality = 'keyboard';\n        $507fabe10e71c6fb$var$triggerChangeHandlers('keyboard', e);\n    }\n}\nfunction $507fabe10e71c6fb$var$handlePointerEvent(e) {\n    $507fabe10e71c6fb$var$currentModality = 'pointer';\n    if (e.type === 'mousedown' || e.type === 'pointerdown') {\n        $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n        $507fabe10e71c6fb$var$triggerChangeHandlers('pointer', e);\n    }\n}\nfunction $507fabe10e71c6fb$var$handleClickEvent(e) {\n    if ((0, $28AnR$isVirtualClick)(e)) {\n        $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n        $507fabe10e71c6fb$var$currentModality = 'virtual';\n    }\n}\nfunction $507fabe10e71c6fb$var$handleFocusEvent(e) {\n    // Firefox fires two extra focus events when the user first clicks into an iframe:\n    // first on the window, then on the document. We ignore these events so they don't\n    // cause keyboard focus rings to appear.\n    if (e.target === window || e.target === document || (0, $8a9cb279dc87e130$export$fda7da73ab5d4c48) || !e.isTrusted) return;\n    // If a focus event occurs without a preceding keyboard or pointer event, switch to virtual modality.\n    // This occurs, for example, when navigating a form with the next/previous buttons on iOS.\n    if (!$507fabe10e71c6fb$var$hasEventBeforeFocus && !$507fabe10e71c6fb$var$hasBlurredWindowRecently) {\n        $507fabe10e71c6fb$var$currentModality = 'virtual';\n        $507fabe10e71c6fb$var$triggerChangeHandlers('virtual', e);\n    }\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n    $507fabe10e71c6fb$var$hasBlurredWindowRecently = false;\n}\nfunction $507fabe10e71c6fb$var$handleWindowBlur() {\n    if (0, $8a9cb279dc87e130$export$fda7da73ab5d4c48) return;\n    // When the window is blurred, reset state. This is necessary when tabbing out of the window,\n    // for example, since a subsequent focus event won't be fired.\n    $507fabe10e71c6fb$var$hasEventBeforeFocus = false;\n    $507fabe10e71c6fb$var$hasBlurredWindowRecently = true;\n}\n/**\n * Setup global event listeners to control when keyboard focus style should be visible.\n */ function $507fabe10e71c6fb$var$setupGlobalFocusEvents(element) {\n    if (typeof window === 'undefined' || typeof document === 'undefined' || $507fabe10e71c6fb$export$d90243b58daecda7.get((0, $28AnR$getOwnerWindow)(element))) return;\n    const windowObject = (0, $28AnR$getOwnerWindow)(element);\n    const documentObject = (0, $28AnR$getOwnerDocument)(element);\n    // Programmatic focus() calls shouldn't affect the current input modality.\n    // However, we need to detect other cases when a focus event occurs without\n    // a preceding user event (e.g. screen reader focus). Overriding the focus\n    // method on HTMLElement.prototype is a bit hacky, but works.\n    let focus = windowObject.HTMLElement.prototype.focus;\n    windowObject.HTMLElement.prototype.focus = function() {\n        $507fabe10e71c6fb$var$hasEventBeforeFocus = true;\n        focus.apply(this, arguments);\n    };\n    documentObject.addEventListener('keydown', $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.addEventListener('keyup', $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.addEventListener('click', $507fabe10e71c6fb$var$handleClickEvent, true);\n    // Register focus events on the window so they are sure to happen\n    // before React's event listeners (registered on the document).\n    windowObject.addEventListener('focus', $507fabe10e71c6fb$var$handleFocusEvent, true);\n    windowObject.addEventListener('blur', $507fabe10e71c6fb$var$handleWindowBlur, false);\n    if (typeof PointerEvent !== 'undefined') {\n        documentObject.addEventListener('pointerdown', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.addEventListener('pointermove', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.addEventListener('pointerup', $507fabe10e71c6fb$var$handlePointerEvent, true);\n    } else if (process.env.NODE_ENV === 'test') {\n        documentObject.addEventListener('mousedown', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.addEventListener('mousemove', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.addEventListener('mouseup', $507fabe10e71c6fb$var$handlePointerEvent, true);\n    }\n    // Add unmount handler\n    windowObject.addEventListener('beforeunload', ()=>{\n        $507fabe10e71c6fb$var$tearDownWindowFocusTracking(element);\n    }, {\n        once: true\n    });\n    $507fabe10e71c6fb$export$d90243b58daecda7.set(windowObject, {\n        focus: focus\n    });\n}\nconst $507fabe10e71c6fb$var$tearDownWindowFocusTracking = (element, loadListener)=>{\n    const windowObject = (0, $28AnR$getOwnerWindow)(element);\n    const documentObject = (0, $28AnR$getOwnerDocument)(element);\n    if (loadListener) documentObject.removeEventListener('DOMContentLoaded', loadListener);\n    if (!$507fabe10e71c6fb$export$d90243b58daecda7.has(windowObject)) return;\n    windowObject.HTMLElement.prototype.focus = $507fabe10e71c6fb$export$d90243b58daecda7.get(windowObject).focus;\n    documentObject.removeEventListener('keydown', $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.removeEventListener('keyup', $507fabe10e71c6fb$var$handleKeyboardEvent, true);\n    documentObject.removeEventListener('click', $507fabe10e71c6fb$var$handleClickEvent, true);\n    windowObject.removeEventListener('focus', $507fabe10e71c6fb$var$handleFocusEvent, true);\n    windowObject.removeEventListener('blur', $507fabe10e71c6fb$var$handleWindowBlur, false);\n    if (typeof PointerEvent !== 'undefined') {\n        documentObject.removeEventListener('pointerdown', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.removeEventListener('pointermove', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.removeEventListener('pointerup', $507fabe10e71c6fb$var$handlePointerEvent, true);\n    } else if (process.env.NODE_ENV === 'test') {\n        documentObject.removeEventListener('mousedown', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.removeEventListener('mousemove', $507fabe10e71c6fb$var$handlePointerEvent, true);\n        documentObject.removeEventListener('mouseup', $507fabe10e71c6fb$var$handlePointerEvent, true);\n    }\n    $507fabe10e71c6fb$export$d90243b58daecda7.delete(windowObject);\n};\nfunction $507fabe10e71c6fb$export$2f1888112f558a7d(element) {\n    const documentObject = (0, $28AnR$getOwnerDocument)(element);\n    let loadListener;\n    if (documentObject.readyState !== 'loading') $507fabe10e71c6fb$var$setupGlobalFocusEvents(element);\n    else {\n        loadListener = ()=>{\n            $507fabe10e71c6fb$var$setupGlobalFocusEvents(element);\n        };\n        documentObject.addEventListener('DOMContentLoaded', loadListener);\n    }\n    return ()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(element, loadListener);\n}\n// Server-side rendering does not have the document object defined\n// eslint-disable-next-line no-restricted-globals\nif (typeof document !== 'undefined') $507fabe10e71c6fb$export$2f1888112f558a7d();\nfunction $507fabe10e71c6fb$export$b9b3dfddab17db27() {\n    return $507fabe10e71c6fb$var$currentModality !== 'pointer';\n}\nfunction $507fabe10e71c6fb$export$630ff653c5ada6a9() {\n    return $507fabe10e71c6fb$var$currentModality;\n}\nfunction $507fabe10e71c6fb$export$8397ddfc504fdb9a(modality) {\n    $507fabe10e71c6fb$var$currentModality = modality;\n    $507fabe10e71c6fb$var$triggerChangeHandlers(modality, null);\n}\nfunction $507fabe10e71c6fb$export$98e20ec92f614cfe() {\n    $507fabe10e71c6fb$var$setupGlobalFocusEvents();\n    let [modality, setModality] = (0, $28AnR$useState)($507fabe10e71c6fb$var$currentModality);\n    (0, $28AnR$useEffect)(()=>{\n        let handler = ()=>{\n            setModality($507fabe10e71c6fb$var$currentModality);\n        };\n        $507fabe10e71c6fb$var$changeHandlers.add(handler);\n        return ()=>{\n            $507fabe10e71c6fb$var$changeHandlers.delete(handler);\n        };\n    }, []);\n    return (0, $28AnR$useIsSSR)() ? null : modality;\n}\nconst $507fabe10e71c6fb$var$nonTextInputTypes = new Set([\n    'checkbox',\n    'radio',\n    'range',\n    'color',\n    'file',\n    'image',\n    'button',\n    'submit',\n    'reset'\n]);\n/**\n * If this is attached to text input component, return if the event is a focus event (Tab/Escape keys pressed) so that\n * focus visible style can be properly set.\n */ function $507fabe10e71c6fb$var$isKeyboardFocusEvent(isTextInput, modality, e) {\n    let document1 = (0, $28AnR$getOwnerDocument)(e === null || e === void 0 ? void 0 : e.target);\n    const IHTMLInputElement = typeof window !== 'undefined' ? (0, $28AnR$getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).HTMLInputElement : HTMLInputElement;\n    const IHTMLTextAreaElement = typeof window !== 'undefined' ? (0, $28AnR$getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).HTMLTextAreaElement : HTMLTextAreaElement;\n    const IHTMLElement = typeof window !== 'undefined' ? (0, $28AnR$getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).HTMLElement : HTMLElement;\n    const IKeyboardEvent = typeof window !== 'undefined' ? (0, $28AnR$getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).KeyboardEvent : KeyboardEvent;\n    // For keyboard events that occur on a non-input element that will move focus into input element (aka ArrowLeft going from Datepicker button to the main input group)\n    // we need to rely on the user passing isTextInput into here. This way we can skip toggling focus visiblity for said input element\n    isTextInput = isTextInput || document1.activeElement instanceof IHTMLInputElement && !$507fabe10e71c6fb$var$nonTextInputTypes.has(document1.activeElement.type) || document1.activeElement instanceof IHTMLTextAreaElement || document1.activeElement instanceof IHTMLElement && document1.activeElement.isContentEditable;\n    return !(isTextInput && modality === 'keyboard' && e instanceof IKeyboardEvent && !$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\nfunction $507fabe10e71c6fb$export$ffd9e5021c1fb2d6(props = {}) {\n    let { isTextInput: isTextInput, autoFocus: autoFocus } = props;\n    let [isFocusVisibleState, setFocusVisible] = (0, $28AnR$useState)(autoFocus || $507fabe10e71c6fb$export$b9b3dfddab17db27());\n    $507fabe10e71c6fb$export$ec71b4b83ac08ec3((isFocusVisible)=>{\n        setFocusVisible(isFocusVisible);\n    }, [\n        isTextInput\n    ], {\n        isTextInput: isTextInput\n    });\n    return {\n        isFocusVisible: isFocusVisibleState\n    };\n}\nfunction $507fabe10e71c6fb$export$ec71b4b83ac08ec3(fn, deps, opts) {\n    $507fabe10e71c6fb$var$setupGlobalFocusEvents();\n    (0, $28AnR$useEffect)(()=>{\n        let handler = (modality, e)=>{\n            // We want to early return for any keyboard events that occur inside text inputs EXCEPT for Tab and Escape\n            if (!$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(opts === null || opts === void 0 ? void 0 : opts.isTextInput), modality, e)) return;\n            fn($507fabe10e71c6fb$export$b9b3dfddab17db27());\n        };\n        $507fabe10e71c6fb$var$changeHandlers.add(handler);\n        return ()=>{\n            $507fabe10e71c6fb$var$changeHandlers.delete(handler);\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, deps);\n}\n\n\nexport {$507fabe10e71c6fb$export$d90243b58daecda7 as hasSetupGlobalListeners, $507fabe10e71c6fb$export$2f1888112f558a7d as addWindowFocusTracking, $507fabe10e71c6fb$export$b9b3dfddab17db27 as isFocusVisible, $507fabe10e71c6fb$export$630ff653c5ada6a9 as getInteractionModality, $507fabe10e71c6fb$export$8397ddfc504fdb9a as setInteractionModality, $507fabe10e71c6fb$export$98e20ec92f614cfe as useInteractionModality, $507fabe10e71c6fb$export$ffd9e5021c1fb2d6 as useFocusVisible, $507fabe10e71c6fb$export$ec71b4b83ac08ec3 as useFocusVisibleListener};\n//# sourceMappingURL=useFocusVisible.module.js.map\n","import {isAndroid as $c87311424ea30a05$export$a11b0059900ceec8} from \"./platform.mjs\";\n\n/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nfunction $6a7db85432448f7f$export$60278871457622de(event) {\n    // JAWS/NVDA with Firefox.\n    if (event.mozInputSource === 0 && event.isTrusted) return true;\n    // Android TalkBack's detail value varies depending on the event listener providing the event so we have specific logic here instead\n    // If pointerType is defined, event is from a click listener. For events from mousedown listener, detail === 0 is a sufficient check\n    // to detect TalkBack virtual clicks.\n    if ((0, $c87311424ea30a05$export$a11b0059900ceec8)() && event.pointerType) return event.type === 'click' && event.buttons === 1;\n    return event.detail === 0 && !event.pointerType;\n}\nfunction $6a7db85432448f7f$export$29bf1b5f2c56cf63(event) {\n    // If the pointer size is zero, then we assume it's from a screen reader.\n    // Android TalkBack double tap will sometimes return a event with width and height of 1\n    // and pointerType === 'mouse' so we need to check for a specific combination of event attributes.\n    // Cannot use \"event.pressure === 0\" as the sole check due to Safari pointer events always returning pressure === 0\n    // instead of .5, see https://bugs.webkit.org/show_bug.cgi?id=206216. event.pointerType === 'mouse' is to distingush\n    // Talkback double tap from Windows Firefox touch screen press\n    return !(0, $c87311424ea30a05$export$a11b0059900ceec8)() && event.width === 0 && event.height === 0 || event.width === 1 && event.height === 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'mouse';\n}\n\n\nexport {$6a7db85432448f7f$export$60278871457622de as isVirtualClick, $6a7db85432448f7f$export$29bf1b5f2c56cf63 as isVirtualPointerEvent};\n//# sourceMappingURL=isVirtualEvent.module.js.map\n","/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ let $f4e2df6bd15f8569$var$_tableNestedRows = false;\nlet $f4e2df6bd15f8569$var$_shadowDOM = false;\nfunction $f4e2df6bd15f8569$export$d9d8a0f82de49530() {\n    $f4e2df6bd15f8569$var$_tableNestedRows = true;\n}\nfunction $f4e2df6bd15f8569$export$1b00cb14a96194e6() {\n    return $f4e2df6bd15f8569$var$_tableNestedRows;\n}\nfunction $f4e2df6bd15f8569$export$12b151d9882e9985() {\n    $f4e2df6bd15f8569$var$_shadowDOM = true;\n}\nfunction $f4e2df6bd15f8569$export$98658e8c59125e6a() {\n    return $f4e2df6bd15f8569$var$_shadowDOM;\n}\n\n\nexport {$f4e2df6bd15f8569$export$d9d8a0f82de49530 as enableTableNestedRows, $f4e2df6bd15f8569$export$1b00cb14a96194e6 as tableNestedRows, $f4e2df6bd15f8569$export$12b151d9882e9985 as enableShadowDOM, $f4e2df6bd15f8569$export$98658e8c59125e6a as shadowDOM};\n//# sourceMappingURL=module.js.map\n","import {isShadowRoot as $431fbd86ca7dc216$export$af51f0f06c0f328a} from \"./domHelpers.mjs\";\nimport {shadowDOM as $lcSu5$shadowDOM} from \"@react-stately/flags\";\n\n// Source: https://github.com/microsoft/tabster/blob/a89fc5d7e332d48f68d03b1ca6e344489d1c3898/src/Shadowdomize/DOMFunctions.ts#L16\n\n\nfunction $d4ee10de306f2510$export$4282f70798064fe0(node, otherNode) {\n    if (!(0, $lcSu5$shadowDOM)()) return otherNode && node ? node.contains(otherNode) : false;\n    if (!node || !otherNode) return false;\n    let currentNode = otherNode;\n    while(currentNode !== null){\n        if (currentNode === node) return true;\n        if (currentNode.tagName === 'SLOT' && currentNode.assignedSlot) // Element is slotted\n        currentNode = currentNode.assignedSlot.parentNode;\n        else if ((0, $431fbd86ca7dc216$export$af51f0f06c0f328a)(currentNode)) // Element is in shadow root\n        currentNode = currentNode.host;\n        else currentNode = currentNode.parentNode;\n    }\n    return false;\n}\nconst $d4ee10de306f2510$export$cd4e5573fbe2b576 = (doc = document)=>{\n    var _activeElement_shadowRoot;\n    if (!(0, $lcSu5$shadowDOM)()) return doc.activeElement;\n    let activeElement = doc.activeElement;\n    while(activeElement && 'shadowRoot' in activeElement && ((_activeElement_shadowRoot = activeElement.shadowRoot) === null || _activeElement_shadowRoot === void 0 ? void 0 : _activeElement_shadowRoot.activeElement))activeElement = activeElement.shadowRoot.activeElement;\n    return activeElement;\n};\nfunction $d4ee10de306f2510$export$e58f029f0fbfdb29(event) {\n    if ((0, $lcSu5$shadowDOM)() && event.target.shadowRoot) {\n        if (event.composedPath) return event.composedPath()[0];\n    }\n    return event.target;\n}\n\n\nexport {$d4ee10de306f2510$export$4282f70798064fe0 as nodeContains, $d4ee10de306f2510$export$cd4e5573fbe2b576 as getActiveElement, $d4ee10de306f2510$export$e58f029f0fbfdb29 as getEventTarget};\n//# sourceMappingURL=DOMFunctions.module.js.map\n","import {useSyntheticBlurEvent as $8a9cb279dc87e130$export$715c682d09d639cc} from \"./utils.mjs\";\nimport {useCallback as $hf0lj$useCallback} from \"react\";\nimport {getOwnerDocument as $hf0lj$getOwnerDocument, getActiveElement as $hf0lj$getActiveElement, getEventTarget as $hf0lj$getEventTarget} from \"@react-aria/utils\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n\nfunction $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(props) {\n    let { isDisabled: isDisabled, onFocus: onFocusProp, onBlur: onBlurProp, onFocusChange: onFocusChange } = props;\n    const onBlur = (0, $hf0lj$useCallback)((e)=>{\n        if (e.target === e.currentTarget) {\n            if (onBlurProp) onBlurProp(e);\n            if (onFocusChange) onFocusChange(false);\n            return true;\n        }\n    }, [\n        onBlurProp,\n        onFocusChange\n    ]);\n    const onSyntheticFocus = (0, $8a9cb279dc87e130$export$715c682d09d639cc)(onBlur);\n    const onFocus = (0, $hf0lj$useCallback)((e)=>{\n        // Double check that document.activeElement actually matches e.target in case a previously chained\n        // focus handler already moved focus somewhere else.\n        const ownerDocument = (0, $hf0lj$getOwnerDocument)(e.target);\n        const activeElement = ownerDocument ? (0, $hf0lj$getActiveElement)(ownerDocument) : (0, $hf0lj$getActiveElement)();\n        if (e.target === e.currentTarget && activeElement === (0, $hf0lj$getEventTarget)(e.nativeEvent)) {\n            if (onFocusProp) onFocusProp(e);\n            if (onFocusChange) onFocusChange(true);\n            onSyntheticFocus(e);\n        }\n    }, [\n        onFocusChange,\n        onFocusProp,\n        onSyntheticFocus\n    ]);\n    return {\n        focusProps: {\n            onFocus: !isDisabled && (onFocusProp || onFocusChange || onBlurProp) ? onFocus : undefined,\n            onBlur: !isDisabled && (onBlurProp || onFocusChange) ? onBlur : undefined\n        }\n    };\n}\n\n\nexport {$a1ea59d68270f0dd$export$f8168d8dd8fd66e6 as useFocus};\n//# sourceMappingURL=useFocus.module.js.map\n","import {useRef as $lPAwt$useRef, useCallback as $lPAwt$useCallback, useEffect as $lPAwt$useEffect} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nfunction $03deb23ff14920c4$export$4eaf04e54aa8eed6() {\n    let globalListeners = (0, $lPAwt$useRef)(new Map());\n    let addGlobalListener = (0, $lPAwt$useCallback)((eventTarget, type, listener, options)=>{\n        // Make sure we remove the listener after it is called with the `once` option.\n        let fn = (options === null || options === void 0 ? void 0 : options.once) ? (...args)=>{\n            globalListeners.current.delete(listener);\n            listener(...args);\n        } : listener;\n        globalListeners.current.set(listener, {\n            type: type,\n            eventTarget: eventTarget,\n            fn: fn,\n            options: options\n        });\n        eventTarget.addEventListener(type, fn, options);\n    }, []);\n    let removeGlobalListener = (0, $lPAwt$useCallback)((eventTarget, type, listener, options)=>{\n        var _globalListeners_current_get;\n        let fn = ((_globalListeners_current_get = globalListeners.current.get(listener)) === null || _globalListeners_current_get === void 0 ? void 0 : _globalListeners_current_get.fn) || listener;\n        eventTarget.removeEventListener(type, fn, options);\n        globalListeners.current.delete(listener);\n    }, []);\n    let removeAllGlobalListeners = (0, $lPAwt$useCallback)(()=>{\n        globalListeners.current.forEach((value, key)=>{\n            removeGlobalListener(value.eventTarget, value.type, key, value.options);\n        });\n    }, [\n        removeGlobalListener\n    ]);\n    (0, $lPAwt$useEffect)(()=>{\n        return removeAllGlobalListeners;\n    }, [\n        removeAllGlobalListeners\n    ]);\n    return {\n        addGlobalListener: addGlobalListener,\n        removeGlobalListener: removeGlobalListener,\n        removeAllGlobalListeners: removeAllGlobalListeners\n    };\n}\n\n\nexport {$03deb23ff14920c4$export$4eaf04e54aa8eed6 as useGlobalListeners};\n//# sourceMappingURL=useGlobalListeners.module.js.map\n","import {createSyntheticEvent as $8a9cb279dc87e130$export$525bc4921d56d4a, setEventTarget as $8a9cb279dc87e130$export$c2b7abe5d61ec696, useSyntheticBlurEvent as $8a9cb279dc87e130$export$715c682d09d639cc} from \"./utils.mjs\";\nimport {useRef as $3b9Q0$useRef, useCallback as $3b9Q0$useCallback} from \"react\";\nimport {useGlobalListeners as $3b9Q0$useGlobalListeners, getOwnerDocument as $3b9Q0$getOwnerDocument, getActiveElement as $3b9Q0$getActiveElement, getEventTarget as $3b9Q0$getEventTarget, nodeContains as $3b9Q0$nodeContains} from \"@react-aria/utils\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n\nfunction $9ab94262bd0047c7$export$420e68273165f4ec(props) {\n    let { isDisabled: isDisabled, onBlurWithin: onBlurWithin, onFocusWithin: onFocusWithin, onFocusWithinChange: onFocusWithinChange } = props;\n    let state = (0, $3b9Q0$useRef)({\n        isFocusWithin: false\n    });\n    let { addGlobalListener: addGlobalListener, removeAllGlobalListeners: removeAllGlobalListeners } = (0, $3b9Q0$useGlobalListeners)();\n    let onBlur = (0, $3b9Q0$useCallback)((e)=>{\n        // Ignore events bubbling through portals.\n        if (!e.currentTarget.contains(e.target)) return;\n        // We don't want to trigger onBlurWithin and then immediately onFocusWithin again\n        // when moving focus inside the element. Only trigger if the currentTarget doesn't\n        // include the relatedTarget (where focus is moving).\n        if (state.current.isFocusWithin && !e.currentTarget.contains(e.relatedTarget)) {\n            state.current.isFocusWithin = false;\n            removeAllGlobalListeners();\n            if (onBlurWithin) onBlurWithin(e);\n            if (onFocusWithinChange) onFocusWithinChange(false);\n        }\n    }, [\n        onBlurWithin,\n        onFocusWithinChange,\n        state,\n        removeAllGlobalListeners\n    ]);\n    let onSyntheticFocus = (0, $8a9cb279dc87e130$export$715c682d09d639cc)(onBlur);\n    let onFocus = (0, $3b9Q0$useCallback)((e)=>{\n        // Ignore events bubbling through portals.\n        if (!e.currentTarget.contains(e.target)) return;\n        // Double check that document.activeElement actually matches e.target in case a previously chained\n        // focus handler already moved focus somewhere else.\n        const ownerDocument = (0, $3b9Q0$getOwnerDocument)(e.target);\n        const activeElement = (0, $3b9Q0$getActiveElement)(ownerDocument);\n        if (!state.current.isFocusWithin && activeElement === (0, $3b9Q0$getEventTarget)(e.nativeEvent)) {\n            if (onFocusWithin) onFocusWithin(e);\n            if (onFocusWithinChange) onFocusWithinChange(true);\n            state.current.isFocusWithin = true;\n            onSyntheticFocus(e);\n            // Browsers don't fire blur events when elements are removed from the DOM.\n            // However, if a focus event occurs outside the element we're tracking, we\n            // can manually fire onBlur.\n            let currentTarget = e.currentTarget;\n            addGlobalListener(ownerDocument, 'focus', (e)=>{\n                if (state.current.isFocusWithin && !(0, $3b9Q0$nodeContains)(currentTarget, e.target)) {\n                    let nativeEvent = new ownerDocument.defaultView.FocusEvent('blur', {\n                        relatedTarget: e.target\n                    });\n                    (0, $8a9cb279dc87e130$export$c2b7abe5d61ec696)(nativeEvent, currentTarget);\n                    let event = (0, $8a9cb279dc87e130$export$525bc4921d56d4a)(nativeEvent);\n                    onBlur(event);\n                }\n            }, {\n                capture: true\n            });\n        }\n    }, [\n        onFocusWithin,\n        onFocusWithinChange,\n        onSyntheticFocus,\n        addGlobalListener,\n        onBlur\n    ]);\n    if (isDisabled) return {\n        focusWithinProps: {\n            // These cannot be null, that would conflict in mergeProps\n            onFocus: undefined,\n            onBlur: undefined\n        }\n    };\n    return {\n        focusWithinProps: {\n            onFocus: onFocus,\n            onBlur: onBlur\n        }\n    };\n}\n\n\nexport {$9ab94262bd0047c7$export$420e68273165f4ec as useFocusWithin};\n//# sourceMappingURL=useFocusWithin.module.js.map\n","import {isFocusVisible as $isWE5$isFocusVisible, useFocusVisibleListener as $isWE5$useFocusVisibleListener, useFocus as $isWE5$useFocus, useFocusWithin as $isWE5$useFocusWithin} from \"@react-aria/interactions\";\nimport {useRef as $isWE5$useRef, useState as $isWE5$useState, useCallback as $isWE5$useCallback} from \"react\";\n\n\n\nfunction $f7dceffc5ad7768b$export$4e328f61c538687f(props = {}) {\n    let { autoFocus: autoFocus = false, isTextInput: isTextInput, within: within } = props;\n    let state = (0, $isWE5$useRef)({\n        isFocused: false,\n        isFocusVisible: autoFocus || (0, $isWE5$isFocusVisible)()\n    });\n    let [isFocused, setFocused] = (0, $isWE5$useState)(false);\n    let [isFocusVisibleState, setFocusVisible] = (0, $isWE5$useState)(()=>state.current.isFocused && state.current.isFocusVisible);\n    let updateState = (0, $isWE5$useCallback)(()=>setFocusVisible(state.current.isFocused && state.current.isFocusVisible), []);\n    let onFocusChange = (0, $isWE5$useCallback)((isFocused)=>{\n        state.current.isFocused = isFocused;\n        setFocused(isFocused);\n        updateState();\n    }, [\n        updateState\n    ]);\n    (0, $isWE5$useFocusVisibleListener)((isFocusVisible)=>{\n        state.current.isFocusVisible = isFocusVisible;\n        updateState();\n    }, [], {\n        isTextInput: isTextInput\n    });\n    let { focusProps: focusProps } = (0, $isWE5$useFocus)({\n        isDisabled: within,\n        onFocusChange: onFocusChange\n    });\n    let { focusWithinProps: focusWithinProps } = (0, $isWE5$useFocusWithin)({\n        isDisabled: !within,\n        onFocusWithinChange: onFocusChange\n    });\n    return {\n        isFocused: isFocused,\n        isFocusVisible: isFocusVisibleState,\n        focusProps: within ? focusWithinProps : focusProps\n    };\n}\n\n\nexport {$f7dceffc5ad7768b$export$4e328f61c538687f as useFocusRing};\n//# sourceMappingURL=useFocusRing.module.js.map\n","import {useGlobalListeners as $AWxnT$useGlobalListeners, getOwnerDocument as $AWxnT$getOwnerDocument, nodeContains as $AWxnT$nodeContains} from \"@react-aria/utils\";\nimport {useState as $AWxnT$useState, useRef as $AWxnT$useRef, useEffect as $AWxnT$useEffect, useMemo as $AWxnT$useMemo} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\n// iOS fires onPointerEnter twice: once with pointerType=\"touch\" and again with pointerType=\"mouse\".\n// We want to ignore these emulated events so they do not trigger hover behavior.\n// See https://bugs.webkit.org/show_bug.cgi?id=214609.\nlet $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = false;\nlet $6179b936705e76d3$var$hoverCount = 0;\nfunction $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents() {\n    $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = true;\n    // Clear globalIgnoreEmulatedMouseEvents after a short timeout. iOS fires onPointerEnter\n    // with pointerType=\"mouse\" immediately after onPointerUp and before onFocus. On other\n    // devices that don't have this quirk, we don't want to ignore a mouse hover sometime in\n    // the distant future because a user previously touched the element.\n    setTimeout(()=>{\n        $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents = false;\n    }, 50);\n}\nfunction $6179b936705e76d3$var$handleGlobalPointerEvent(e) {\n    if (e.pointerType === 'touch') $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents();\n}\nfunction $6179b936705e76d3$var$setupGlobalTouchEvents() {\n    if (typeof document === 'undefined') return;\n    if ($6179b936705e76d3$var$hoverCount === 0) {\n        if (typeof PointerEvent !== 'undefined') document.addEventListener('pointerup', $6179b936705e76d3$var$handleGlobalPointerEvent);\n        else if (process.env.NODE_ENV === 'test') document.addEventListener('touchend', $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents);\n    }\n    $6179b936705e76d3$var$hoverCount++;\n    return ()=>{\n        $6179b936705e76d3$var$hoverCount--;\n        if ($6179b936705e76d3$var$hoverCount > 0) return;\n        if (typeof PointerEvent !== 'undefined') document.removeEventListener('pointerup', $6179b936705e76d3$var$handleGlobalPointerEvent);\n        else if (process.env.NODE_ENV === 'test') document.removeEventListener('touchend', $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents);\n    };\n}\nfunction $6179b936705e76d3$export$ae780daf29e6d456(props) {\n    let { onHoverStart: onHoverStart, onHoverChange: onHoverChange, onHoverEnd: onHoverEnd, isDisabled: isDisabled } = props;\n    let [isHovered, setHovered] = (0, $AWxnT$useState)(false);\n    let state = (0, $AWxnT$useRef)({\n        isHovered: false,\n        ignoreEmulatedMouseEvents: false,\n        pointerType: '',\n        target: null\n    }).current;\n    (0, $AWxnT$useEffect)($6179b936705e76d3$var$setupGlobalTouchEvents, []);\n    let { addGlobalListener: addGlobalListener, removeAllGlobalListeners: removeAllGlobalListeners } = (0, $AWxnT$useGlobalListeners)();\n    let { hoverProps: hoverProps, triggerHoverEnd: triggerHoverEnd } = (0, $AWxnT$useMemo)(()=>{\n        let triggerHoverStart = (event, pointerType)=>{\n            state.pointerType = pointerType;\n            if (isDisabled || pointerType === 'touch' || state.isHovered || !event.currentTarget.contains(event.target)) return;\n            state.isHovered = true;\n            let target = event.currentTarget;\n            state.target = target;\n            // When an element that is hovered over is removed, no pointerleave event is fired by the browser,\n            // even though the originally hovered target may have shrunk in size so it is no longer hovered.\n            // However, a pointerover event will be fired on the new target the mouse is over.\n            // In Chrome this happens immediately. In Safari and Firefox, it happens upon moving the mouse one pixel.\n            addGlobalListener((0, $AWxnT$getOwnerDocument)(event.target), 'pointerover', (e)=>{\n                if (state.isHovered && state.target && !(0, $AWxnT$nodeContains)(state.target, e.target)) triggerHoverEnd(e, e.pointerType);\n            }, {\n                capture: true\n            });\n            if (onHoverStart) onHoverStart({\n                type: 'hoverstart',\n                target: target,\n                pointerType: pointerType\n            });\n            if (onHoverChange) onHoverChange(true);\n            setHovered(true);\n        };\n        let triggerHoverEnd = (event, pointerType)=>{\n            let target = state.target;\n            state.pointerType = '';\n            state.target = null;\n            if (pointerType === 'touch' || !state.isHovered || !target) return;\n            state.isHovered = false;\n            removeAllGlobalListeners();\n            if (onHoverEnd) onHoverEnd({\n                type: 'hoverend',\n                target: target,\n                pointerType: pointerType\n            });\n            if (onHoverChange) onHoverChange(false);\n            setHovered(false);\n        };\n        let hoverProps = {};\n        if (typeof PointerEvent !== 'undefined') {\n            hoverProps.onPointerEnter = (e)=>{\n                if ($6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents && e.pointerType === 'mouse') return;\n                triggerHoverStart(e, e.pointerType);\n            };\n            hoverProps.onPointerLeave = (e)=>{\n                if (!isDisabled && e.currentTarget.contains(e.target)) triggerHoverEnd(e, e.pointerType);\n            };\n        } else if (process.env.NODE_ENV === 'test') {\n            hoverProps.onTouchStart = ()=>{\n                state.ignoreEmulatedMouseEvents = true;\n            };\n            hoverProps.onMouseEnter = (e)=>{\n                if (!state.ignoreEmulatedMouseEvents && !$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents) triggerHoverStart(e, 'mouse');\n                state.ignoreEmulatedMouseEvents = false;\n            };\n            hoverProps.onMouseLeave = (e)=>{\n                if (!isDisabled && e.currentTarget.contains(e.target)) triggerHoverEnd(e, 'mouse');\n            };\n        }\n        return {\n            hoverProps: hoverProps,\n            triggerHoverEnd: triggerHoverEnd\n        };\n    }, [\n        onHoverStart,\n        onHoverChange,\n        onHoverEnd,\n        isDisabled,\n        state,\n        addGlobalListener,\n        removeAllGlobalListeners\n    ]);\n    (0, $AWxnT$useEffect)(()=>{\n        // Call the triggerHoverEnd as soon as isDisabled changes to true\n        // Safe to call triggerHoverEnd, it will early return if we aren't currently hovering\n        if (isDisabled) triggerHoverEnd({\n            currentTarget: state.target\n        }, state.pointerType);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        isDisabled\n    ]);\n    return {\n        hoverProps: hoverProps,\n        isHovered: isHovered\n    };\n}\n\n\nexport {$6179b936705e76d3$export$ae780daf29e6d456 as useHover};\n//# sourceMappingURL=useHover.module.js.map\n","function memo(getDeps, fn, opts) {\n  let deps = opts.initialDeps ?? [];\n  let result;\n  function memoizedFunction() {\n    var _a, _b, _c, _d;\n    let depTime;\n    if (opts.key && ((_a = opts.debug) == null ? void 0 : _a.call(opts))) depTime = Date.now();\n    const newDeps = getDeps();\n    const depsChanged = newDeps.length !== deps.length || newDeps.some((dep, index) => deps[index] !== dep);\n    if (!depsChanged) {\n      return result;\n    }\n    deps = newDeps;\n    let resultTime;\n    if (opts.key && ((_b = opts.debug) == null ? void 0 : _b.call(opts))) resultTime = Date.now();\n    result = fn(...newDeps);\n    if (opts.key && ((_c = opts.debug) == null ? void 0 : _c.call(opts))) {\n      const depEndTime = Math.round((Date.now() - depTime) * 100) / 100;\n      const resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;\n      const resultFpsPercentage = resultEndTime / 16;\n      const pad = (str, num) => {\n        str = String(str);\n        while (str.length < num) {\n          str = \" \" + str;\n        }\n        return str;\n      };\n      console.info(\n        `%c ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`,\n        `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(\n          0,\n          Math.min(120 - 120 * resultFpsPercentage, 120)\n        )}deg 100% 31%);`,\n        opts == null ? void 0 : opts.key\n      );\n    }\n    (_d = opts == null ? void 0 : opts.onChange) == null ? void 0 : _d.call(opts, result);\n    return result;\n  }\n  memoizedFunction.updateDeps = (newDeps) => {\n    deps = newDeps;\n  };\n  return memoizedFunction;\n}\nfunction notUndefined(value, msg) {\n  if (value === void 0) {\n    throw new Error(`Unexpected undefined${msg ? `: ${msg}` : \"\"}`);\n  } else {\n    return value;\n  }\n}\nconst approxEqual = (a, b) => Math.abs(a - b) < 1.01;\nconst debounce = (targetWindow, fn, ms) => {\n  let timeoutId;\n  return function(...args) {\n    targetWindow.clearTimeout(timeoutId);\n    timeoutId = targetWindow.setTimeout(() => fn.apply(this, args), ms);\n  };\n};\nexport {\n  approxEqual,\n  debounce,\n  memo,\n  notUndefined\n};\n//# sourceMappingURL=utils.js.map\n","import { debounce, memo, notUndefined, approxEqual } from \"./utils.js\";\nconst getRect = (element) => {\n  const { offsetWidth, offsetHeight } = element;\n  return { width: offsetWidth, height: offsetHeight };\n};\nconst defaultKeyExtractor = (index) => index;\nconst defaultRangeExtractor = (range) => {\n  const start = Math.max(range.startIndex - range.overscan, 0);\n  const end = Math.min(range.endIndex + range.overscan, range.count - 1);\n  const arr = [];\n  for (let i = start; i <= end; i++) {\n    arr.push(i);\n  }\n  return arr;\n};\nconst observeElementRect = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const targetWindow = instance.targetWindow;\n  if (!targetWindow) {\n    return;\n  }\n  const handler = (rect) => {\n    const { width, height } = rect;\n    cb({ width: Math.round(width), height: Math.round(height) });\n  };\n  handler(getRect(element));\n  if (!targetWindow.ResizeObserver) {\n    return () => {\n    };\n  }\n  const observer = new targetWindow.ResizeObserver((entries) => {\n    const run = () => {\n      const entry = entries[0];\n      if (entry == null ? void 0 : entry.borderBoxSize) {\n        const box = entry.borderBoxSize[0];\n        if (box) {\n          handler({ width: box.inlineSize, height: box.blockSize });\n          return;\n        }\n      }\n      handler(getRect(element));\n    };\n    instance.options.useAnimationFrameWithResizeObserver ? requestAnimationFrame(run) : run();\n  });\n  observer.observe(element, { box: \"border-box\" });\n  return () => {\n    observer.unobserve(element);\n  };\n};\nconst addEventListenerOptions = {\n  passive: true\n};\nconst observeWindowRect = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const handler = () => {\n    cb({ width: element.innerWidth, height: element.innerHeight });\n  };\n  handler();\n  element.addEventListener(\"resize\", handler, addEventListenerOptions);\n  return () => {\n    element.removeEventListener(\"resize\", handler);\n  };\n};\nconst supportsScrollend = typeof window == \"undefined\" ? true : \"onscrollend\" in window;\nconst observeElementOffset = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const targetWindow = instance.targetWindow;\n  if (!targetWindow) {\n    return;\n  }\n  let offset = 0;\n  const fallback = instance.options.useScrollendEvent && supportsScrollend ? () => void 0 : debounce(\n    targetWindow,\n    () => {\n      cb(offset, false);\n    },\n    instance.options.isScrollingResetDelay\n  );\n  const createHandler = (isScrolling) => () => {\n    const { horizontal, isRtl } = instance.options;\n    offset = horizontal ? element[\"scrollLeft\"] * (isRtl && -1 || 1) : element[\"scrollTop\"];\n    fallback();\n    cb(offset, isScrolling);\n  };\n  const handler = createHandler(true);\n  const endHandler = createHandler(false);\n  endHandler();\n  element.addEventListener(\"scroll\", handler, addEventListenerOptions);\n  const registerScrollendEvent = instance.options.useScrollendEvent && supportsScrollend;\n  if (registerScrollendEvent) {\n    element.addEventListener(\"scrollend\", endHandler, addEventListenerOptions);\n  }\n  return () => {\n    element.removeEventListener(\"scroll\", handler);\n    if (registerScrollendEvent) {\n      element.removeEventListener(\"scrollend\", endHandler);\n    }\n  };\n};\nconst observeWindowOffset = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const targetWindow = instance.targetWindow;\n  if (!targetWindow) {\n    return;\n  }\n  let offset = 0;\n  const fallback = instance.options.useScrollendEvent && supportsScrollend ? () => void 0 : debounce(\n    targetWindow,\n    () => {\n      cb(offset, false);\n    },\n    instance.options.isScrollingResetDelay\n  );\n  const createHandler = (isScrolling) => () => {\n    offset = element[instance.options.horizontal ? \"scrollX\" : \"scrollY\"];\n    fallback();\n    cb(offset, isScrolling);\n  };\n  const handler = createHandler(true);\n  const endHandler = createHandler(false);\n  endHandler();\n  element.addEventListener(\"scroll\", handler, addEventListenerOptions);\n  const registerScrollendEvent = instance.options.useScrollendEvent && supportsScrollend;\n  if (registerScrollendEvent) {\n    element.addEventListener(\"scrollend\", endHandler, addEventListenerOptions);\n  }\n  return () => {\n    element.removeEventListener(\"scroll\", handler);\n    if (registerScrollendEvent) {\n      element.removeEventListener(\"scrollend\", endHandler);\n    }\n  };\n};\nconst measureElement = (element, entry, instance) => {\n  if (entry == null ? void 0 : entry.borderBoxSize) {\n    const box = entry.borderBoxSize[0];\n    if (box) {\n      const size = Math.round(\n        box[instance.options.horizontal ? \"inlineSize\" : \"blockSize\"]\n      );\n      return size;\n    }\n  }\n  return element[instance.options.horizontal ? \"offsetWidth\" : \"offsetHeight\"];\n};\nconst windowScroll = (offset, {\n  adjustments = 0,\n  behavior\n}, instance) => {\n  var _a, _b;\n  const toOffset = offset + adjustments;\n  (_b = (_a = instance.scrollElement) == null ? void 0 : _a.scrollTo) == null ? void 0 : _b.call(_a, {\n    [instance.options.horizontal ? \"left\" : \"top\"]: toOffset,\n    behavior\n  });\n};\nconst elementScroll = (offset, {\n  adjustments = 0,\n  behavior\n}, instance) => {\n  var _a, _b;\n  const toOffset = offset + adjustments;\n  (_b = (_a = instance.scrollElement) == null ? void 0 : _a.scrollTo) == null ? void 0 : _b.call(_a, {\n    [instance.options.horizontal ? \"left\" : \"top\"]: toOffset,\n    behavior\n  });\n};\nclass Virtualizer {\n  constructor(opts) {\n    this.unsubs = [];\n    this.scrollElement = null;\n    this.targetWindow = null;\n    this.isScrolling = false;\n    this.measurementsCache = [];\n    this.itemSizeCache = /* @__PURE__ */ new Map();\n    this.pendingMeasuredCacheIndexes = [];\n    this.scrollRect = null;\n    this.scrollOffset = null;\n    this.scrollDirection = null;\n    this.scrollAdjustments = 0;\n    this.elementsCache = /* @__PURE__ */ new Map();\n    this.observer = /* @__PURE__ */ (() => {\n      let _ro = null;\n      const get = () => {\n        if (_ro) {\n          return _ro;\n        }\n        if (!this.targetWindow || !this.targetWindow.ResizeObserver) {\n          return null;\n        }\n        return _ro = new this.targetWindow.ResizeObserver((entries) => {\n          entries.forEach((entry) => {\n            const run = () => {\n              this._measureElement(entry.target, entry);\n            };\n            this.options.useAnimationFrameWithResizeObserver ? requestAnimationFrame(run) : run();\n          });\n        });\n      };\n      return {\n        disconnect: () => {\n          var _a;\n          (_a = get()) == null ? void 0 : _a.disconnect();\n          _ro = null;\n        },\n        observe: (target) => {\n          var _a;\n          return (_a = get()) == null ? void 0 : _a.observe(target, { box: \"border-box\" });\n        },\n        unobserve: (target) => {\n          var _a;\n          return (_a = get()) == null ? void 0 : _a.unobserve(target);\n        }\n      };\n    })();\n    this.range = null;\n    this.setOptions = (opts2) => {\n      Object.entries(opts2).forEach(([key, value]) => {\n        if (typeof value === \"undefined\") delete opts2[key];\n      });\n      this.options = {\n        debug: false,\n        initialOffset: 0,\n        overscan: 1,\n        paddingStart: 0,\n        paddingEnd: 0,\n        scrollPaddingStart: 0,\n        scrollPaddingEnd: 0,\n        horizontal: false,\n        getItemKey: defaultKeyExtractor,\n        rangeExtractor: defaultRangeExtractor,\n        onChange: () => {\n        },\n        measureElement,\n        initialRect: { width: 0, height: 0 },\n        scrollMargin: 0,\n        gap: 0,\n        indexAttribute: \"data-index\",\n        initialMeasurementsCache: [],\n        lanes: 1,\n        isScrollingResetDelay: 150,\n        enabled: true,\n        isRtl: false,\n        useScrollendEvent: false,\n        useAnimationFrameWithResizeObserver: false,\n        ...opts2\n      };\n    };\n    this.notify = (sync) => {\n      var _a, _b;\n      (_b = (_a = this.options).onChange) == null ? void 0 : _b.call(_a, this, sync);\n    };\n    this.maybeNotify = memo(\n      () => {\n        this.calculateRange();\n        return [\n          this.isScrolling,\n          this.range ? this.range.startIndex : null,\n          this.range ? this.range.endIndex : null\n        ];\n      },\n      (isScrolling) => {\n        this.notify(isScrolling);\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"maybeNotify\",\n        debug: () => this.options.debug,\n        initialDeps: [\n          this.isScrolling,\n          this.range ? this.range.startIndex : null,\n          this.range ? this.range.endIndex : null\n        ]\n      }\n    );\n    this.cleanup = () => {\n      this.unsubs.filter(Boolean).forEach((d) => d());\n      this.unsubs = [];\n      this.observer.disconnect();\n      this.scrollElement = null;\n      this.targetWindow = null;\n    };\n    this._didMount = () => {\n      return () => {\n        this.cleanup();\n      };\n    };\n    this._willUpdate = () => {\n      var _a;\n      const scrollElement = this.options.enabled ? this.options.getScrollElement() : null;\n      if (this.scrollElement !== scrollElement) {\n        this.cleanup();\n        if (!scrollElement) {\n          this.maybeNotify();\n          return;\n        }\n        this.scrollElement = scrollElement;\n        if (this.scrollElement && \"ownerDocument\" in this.scrollElement) {\n          this.targetWindow = this.scrollElement.ownerDocument.defaultView;\n        } else {\n          this.targetWindow = ((_a = this.scrollElement) == null ? void 0 : _a.window) ?? null;\n        }\n        this.elementsCache.forEach((cached) => {\n          this.observer.observe(cached);\n        });\n        this._scrollToOffset(this.getScrollOffset(), {\n          adjustments: void 0,\n          behavior: void 0\n        });\n        this.unsubs.push(\n          this.options.observeElementRect(this, (rect) => {\n            this.scrollRect = rect;\n            this.maybeNotify();\n          })\n        );\n        this.unsubs.push(\n          this.options.observeElementOffset(this, (offset, isScrolling) => {\n            this.scrollAdjustments = 0;\n            this.scrollDirection = isScrolling ? this.getScrollOffset() < offset ? \"forward\" : \"backward\" : null;\n            this.scrollOffset = offset;\n            this.isScrolling = isScrolling;\n            this.maybeNotify();\n          })\n        );\n      }\n    };\n    this.getSize = () => {\n      if (!this.options.enabled) {\n        this.scrollRect = null;\n        return 0;\n      }\n      this.scrollRect = this.scrollRect ?? this.options.initialRect;\n      return this.scrollRect[this.options.horizontal ? \"width\" : \"height\"];\n    };\n    this.getScrollOffset = () => {\n      if (!this.options.enabled) {\n        this.scrollOffset = null;\n        return 0;\n      }\n      this.scrollOffset = this.scrollOffset ?? (typeof this.options.initialOffset === \"function\" ? this.options.initialOffset() : this.options.initialOffset);\n      return this.scrollOffset;\n    };\n    this.getFurthestMeasurement = (measurements, index) => {\n      const furthestMeasurementsFound = /* @__PURE__ */ new Map();\n      const furthestMeasurements = /* @__PURE__ */ new Map();\n      for (let m = index - 1; m >= 0; m--) {\n        const measurement = measurements[m];\n        if (furthestMeasurementsFound.has(measurement.lane)) {\n          continue;\n        }\n        const previousFurthestMeasurement = furthestMeasurements.get(\n          measurement.lane\n        );\n        if (previousFurthestMeasurement == null || measurement.end > previousFurthestMeasurement.end) {\n          furthestMeasurements.set(measurement.lane, measurement);\n        } else if (measurement.end < previousFurthestMeasurement.end) {\n          furthestMeasurementsFound.set(measurement.lane, true);\n        }\n        if (furthestMeasurementsFound.size === this.options.lanes) {\n          break;\n        }\n      }\n      return furthestMeasurements.size === this.options.lanes ? Array.from(furthestMeasurements.values()).sort((a, b) => {\n        if (a.end === b.end) {\n          return a.index - b.index;\n        }\n        return a.end - b.end;\n      })[0] : void 0;\n    };\n    this.getMeasurementOptions = memo(\n      () => [\n        this.options.count,\n        this.options.paddingStart,\n        this.options.scrollMargin,\n        this.options.getItemKey,\n        this.options.enabled\n      ],\n      (count, paddingStart, scrollMargin, getItemKey, enabled) => {\n        this.pendingMeasuredCacheIndexes = [];\n        return {\n          count,\n          paddingStart,\n          scrollMargin,\n          getItemKey,\n          enabled\n        };\n      },\n      {\n        key: false\n      }\n    );\n    this.getMeasurements = memo(\n      () => [this.getMeasurementOptions(), this.itemSizeCache],\n      ({ count, paddingStart, scrollMargin, getItemKey, enabled }, itemSizeCache) => {\n        if (!enabled) {\n          this.measurementsCache = [];\n          this.itemSizeCache.clear();\n          return [];\n        }\n        if (this.measurementsCache.length === 0) {\n          this.measurementsCache = this.options.initialMeasurementsCache;\n          this.measurementsCache.forEach((item) => {\n            this.itemSizeCache.set(item.key, item.size);\n          });\n        }\n        const min = this.pendingMeasuredCacheIndexes.length > 0 ? Math.min(...this.pendingMeasuredCacheIndexes) : 0;\n        this.pendingMeasuredCacheIndexes = [];\n        const measurements = this.measurementsCache.slice(0, min);\n        for (let i = min; i < count; i++) {\n          const key = getItemKey(i);\n          const furthestMeasurement = this.options.lanes === 1 ? measurements[i - 1] : this.getFurthestMeasurement(measurements, i);\n          const start = furthestMeasurement ? furthestMeasurement.end + this.options.gap : paddingStart + scrollMargin;\n          const measuredSize = itemSizeCache.get(key);\n          const size = typeof measuredSize === \"number\" ? measuredSize : this.options.estimateSize(i);\n          const end = start + size;\n          const lane = furthestMeasurement ? furthestMeasurement.lane : i % this.options.lanes;\n          measurements[i] = {\n            index: i,\n            start,\n            size,\n            end,\n            key,\n            lane\n          };\n        }\n        this.measurementsCache = measurements;\n        return measurements;\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"getMeasurements\",\n        debug: () => this.options.debug\n      }\n    );\n    this.calculateRange = memo(\n      () => [\n        this.getMeasurements(),\n        this.getSize(),\n        this.getScrollOffset(),\n        this.options.lanes\n      ],\n      (measurements, outerSize, scrollOffset, lanes) => {\n        return this.range = measurements.length > 0 && outerSize > 0 ? calculateRange({\n          measurements,\n          outerSize,\n          scrollOffset,\n          lanes\n        }) : null;\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"calculateRange\",\n        debug: () => this.options.debug\n      }\n    );\n    this.getVirtualIndexes = memo(\n      () => {\n        let startIndex = null;\n        let endIndex = null;\n        const range = this.calculateRange();\n        if (range) {\n          startIndex = range.startIndex;\n          endIndex = range.endIndex;\n        }\n        this.maybeNotify.updateDeps([this.isScrolling, startIndex, endIndex]);\n        return [\n          this.options.rangeExtractor,\n          this.options.overscan,\n          this.options.count,\n          startIndex,\n          endIndex\n        ];\n      },\n      (rangeExtractor, overscan, count, startIndex, endIndex) => {\n        return startIndex === null || endIndex === null ? [] : rangeExtractor({\n          startIndex,\n          endIndex,\n          overscan,\n          count\n        });\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"getVirtualIndexes\",\n        debug: () => this.options.debug\n      }\n    );\n    this.indexFromElement = (node) => {\n      const attributeName = this.options.indexAttribute;\n      const indexStr = node.getAttribute(attributeName);\n      if (!indexStr) {\n        console.warn(\n          `Missing attribute name '${attributeName}={index}' on measured element.`\n        );\n        return -1;\n      }\n      return parseInt(indexStr, 10);\n    };\n    this._measureElement = (node, entry) => {\n      const index = this.indexFromElement(node);\n      const item = this.measurementsCache[index];\n      if (!item) {\n        return;\n      }\n      const key = item.key;\n      const prevNode = this.elementsCache.get(key);\n      if (prevNode !== node) {\n        if (prevNode) {\n          this.observer.unobserve(prevNode);\n        }\n        this.observer.observe(node);\n        this.elementsCache.set(key, node);\n      }\n      if (node.isConnected) {\n        this.resizeItem(index, this.options.measureElement(node, entry, this));\n      }\n    };\n    this.resizeItem = (index, size) => {\n      const item = this.measurementsCache[index];\n      if (!item) {\n        return;\n      }\n      const itemSize = this.itemSizeCache.get(item.key) ?? item.size;\n      const delta = size - itemSize;\n      if (delta !== 0) {\n        if (this.shouldAdjustScrollPositionOnItemSizeChange !== void 0 ? this.shouldAdjustScrollPositionOnItemSizeChange(item, delta, this) : item.start < this.getScrollOffset() + this.scrollAdjustments) {\n          if (process.env.NODE_ENV !== \"production\" && this.options.debug) {\n            console.info(\"correction\", delta);\n          }\n          this._scrollToOffset(this.getScrollOffset(), {\n            adjustments: this.scrollAdjustments += delta,\n            behavior: void 0\n          });\n        }\n        this.pendingMeasuredCacheIndexes.push(item.index);\n        this.itemSizeCache = new Map(this.itemSizeCache.set(item.key, size));\n        this.notify(false);\n      }\n    };\n    this.measureElement = (node) => {\n      if (!node) {\n        this.elementsCache.forEach((cached, key) => {\n          if (!cached.isConnected) {\n            this.observer.unobserve(cached);\n            this.elementsCache.delete(key);\n          }\n        });\n        return;\n      }\n      this._measureElement(node, void 0);\n    };\n    this.getVirtualItems = memo(\n      () => [this.getVirtualIndexes(), this.getMeasurements()],\n      (indexes, measurements) => {\n        const virtualItems = [];\n        for (let k = 0, len = indexes.length; k < len; k++) {\n          const i = indexes[k];\n          const measurement = measurements[i];\n          virtualItems.push(measurement);\n        }\n        return virtualItems;\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"getVirtualItems\",\n        debug: () => this.options.debug\n      }\n    );\n    this.getVirtualItemForOffset = (offset) => {\n      const measurements = this.getMeasurements();\n      if (measurements.length === 0) {\n        return void 0;\n      }\n      return notUndefined(\n        measurements[findNearestBinarySearch(\n          0,\n          measurements.length - 1,\n          (index) => notUndefined(measurements[index]).start,\n          offset\n        )]\n      );\n    };\n    this.getOffsetForAlignment = (toOffset, align, itemSize = 0) => {\n      const size = this.getSize();\n      const scrollOffset = this.getScrollOffset();\n      if (align === \"auto\") {\n        align = toOffset >= scrollOffset + size ? \"end\" : \"start\";\n      }\n      if (align === \"center\") {\n        toOffset += (itemSize - size) / 2;\n      } else if (align === \"end\") {\n        toOffset -= size;\n      }\n      const maxOffset = this.getTotalSize() + this.options.scrollMargin - size;\n      return Math.max(Math.min(maxOffset, toOffset), 0);\n    };\n    this.getOffsetForIndex = (index, align = \"auto\") => {\n      index = Math.max(0, Math.min(index, this.options.count - 1));\n      const item = this.measurementsCache[index];\n      if (!item) {\n        return void 0;\n      }\n      const size = this.getSize();\n      const scrollOffset = this.getScrollOffset();\n      if (align === \"auto\") {\n        if (item.end >= scrollOffset + size - this.options.scrollPaddingEnd) {\n          align = \"end\";\n        } else if (item.start <= scrollOffset + this.options.scrollPaddingStart) {\n          align = \"start\";\n        } else {\n          return [scrollOffset, align];\n        }\n      }\n      const toOffset = align === \"end\" ? item.end + this.options.scrollPaddingEnd : item.start - this.options.scrollPaddingStart;\n      return [\n        this.getOffsetForAlignment(toOffset, align, item.size),\n        align\n      ];\n    };\n    this.isDynamicMode = () => this.elementsCache.size > 0;\n    this.scrollToOffset = (toOffset, { align = \"start\", behavior } = {}) => {\n      if (behavior === \"smooth\" && this.isDynamicMode()) {\n        console.warn(\n          \"The `smooth` scroll behavior is not fully supported with dynamic size.\"\n        );\n      }\n      this._scrollToOffset(this.getOffsetForAlignment(toOffset, align), {\n        adjustments: void 0,\n        behavior\n      });\n    };\n    this.scrollToIndex = (index, { align: initialAlign = \"auto\", behavior } = {}) => {\n      if (behavior === \"smooth\" && this.isDynamicMode()) {\n        console.warn(\n          \"The `smooth` scroll behavior is not fully supported with dynamic size.\"\n        );\n      }\n      index = Math.max(0, Math.min(index, this.options.count - 1));\n      let attempts = 0;\n      const maxAttempts = 10;\n      const tryScroll = (currentAlign) => {\n        if (!this.targetWindow) return;\n        const offsetInfo = this.getOffsetForIndex(index, currentAlign);\n        if (!offsetInfo) {\n          console.warn(\"Failed to get offset for index:\", index);\n          return;\n        }\n        const [offset, align] = offsetInfo;\n        this._scrollToOffset(offset, { adjustments: void 0, behavior });\n        this.targetWindow.requestAnimationFrame(() => {\n          const currentOffset = this.getScrollOffset();\n          const afterInfo = this.getOffsetForIndex(index, align);\n          if (!afterInfo) {\n            console.warn(\"Failed to get offset for index:\", index);\n            return;\n          }\n          if (!approxEqual(afterInfo[0], currentOffset)) {\n            scheduleRetry(align);\n          }\n        });\n      };\n      const scheduleRetry = (align) => {\n        if (!this.targetWindow) return;\n        attempts++;\n        if (attempts < maxAttempts) {\n          if (process.env.NODE_ENV !== \"production\" && this.options.debug) {\n            console.info(\"Schedule retry\", attempts, maxAttempts);\n          }\n          this.targetWindow.requestAnimationFrame(() => tryScroll(align));\n        } else {\n          console.warn(\n            `Failed to scroll to index ${index} after ${maxAttempts} attempts.`\n          );\n        }\n      };\n      tryScroll(initialAlign);\n    };\n    this.scrollBy = (delta, { behavior } = {}) => {\n      if (behavior === \"smooth\" && this.isDynamicMode()) {\n        console.warn(\n          \"The `smooth` scroll behavior is not fully supported with dynamic size.\"\n        );\n      }\n      this._scrollToOffset(this.getScrollOffset() + delta, {\n        adjustments: void 0,\n        behavior\n      });\n    };\n    this.getTotalSize = () => {\n      var _a;\n      const measurements = this.getMeasurements();\n      let end;\n      if (measurements.length === 0) {\n        end = this.options.paddingStart;\n      } else if (this.options.lanes === 1) {\n        end = ((_a = measurements[measurements.length - 1]) == null ? void 0 : _a.end) ?? 0;\n      } else {\n        const endByLane = Array(this.options.lanes).fill(null);\n        let endIndex = measurements.length - 1;\n        while (endIndex >= 0 && endByLane.some((val) => val === null)) {\n          const item = measurements[endIndex];\n          if (endByLane[item.lane] === null) {\n            endByLane[item.lane] = item.end;\n          }\n          endIndex--;\n        }\n        end = Math.max(...endByLane.filter((val) => val !== null));\n      }\n      return Math.max(\n        end - this.options.scrollMargin + this.options.paddingEnd,\n        0\n      );\n    };\n    this._scrollToOffset = (offset, {\n      adjustments,\n      behavior\n    }) => {\n      this.options.scrollToFn(offset, { behavior, adjustments }, this);\n    };\n    this.measure = () => {\n      this.itemSizeCache = /* @__PURE__ */ new Map();\n      this.notify(false);\n    };\n    this.setOptions(opts);\n  }\n}\nconst findNearestBinarySearch = (low, high, getCurrentValue, value) => {\n  while (low <= high) {\n    const middle = (low + high) / 2 | 0;\n    const currentValue = getCurrentValue(middle);\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\nfunction calculateRange({\n  measurements,\n  outerSize,\n  scrollOffset,\n  lanes\n}) {\n  const lastIndex = measurements.length - 1;\n  const getOffset = (index) => measurements[index].start;\n  if (measurements.length <= lanes) {\n    return {\n      startIndex: 0,\n      endIndex: lastIndex\n    };\n  }\n  let startIndex = findNearestBinarySearch(\n    0,\n    lastIndex,\n    getOffset,\n    scrollOffset\n  );\n  let endIndex = startIndex;\n  if (lanes === 1) {\n    while (endIndex < lastIndex && measurements[endIndex].end < scrollOffset + outerSize) {\n      endIndex++;\n    }\n  } else if (lanes > 1) {\n    const endPerLane = Array(lanes).fill(0);\n    while (endIndex < lastIndex && endPerLane.some((pos) => pos < scrollOffset + outerSize)) {\n      const item = measurements[endIndex];\n      endPerLane[item.lane] = item.end;\n      endIndex++;\n    }\n    const startPerLane = Array(lanes).fill(scrollOffset + outerSize);\n    while (startIndex >= 0 && startPerLane.some((pos) => pos >= scrollOffset)) {\n      const item = measurements[startIndex];\n      startPerLane[item.lane] = item.start;\n      startIndex--;\n    }\n    startIndex = Math.max(0, startIndex - startIndex % lanes);\n    endIndex = Math.min(lastIndex, endIndex + (lanes - 1 - endIndex % lanes));\n  }\n  return { startIndex, endIndex };\n}\nexport {\n  Virtualizer,\n  approxEqual,\n  debounce,\n  defaultKeyExtractor,\n  defaultRangeExtractor,\n  elementScroll,\n  measureElement,\n  memo,\n  notUndefined,\n  observeElementOffset,\n  observeElementRect,\n  observeWindowOffset,\n  observeWindowRect,\n  windowScroll\n};\n//# sourceMappingURL=index.js.map\n","import * as React from \"react\";\nimport { flushSync } from \"react-dom\";\nimport { Virtualizer, elementScroll, observeElementOffset, observeElementRect, windowScroll, observeWindowOffset, observeWindowRect } from \"@tanstack/virtual-core\";\nexport * from \"@tanstack/virtual-core\";\nconst useIsomorphicLayoutEffect = typeof document !== \"undefined\" ? React.useLayoutEffect : React.useEffect;\nfunction useVirtualizerBase(options) {\n  const rerender = React.useReducer(() => ({}), {})[1];\n  const resolvedOptions = {\n    ...options,\n    onChange: (instance2, sync) => {\n      var _a;\n      if (sync) {\n        flushSync(rerender);\n      } else {\n        rerender();\n      }\n      (_a = options.onChange) == null ? void 0 : _a.call(options, instance2, sync);\n    }\n  };\n  const [instance] = React.useState(\n    () => new Virtualizer(resolvedOptions)\n  );\n  instance.setOptions(resolvedOptions);\n  useIsomorphicLayoutEffect(() => {\n    return instance._didMount();\n  }, []);\n  useIsomorphicLayoutEffect(() => {\n    return instance._willUpdate();\n  });\n  return instance;\n}\nfunction useVirtualizer(options) {\n  return useVirtualizerBase({\n    observeElementRect,\n    observeElementOffset,\n    scrollToFn: elementScroll,\n    ...options\n  });\n}\nfunction useWindowVirtualizer(options) {\n  return useVirtualizerBase({\n    getScrollElement: () => typeof document !== \"undefined\" ? window : null,\n    observeElementRect: observeWindowRect,\n    observeElementOffset: observeWindowOffset,\n    scrollToFn: windowScroll,\n    initialOffset: () => typeof document !== \"undefined\" ? window.scrollY : 0,\n    ...options\n  });\n}\nexport {\n  useVirtualizer,\n  useWindowVirtualizer\n};\n//# sourceMappingURL=index.js.map\n","var i=Object.defineProperty;var d=(t,e,n)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var r=(t,e,n)=>(d(t,typeof e!=\"symbol\"?e+\"\":e,n),n);class o{constructor(){r(this,\"current\",this.detect());r(this,\"handoffState\",\"pending\");r(this,\"currentId\",0)}set(e){this.current!==e&&(this.handoffState=\"pending\",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current===\"server\"}get isClient(){return this.current===\"client\"}detect(){return typeof window==\"undefined\"||typeof document==\"undefined\"?\"server\":\"client\"}handoff(){this.handoffState===\"pending\"&&(this.handoffState=\"complete\")}get isHandoffComplete(){return this.handoffState===\"complete\"}}let s=new o;export{s as env};\n","import{env as t}from'./env.js';function o(n){var e,r;return t.isServer?null:n?\"ownerDocument\"in n?n.ownerDocument:\"current\"in n?(r=(e=n.current)==null?void 0:e.ownerDocument)!=null?r:document:null:document}export{o as getOwnerDocument};\n","function t(e){typeof queueMicrotask==\"function\"?queueMicrotask(e):Promise.resolve().then(e).catch(o=>setTimeout(()=>{throw o}))}export{t as microTask};\n","import{microTask as a}from'./micro-task.js';function o(){let s=[],r={addEventListener(e,t,n,i){return e.addEventListener(t,n,i),r.add(()=>e.removeEventListener(t,n,i))},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return r.add(()=>cancelAnimationFrame(t))},nextFrame(...e){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...e))},setTimeout(...e){let t=setTimeout(...e);return r.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return a(()=>{t.current&&e[0]()}),r.add(()=>{t.current=!1})},style(e,t,n){let i=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add(()=>{Object.assign(e.style,{[t]:i})})},group(e){let t=o();return e(t),this.add(()=>t.dispose())},add(e){return s.includes(e)||s.push(e),()=>{let t=s.indexOf(e);if(t>=0)for(let n of s.splice(t,1))n()}},dispose(){for(let e of s.splice(0))e()}};return r}export{o as disposables};\n","import{useEffect as s,useState as o}from\"react\";import{disposables as t}from'../utils/disposables.js';function p(){let[e]=o(t);return s(()=>()=>e.dispose(),[e]),e}export{p as useDisposables};\n","import{useEffect as f,useLayoutEffect as c}from\"react\";import{env as i}from'../utils/env.js';let n=(e,t)=>{i.isServer?f(e,t):c(e,t)};export{n as useIsoMorphicEffect};\n","import{useRef as t}from\"react\";import{useIsoMorphicEffect as o}from'./use-iso-morphic-effect.js';function s(e){let r=t(e);return o(()=>{r.current=e},[e]),r}export{s as useLatestValue};\n","import a from\"react\";import{useLatestValue as n}from'./use-latest-value.js';let o=function(t){let e=n(t);return a.useCallback((...r)=>e.current(...r),[e])};export{o as useEvent};\n","import{useCallback as n}from\"react\";function l(e,r){return e!==null&&r!==null&&typeof e==\"object\"&&typeof r==\"object\"&&\"id\"in e&&\"id\"in r?e.id===r.id:e===r}function u(e=l){return n((r,t)=>{if(typeof e==\"string\"){let o=e;return(r==null?void 0:r[o])===(t==null?void 0:t[o])}return e(r,t)},[e])}export{u as useByComparator};\n","import{useMemo as o,useReducer as h}from\"react\";import{useIsoMorphicEffect as s}from'./use-iso-morphic-effect.js';function f(e){if(e===null)return{width:0,height:0};let{width:t,height:r}=e.getBoundingClientRect();return{width:t,height:r}}function d(e,t=!1){let[r,u]=h(()=>({}),{}),i=o(()=>f(e),[e,r]);return s(()=>{if(!e)return;let n=new ResizeObserver(u);return n.observe(e),()=>{n.disconnect()}},[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}export{d as useElementSize};\n","class a extends Map{constructor(t){super();this.factory=t}get(t){let e=super.get(t);return e===void 0&&(e=this.factory(t),this.set(t,e)),e}}export{a as DefaultMap};\n","var h=Object.defineProperty;var v=(t,e,r)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var S=(t,e,r)=>(v(t,typeof e!=\"symbol\"?e+\"\":e,r),r),b=(t,e,r)=>{if(!e.has(t))throw TypeError(\"Cannot \"+r)};var i=(t,e,r)=>(b(t,e,\"read from private field\"),r?r.call(t):e.get(t)),c=(t,e,r)=>{if(e.has(t))throw TypeError(\"Cannot add the same private member more than once\");e instanceof WeakSet?e.add(t):e.set(t,r)},u=(t,e,r,s)=>(b(t,e,\"write to private field\"),s?s.call(t,r):e.set(t,r),r);var n,a,o;import{DefaultMap as m}from'./utils/default-map.js';import{disposables as p}from'./utils/disposables.js';import{env as d}from'./utils/env.js';class x{constructor(e){c(this,n,{});c(this,a,new m(()=>new Set));c(this,o,new Set);S(this,\"disposables\",p());u(this,n,e),d.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return i(this,n)}subscribe(e,r){if(d.isServer)return()=>{};let s={selector:e,callback:r,current:e(i(this,n))};return i(this,o).add(s),this.disposables.add(()=>{i(this,o).delete(s)})}on(e,r){return d.isServer?()=>{}:(i(this,a).get(e).add(r),this.disposables.add(()=>{i(this,a).get(e).delete(r)}))}send(e){let r=this.reduce(i(this,n),e);if(r!==i(this,n)){u(this,n,r);for(let s of i(this,o)){let l=s.selector(i(this,n));j(s.current,l)||(s.current=l,s.callback(l))}for(let s of i(this,a).get(e.type))s(i(this,n),e)}}}n=new WeakMap,a=new WeakMap,o=new WeakMap;function j(t,e){return Object.is(t,e)?!0:typeof t!=\"object\"||t===null||typeof e!=\"object\"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:f(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:f(t.entries(),e.entries()):y(t)&&y(e)?f(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function f(t,e){do{let r=t.next(),s=e.next();if(r.done&&s.done)return!0;if(r.done||s.done||!Object.is(r.value,s.value))return!1}while(!0)}function y(t){if(Object.prototype.toString.call(t)!==\"[object Object]\")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function R(t){let[e,r]=t(),s=p();return(...l)=>{e(...l),s.dispose(),s.microTask(r)}}export{x as Machine,R as batch,j as shallowEqual};\n","function u(r,n,...a){if(r in n){let e=n[r];return typeof e==\"function\"?e(...a):e}let t=new Error(`Tried to handle \"${r}\" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(e=>`\"${e}\"`).join(\", \")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,u),t}export{u as match};\n","var a=Object.defineProperty;var r=(e,c,t)=>c in e?a(e,c,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[c]=t;var p=(e,c,t)=>(r(e,typeof c!=\"symbol\"?c+\"\":c,t),t);import{Machine as d}from'../machine.js';import{DefaultMap as l}from'../utils/default-map.js';import{match as u}from'../utils/match.js';var k=(t=>(t[t.Push=0]=\"Push\",t[t.Pop=1]=\"Pop\",t))(k||{});let y={[0](e,c){let t=c.id,s=e.stack,i=e.stack.indexOf(t);if(i!==-1){let n=e.stack.slice();return n.splice(i,1),n.push(t),s=n,{...e,stack:s}}return{...e,stack:[...e.stack,t]}},[1](e,c){let t=c.id,s=e.stack.indexOf(t);if(s===-1)return e;let i=e.stack.slice();return i.splice(s,1),{...e,stack:i}}};class o extends d{constructor(){super(...arguments);p(this,\"actions\",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})});p(this,\"selectors\",{isTop:(t,s)=>t.stack[t.stack.length-1]===s,inStack:(t,s)=>t.stack.includes(s)})}static new(){return new o({stack:[]})}reduce(t,s){return u(s.type,y,t,s)}}const x=new l(()=>o.new());export{k as ActionTypes,x as stackMachines};\n","import{useSyncExternalStoreWithSelector as a}from\"use-sync-external-store/with-selector\";import{useEvent as t}from'./hooks/use-event.js';import{shallowEqual as o}from'./machine.js';function S(e,n,r=o){return a(t(i=>e.subscribe(s,i)),t(()=>e.state),t(()=>e.state),t(n),r)}function s(e){return e}export{S as useSlice};\n","import{useCallback as n,useId as u}from\"react\";import{stackMachines as p}from'../machines/stack-machine.js';import{useSlice as f}from'../react-glue.js';import{useIsoMorphicEffect as a}from'./use-iso-morphic-effect.js';function I(o,s){let t=u(),r=p.get(s),[i,c]=f(r,n(e=>[r.selectors.isTop(e,t),r.selectors.inStack(e,t)],[r,t]));return a(()=>{if(o)return r.actions.push(t),()=>r.actions.pop(t)},[r,o,t]),o?c?i:!0:!1}export{I as useIsTopLayer};\n","import{disposables as M}from'../utils/disposables.js';import{getOwnerDocument as b}from'../utils/owner.js';import{useIsTopLayer as L}from'./use-is-top-layer.js';import{useIsoMorphicEffect as T}from'./use-iso-morphic-effect.js';let f=new Map,u=new Map;function h(t){var e;let r=(e=u.get(t))!=null?e:0;return u.set(t,r+1),r!==0?()=>m(t):(f.set(t,{\"aria-hidden\":t.getAttribute(\"aria-hidden\"),inert:t.inert}),t.setAttribute(\"aria-hidden\",\"true\"),t.inert=!0,()=>m(t))}function m(t){var i;let r=(i=u.get(t))!=null?i:1;if(r===1?u.delete(t):u.set(t,r-1),r!==1)return;let e=f.get(t);e&&(e[\"aria-hidden\"]===null?t.removeAttribute(\"aria-hidden\"):t.setAttribute(\"aria-hidden\",e[\"aria-hidden\"]),t.inert=e.inert,f.delete(t))}function y(t,{allowed:r,disallowed:e}={}){let i=L(t,\"inert-others\");T(()=>{var d,c;if(!i)return;let a=M();for(let n of(d=e==null?void 0:e())!=null?d:[])n&&a.add(h(n));let s=(c=r==null?void 0:r())!=null?c:[];for(let n of s){if(!n)continue;let l=b(n);if(!l)continue;let o=n.parentElement;for(;o&&o!==l.body;){for(let p of o.children)s.some(E=>p.contains(E))||a.add(h(p));o=o.parentElement}}return a.dispose},[i,r,e])}export{y as useInertOthers};\n","function o(e){return typeof e!=\"object\"||e===null?!1:\"nodeType\"in e}function t(e){return o(e)&&\"tagName\"in e}function n(e){return t(e)&&\"accessKey\"in e}function i(e){return t(e)&&\"tabIndex\"in e}function r(e){return t(e)&&\"style\"in e}function u(e){return n(e)&&e.nodeName===\"IFRAME\"}function l(e){return n(e)&&e.nodeName===\"INPUT\"}function s(e){return n(e)&&e.nodeName===\"TEXTAREA\"}function m(e){return n(e)&&e.nodeName===\"LABEL\"}function a(e){return n(e)&&e.nodeName===\"FIELDSET\"}function E(e){return n(e)&&e.nodeName===\"LEGEND\"}function L(e){return t(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type=\"hidden\"]),label,select,textarea,video[controls]'):!1}export{r as hasInlineStyle,t as isElement,n as isHTMLElement,a as isHTMLFieldSetElement,u as isHTMLIframeElement,l as isHTMLInputElement,m as isHTMLLabelElement,E as isHTMLLegendElement,s as isHTMLTextAreaElement,i as isHTMLorSVGElement,L as isInteractiveElement,o as isNode};\n","import{disposables as N}from'./disposables.js';import*as p from'./dom.js';import{match as L}from'./match.js';import{getOwnerDocument as E}from'./owner.js';let f=[\"[contentEditable=true]\",\"[tabindex]\",\"a[href]\",\"area[href]\",\"button:not([disabled])\",\"iframe\",\"input:not([disabled])\",\"select:not([disabled])\",\"textarea:not([disabled])\"].map(e=>`${e}:not([tabindex='-1'])`).join(\",\"),F=[\"[data-autofocus]\"].map(e=>`${e}:not([tabindex='-1'])`).join(\",\");var T=(n=>(n[n.First=1]=\"First\",n[n.Previous=2]=\"Previous\",n[n.Next=4]=\"Next\",n[n.Last=8]=\"Last\",n[n.WrapAround=16]=\"WrapAround\",n[n.NoScroll=32]=\"NoScroll\",n[n.AutoFocus=64]=\"AutoFocus\",n))(T||{}),y=(o=>(o[o.Error=0]=\"Error\",o[o.Overflow=1]=\"Overflow\",o[o.Success=2]=\"Success\",o[o.Underflow=3]=\"Underflow\",o))(y||{}),S=(t=>(t[t.Previous=-1]=\"Previous\",t[t.Next=1]=\"Next\",t))(S||{});function b(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(f)).sort((r,t)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function O(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(F)).sort((r,t)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(t=>(t[t.Strict=0]=\"Strict\",t[t.Loose=1]=\"Loose\",t))(h||{});function A(e,r=0){var t;return e===((t=E(e))==null?void 0:t.body)?!1:L(r,{[0](){return e.matches(f)},[1](){let l=e;for(;l!==null;){if(l.matches(f))return!0;l=l.parentElement}return!1}})}function V(e){let r=E(e);N().nextFrame(()=>{r&&p.isHTMLorSVGElement(r.activeElement)&&!A(r.activeElement,0)&&I(e)})}var H=(t=>(t[t.Keyboard=0]=\"Keyboard\",t[t.Mouse=1]=\"Mouse\",t))(H||{});typeof window!=\"undefined\"&&typeof document!=\"undefined\"&&(document.addEventListener(\"keydown\",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible=\"\")},!0),document.addEventListener(\"click\",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible=\"\")},!0));function I(e){e==null||e.focus({preventScroll:!0})}let w=[\"textarea\",\"input\"].join(\",\");function _(e){var r,t;return(t=(r=e==null?void 0:e.matches)==null?void 0:r.call(e,w))!=null?t:!1}function P(e,r=t=>t){return e.slice().sort((t,l)=>{let o=r(t),c=r(l);if(o===null||c===null)return 0;let u=o.compareDocumentPosition(c);return u&Node.DOCUMENT_POSITION_FOLLOWING?-1:u&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j(e,r){return g(b(),r,{relativeTo:e})}function g(e,r,{sorted:t=!0,relativeTo:l=null,skipElements:o=[]}={}){let c=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,u=Array.isArray(e)?t?P(e):e:r&64?O(e):b(e);o.length>0&&u.length>1&&(u=u.filter(s=>!o.some(a=>a!=null&&\"current\"in a?(a==null?void 0:a.current)===s:a===s))),l=l!=null?l:c.activeElement;let n=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\")})(),x=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,u.indexOf(l))-1;if(r&4)return Math.max(0,u.indexOf(l))+1;if(r&8)return u.length-1;throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\")})(),M=r&32?{preventScroll:!0}:{},m=0,d=u.length,i;do{if(m>=d||m+d<=0)return 0;let s=x+m;if(r&16)s=(s+d)%d;else{if(s<0)return 3;if(s>=d)return 1}i=u[s],i==null||i.focus(M),m+=n}while(i!==c.activeElement);return r&6&&_(i)&&i.select(),2}export{T as Focus,y as FocusResult,h as FocusableMode,I as focusElement,j as focusFrom,g as focusIn,f as focusableSelector,O as getAutoFocusableElements,b as getFocusableElements,A as isFocusableElement,V as restoreFocusIfNecessary,P as sortByDomNode};\n","function t(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i(){return/Android/gi.test(window.navigator.userAgent)}function n(){return t()||i()}export{i as isAndroid,t as isIOS,n as isMobile};\n","import{useEffect as c}from\"react\";import{useLatestValue as a}from'./use-latest-value.js';function i(t,e,o,n){let u=a(o);c(()=>{if(!t)return;function r(m){u.current(m)}return document.addEventListener(e,r,n),()=>document.removeEventListener(e,r,n)},[t,e,n])}export{i as useDocumentEvent};\n","import{useCallback as T,useRef as E}from\"react\";import*as d from'../utils/dom.js';import{FocusableMode as g,isFocusableElement as y}from'../utils/focus-management.js';import{isMobile as p}from'../utils/platform.js';import{useDocumentEvent as a}from'./use-document-event.js';import{useLatestValue as L}from'./use-latest-value.js';import{useWindowEvent as x}from'./use-window-event.js';const C=30;function k(o,f,h){let m=L(h),s=T(function(e,c){if(e.defaultPrevented)return;let r=c(e);if(r===null||!r.getRootNode().contains(r)||!r.isConnected)return;let M=function u(n){return typeof n==\"function\"?u(n()):Array.isArray(n)||n instanceof Set?n:[n]}(f);for(let u of M)if(u!==null&&(u.contains(r)||e.composed&&e.composedPath().includes(u)))return;return!y(r,g.Loose)&&r.tabIndex!==-1&&e.preventDefault(),m.current(e,r)},[m,f]),i=E(null);a(o,\"pointerdown\",t=>{var e,c;p()||(i.current=((c=(e=t.composedPath)==null?void 0:e.call(t))==null?void 0:c[0])||t.target)},!0),a(o,\"pointerup\",t=>{if(p()||!i.current)return;let e=i.current;return i.current=null,s(t,()=>e)},!0);let l=E({x:0,y:0});a(o,\"touchstart\",t=>{l.current.x=t.touches[0].clientX,l.current.y=t.touches[0].clientY},!0),a(o,\"touchend\",t=>{let e={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY};if(!(Math.abs(e.x-l.current.x)>=C||Math.abs(e.y-l.current.y)>=C))return s(t,()=>d.isHTMLorSVGElement(t.target)?t.target:null)},!0),x(o,\"blur\",t=>s(t,()=>d.isHTMLIframeElement(window.document.activeElement)?window.document.activeElement:null),!0)}export{k as useOutsideClick};\n","import{useEffect as a}from\"react\";import{useLatestValue as f}from'./use-latest-value.js';function s(t,e,o,n){let i=f(o);a(()=>{if(!t)return;function r(d){i.current(d)}return window.addEventListener(e,r,n),()=>window.removeEventListener(e,r,n)},[t,e,n])}export{s as useWindowEvent};\n","import{useMemo as t}from\"react\";import{getOwnerDocument as o}from'../utils/owner.js';function n(...e){return t(()=>o(...e),[...e])}export{n as useOwnerDocument};\n","import{useRef as o}from\"react\";import*as E from'../utils/dom.js';import{useDocumentEvent as d}from'./use-document-event.js';var H=(e=>(e[e.Ignore=0]=\"Ignore\",e[e.Select=1]=\"Select\",e[e.Close=2]=\"Close\",e))(H||{});const S={Ignore:{kind:0},Select:r=>({kind:1,target:r}),Close:{kind:2}},M=200,f=5;function L(r,{trigger:n,action:T,close:e,select:p}){let l=o(null),i=o(null),u=o(null);d(r&&n!==null,\"pointerdown\",t=>{E.isNode(t==null?void 0:t.target)&&n!=null&&n.contains(t.target)&&(i.current=t.x,u.current=t.y,l.current=t.timeStamp)}),d(r&&n!==null,\"pointerup\",t=>{var s,m;let c=l.current;if(c===null||(l.current=null,!E.isHTMLorSVGElement(t.target))||Math.abs(t.x-((s=i.current)!=null?s:t.x))<f&&Math.abs(t.y-((m=u.current)!=null?m:t.y))<f)return;let a=T(t);switch(a.kind){case 0:return;case 1:{t.timeStamp-c>M&&(p(a.target),e());break}case 2:{e();break}}},{capture:!0})}export{S as Action,L as useQuickRelease};\n","import{useRef as u}from\"react\";import*as r from'../utils/dom.js';import{useEvent as o}from'./use-event.js';import{useEventListener as s}from'./use-event-listener.js';function f(e){let l=u({value:\"\",selectionStart:null,selectionEnd:null});return s(e,\"blur\",n=>{let t=n.target;r.isHTMLInputElement(t)&&(l.current={value:t.value,selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})}),o(()=>{if(document.activeElement!==e&&r.isHTMLInputElement(e)&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==l.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:n,selectionEnd:t}=l.current;n!==null&&t!==null&&e.setSelectionRange(n,t)}l.current={value:\"\",selectionStart:null,selectionEnd:null}}})}export{f as useRefocusableInput};\n","import{useEffect as d}from\"react\";import{useLatestValue as s}from'./use-latest-value.js';function E(n,e,a,t){let i=s(a);d(()=>{n=n!=null?n:window;function r(o){i.current(o)}return n.addEventListener(e,r,t),()=>n.removeEventListener(e,r,t)},[n,e,t])}export{E as useEventListener};\n","import{useMemo as a}from\"react\";function e(t,u){return a(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:\"button\";if(typeof r==\"string\"&&r.toLowerCase()===\"button\"||(u==null?void 0:u.tagName)===\"BUTTON\"&&!u.hasAttribute(\"type\"))return\"button\"},[t.type,t.as,u])}export{e as useResolveButtonType};\n","function d(){let r;return{before({doc:e}){var l;let o=e.documentElement,t=(l=e.defaultView)!=null?l:window;r=Math.max(0,t.innerWidth-o.clientWidth)},after({doc:e,d:o}){let t=e.documentElement,l=Math.max(0,t.clientWidth-t.offsetWidth),n=Math.max(0,r-l);o.style(t,\"paddingRight\",`${n}px`)}}}export{d as adjustScrollbarPadding};\n","import{disposables as u}from'../../utils/disposables.js';import*as o from'../../utils/dom.js';import{isIOS as p}from'../../utils/platform.js';function w(){return p()?{before({doc:n,d:l,meta:f}){function i(a){return f.containers.flatMap(r=>r()).some(r=>r.contains(a))}l.microTask(()=>{var c;if(window.getComputedStyle(n.documentElement).scrollBehavior!==\"auto\"){let t=u();t.style(n.documentElement,\"scrollBehavior\",\"auto\"),l.add(()=>l.microTask(()=>t.dispose()))}let a=(c=window.scrollY)!=null?c:window.pageYOffset,r=null;l.addEventListener(n,\"click\",t=>{if(o.isHTMLorSVGElement(t.target))try{let e=t.target.closest(\"a\");if(!e)return;let{hash:m}=new URL(e.href),s=n.querySelector(m);o.isHTMLorSVGElement(s)&&!i(s)&&(r=s)}catch{}},!0),l.addEventListener(n,\"touchstart\",t=>{if(o.isHTMLorSVGElement(t.target)&&o.hasInlineStyle(t.target))if(i(t.target)){let e=t.target;for(;e.parentElement&&i(e.parentElement);)e=e.parentElement;l.style(e,\"overscrollBehavior\",\"contain\")}else l.style(t.target,\"touchAction\",\"none\")}),l.addEventListener(n,\"touchmove\",t=>{if(o.isHTMLorSVGElement(t.target)){if(o.isHTMLInputElement(t.target))return;if(i(t.target)){let e=t.target;for(;e.parentElement&&e.dataset.headlessuiPortal!==\"\"&&!(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth);)e=e.parentElement;e.dataset.headlessuiPortal===\"\"&&t.preventDefault()}else t.preventDefault()}},{passive:!1}),l.add(()=>{var e;let t=(e=window.scrollY)!=null?e:window.pageYOffset;a!==t&&window.scrollTo(0,a),r&&r.isConnected&&(r.scrollIntoView({block:\"nearest\"}),r=null)})})}}:{}}export{w as handleIOSLocking};\n","import{disposables as s}from'../../utils/disposables.js';import{createStore as i}from'../../utils/store.js';import{adjustScrollbarPadding as l}from'./adjust-scrollbar-padding.js';import{handleIOSLocking as d}from'./handle-ios-locking.js';import{preventScroll as p}from'./prevent-scroll.js';function m(e){let n={};for(let t of e)Object.assign(n,t(n));return n}let a=i(()=>new Map,{PUSH(e,n){var o;let t=(o=this.get(e))!=null?o:{doc:e,count:0,d:s(),meta:new Set};return t.count++,t.meta.add(n),this.set(e,t),this},POP(e,n){let t=this.get(e);return t&&(t.count--,t.meta.delete(n)),this},SCROLL_PREVENT({doc:e,d:n,meta:t}){let o={doc:e,d:n,meta:m(t)},c=[d(),l(),p()];c.forEach(({before:r})=>r==null?void 0:r(o)),c.forEach(({after:r})=>r==null?void 0:r(o))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});a.subscribe(()=>{let e=a.getSnapshot(),n=new Map;for(let[t]of e)n.set(t,t.documentElement.style.overflow);for(let t of e.values()){let o=n.get(t.doc)===\"hidden\",c=t.count!==0;(c&&!o||!c&&o)&&a.dispatch(t.count>0?\"SCROLL_PREVENT\":\"SCROLL_ALLOW\",t),t.count===0&&a.dispatch(\"TEARDOWN\",t)}});export{a as overflows};\n","function a(o,r){let t=o(),n=new Set;return{getSnapshot(){return t},subscribe(e){return n.add(e),()=>n.delete(e)},dispatch(e,...s){let i=r[e].call(t,...s);i&&(t=i,n.forEach(c=>c()))}}}export{a as createStore};\n","function r(){return{before({doc:e,d:o}){o.style(e.documentElement,\"overflow\",\"hidden\")}}}export{r as preventScroll};\n","import{useStore as s}from'../../hooks/use-store.js';import{useIsoMorphicEffect as u}from'../use-iso-morphic-effect.js';import{overflows as t}from'./overflow-store.js';function a(r,e,n=()=>({containers:[]})){let f=s(t),o=e?f.get(e):void 0,i=o?o.count>0:!1;return u(()=>{if(!(!e||!r))return t.dispatch(\"PUSH\",e,n),()=>t.dispatch(\"POP\",e,n)},[r,e]),i}export{a as useDocumentOverflowLockedEffect};\n","import{useSyncExternalStore as e}from\"react\";function o(t){return e(t.subscribe,t.getSnapshot,t.getSnapshot)}export{o as useStore};\n","import{useDocumentOverflowLockedEffect as l}from'./document-overflow/use-document-overflow.js';import{useIsTopLayer as m}from'./use-is-top-layer.js';function f(e,c,n=()=>[document.body]){let r=m(e,\"scroll-lock\");l(r,c,t=>{var o;return{containers:[...(o=t.containers)!=null?o:[],n]}})}export{f as useScrollLock};\n","import{useEffect as l,useRef as i}from\"react\";import{useEvent as r}from'./use-event.js';let u=Symbol();function T(t,n=!0){return Object.assign(t,{[u]:n})}function y(...t){let n=i(t);l(()=>{n.current=t},[t]);let c=r(e=>{for(let o of n.current)o!=null&&(typeof o==\"function\"?o(e):o.current=e)});return t.every(e=>e==null||(e==null?void 0:e[u]))?void 0:c}export{T as optionalRef,y as useSyncRefs};\n","import{useRef as o}from\"react\";function t(e){return[e.screenX,e.screenY]}function u(){let e=o([-1,-1]);return{wasMoved(r){let n=t(r);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(r){e.current=t(r)}}}export{u as useTrackedPointer};\n","var T,b;import{useRef as c,useState as S}from\"react\";import{disposables as m}from'../utils/disposables.js';import{useDisposables as g}from'./use-disposables.js';import{useFlags as y}from'./use-flags.js';import{useIsoMorphicEffect as A}from'./use-iso-morphic-effect.js';typeof process!=\"undefined\"&&typeof globalThis!=\"undefined\"&&typeof Element!=\"undefined\"&&((T=process==null?void 0:process.env)==null?void 0:T[\"NODE_ENV\"])===\"test\"&&typeof((b=Element==null?void 0:Element.prototype)==null?void 0:b.getAnimations)==\"undefined\"&&(Element.prototype.getAnimations=function(){return console.warn([\"Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.\",\"Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.\",\"\",\"Example usage:\",\"```js\",\"import { mockAnimationsApi } from 'jsdom-testing-mocks'\",\"mockAnimationsApi()\",\"```\"].join(`\n`)),[]});var L=(r=>(r[r.None=0]=\"None\",r[r.Closed=1]=\"Closed\",r[r.Enter=2]=\"Enter\",r[r.Leave=4]=\"Leave\",r))(L||{});function R(t){let n={};for(let e in t)t[e]===!0&&(n[`data-${e}`]=\"\");return n}function x(t,n,e,i){let[r,o]=S(e),{hasFlag:s,addFlag:a,removeFlag:l}=y(t&&r?3:0),u=c(!1),f=c(!1),E=g();return A(()=>{var d;if(t){if(e&&o(!0),!n){e&&a(3);return}return(d=i==null?void 0:i.start)==null||d.call(i,e),C(n,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(e?(a(3),l(4)):(a(4),l(2)))},run(){f.current?e?(l(3),a(4)):(l(4),a(3)):e?l(1):a(1)},done(){var p;f.current&&typeof n.getAnimations==\"function\"&&n.getAnimations().length>0||(u.current=!1,l(7),e||o(!1),(p=i==null?void 0:i.end)==null||p.call(i,e))}})}},[t,e,n,E]),t?[r,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[e,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C(t,{prepare:n,run:e,done:i,inFlight:r}){let o=m();return j(t,{prepare:n,inFlight:r}),o.nextFrame(()=>{e(),o.requestAnimationFrame(()=>{o.add(M(t,i))})}),o.dispose}function M(t,n){var o,s;let e=m();if(!t)return e.dispose;let i=!1;e.add(()=>{i=!0});let r=(s=(o=t.getAnimations)==null?void 0:o.call(t).filter(a=>a instanceof CSSTransition))!=null?s:[];return r.length===0?(n(),e.dispose):(Promise.allSettled(r.map(a=>a.finished)).then(()=>{i||n()}),e.dispose)}function j(t,{inFlight:n,prepare:e}){if(n!=null&&n.current){e();return}let i=t.style.transition;t.style.transition=\"none\",e(),t.offsetHeight,t.style.transition=i}export{R as transitionDataAttributes,x as useTransition};\n","import{useCallback as r,useState as b}from\"react\";function c(u=0){let[t,l]=b(u),g=r(e=>l(e),[t]),s=r(e=>l(a=>a|e),[t]),m=r(e=>(t&e)===e,[t]),n=r(e=>l(a=>a&~e),[l]),F=r(e=>l(a=>a^e),[l]);return{flags:t,setFlag:g,addFlag:s,hasFlag:m,removeFlag:n,toggleFlag:F}}export{c as useFlags};\n","import{useEffect as f,useRef as s}from\"react\";import{useEvent as i}from'./use-event.js';function m(u,t){let e=s([]),r=i(u);f(()=>{let o=[...e.current];for(let[a,l]of t.entries())if(e.current[a]!==l){let n=r(t,o);return e.current=t,n}},[r,...t])}export{m as useWatch};\n","import n,{createContext as r,useContext as i}from\"react\";let e=r(void 0);function a(){return i(e)}function l({value:t,children:o}){return n.createElement(e.Provider,{value:t},o)}export{l as DisabledProvider,a as useDisabled};\n","import{autoUpdate as Z,flip as ee,inner as te,offset as ne,shift as re,size as le,useFloating as oe,useInnerOffset as ie,useInteractions as se}from\"@floating-ui/react\";import*as j from\"react\";import{createContext as _,useCallback as ae,useContext as T,useMemo as R,useRef as ue,useState as v}from\"react\";import{useDisposables as fe}from'../hooks/use-disposables.js';import{useEvent as z}from'../hooks/use-event.js';import{useIsoMorphicEffect as C}from'../hooks/use-iso-morphic-effect.js';import*as pe from'../utils/dom.js';let y=_({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y.displayName=\"FloatingContext\";let $=_(null);$.displayName=\"PlacementContext\";function ye(e){return R(()=>e?typeof e==\"string\"?{to:e}:e:null,[e])}function Fe(){return T(y).setReference}function be(){return T(y).getReferenceProps}function Te(){let{getFloatingProps:e,slot:t}=T(y);return ae((...n)=>Object.assign({},e(...n),{\"data-anchor\":t.anchor}),[e,t])}function Re(e=null){e===!1&&(e=null),typeof e==\"string\"&&(e={to:e});let t=T($),n=R(()=>e,[JSON.stringify(e,(l,o)=>{var u;return(u=o==null?void 0:o.outerHTML)!=null?u:o})]);C(()=>{t==null||t(n!=null?n:null)},[t,n]);let r=T(y);return R(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let D=4;function Ae({children:e,enabled:t=!0}){let[n,r]=v(null),[l,o]=v(0),u=ue(null),[f,s]=v(null);ce(f);let i=t&&n!==null&&f!==null,{to:F=\"bottom\",gap:E=0,offset:A=0,padding:c=0,inner:h}=ge(n,f),[a,p=\"center\"]=F.split(\" \");C(()=>{i&&o(0)},[i]);let{refs:b,floatingStyles:S,context:g}=oe({open:i,placement:a===\"selection\"?p===\"center\"?\"bottom\":`bottom-${p}`:p===\"center\"?`${a}`:`${a}-${p}`,strategy:\"absolute\",transform:!1,middleware:[ne({mainAxis:a===\"selection\"?0:E,crossAxis:A}),re({padding:c}),a!==\"selection\"&&ee({padding:c}),a===\"selection\"&&h?te({...h,padding:c,overflowRef:u,offset:l,minItemsVisible:D,referenceOverflowThreshold:c,onFallbackChange(P){var L,N;if(!P)return;let d=g.elements.floating;if(!d)return;let M=parseFloat(getComputedStyle(d).scrollPaddingBottom)||0,I=Math.min(D,d.childElementCount),W=0,B=0;for(let m of(N=(L=g.elements.floating)==null?void 0:L.childNodes)!=null?N:[])if(pe.isHTMLElement(m)){let x=m.offsetTop,k=x+m.clientHeight+M,H=d.scrollTop,U=H+d.clientHeight;if(x>=H&&k<=U)I--;else{B=Math.max(0,Math.min(k,U)-Math.max(x,H)),W=m.clientHeight;break}}I>=1&&o(m=>{let x=W*I-B+M;return m>=x?m:x})}}):null,le({padding:c,apply({availableWidth:P,availableHeight:d,elements:M}){Object.assign(M.floating.style,{overflow:\"auto\",maxWidth:`${P}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${d}px)`})}})].filter(Boolean),whileElementsMounted:Z}),[w=a,V=p]=g.placement.split(\"-\");a===\"selection\"&&(w=\"selection\");let G=R(()=>({anchor:[w,V].filter(Boolean).join(\" \")}),[w,V]),K=ie(g,{overflowRef:u,onChange:o}),{getReferenceProps:Q,getFloatingProps:X}=se([K]),Y=z(P=>{s(P),b.setFloating(P)});return j.createElement($.Provider,{value:r},j.createElement(y.Provider,{value:{setFloating:Y,setReference:b.setReference,styles:S,getReferenceProps:Q,getFloatingProps:X,slot:G}},e))}function ce(e){C(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let l=parseInt(n);isNaN(l)||r!==l&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:[\"style\"]}),()=>{t.disconnect()}},[e])}function ge(e,t){var o,u,f;let n=O((o=e==null?void 0:e.gap)!=null?o:\"var(--anchor-gap, 0)\",t),r=O((u=e==null?void 0:e.offset)!=null?u:\"var(--anchor-offset, 0)\",t),l=O((f=e==null?void 0:e.padding)!=null?f:\"var(--anchor-padding, 0)\",t);return{...e,gap:n,offset:r,padding:l}}function O(e,t,n=void 0){let r=fe(),l=z((s,i)=>{if(s==null)return[n,null];if(typeof s==\"number\")return[s,null];if(typeof s==\"string\"){if(!i)return[n,null];let F=J(s,i);return[F,E=>{let A=q(s);{let c=A.map(h=>window.getComputedStyle(i).getPropertyValue(h));r.requestAnimationFrame(function h(){r.nextFrame(h);let a=!1;for(let[b,S]of A.entries()){let g=window.getComputedStyle(i).getPropertyValue(S);if(c[b]!==g){c[b]=g,a=!0;break}}if(!a)return;let p=J(s,i);F!==p&&(E(p),F=p)})}return r.dispose}]}return[n,null]}),o=R(()=>l(e,t)[0],[e,t]),[u=o,f]=v();return C(()=>{let[s,i]=l(e,t);if(f(s),!!i)return i(f)},[e,t]),u}function q(e){let t=/var\\((.*)\\)/.exec(e);if(t){let n=t[1].indexOf(\",\");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),l=t[1].slice(n+1).trim();return l?[r,...q(l)]:[r]}return[]}function J(e,t){let n=document.createElement(\"div\");t.appendChild(n),n.style.setProperty(\"margin-top\",\"0px\",\"important\"),n.style.setProperty(\"margin-top\",e,\"important\");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}export{Ae as FloatingProvider,Re as useFloatingPanel,Te as useFloatingPanelProps,Fe as useFloatingReference,be as useFloatingReferenceProps,ye as useResolvedAnchor};\n","function e(i={},s=null,t=[]){for(let[r,n]of Object.entries(i))o(t,f(s,r),n);return t}function f(i,s){return i?i+\"[\"+s+\"]\":s}function o(i,s,t){if(Array.isArray(t))for(let[r,n]of t.entries())o(i,f(s,r.toString()),n);else t instanceof Date?i.push([s,t.toISOString()]):typeof t==\"boolean\"?i.push([s,t?\"1\":\"0\"]):typeof t==\"string\"?i.push([s,t]):typeof t==\"number\"?i.push([s,`${t}`]):t==null?i.push([s,\"\"]):e(t,s,i)}function p(i){var t,r;let s=(t=i==null?void 0:i.form)!=null?t:i.closest(\"form\");if(s){for(let n of s.elements)if(n!==i&&(n.tagName===\"INPUT\"&&n.type===\"submit\"||n.tagName===\"BUTTON\"&&n.type===\"submit\"||n.nodeName===\"INPUT\"&&n.type===\"image\")){n.click();return}(r=s.requestSubmit)==null||r.call(s)}}export{p as attemptSubmit,e as objectToFormEntries};\n","function t(...r){return Array.from(new Set(r.flatMap(n=>typeof n==\"string\"?n.split(\" \"):[]))).filter(Boolean).join(\" \")}export{t as classNames};\n","import E,{Fragment as b,cloneElement as j,createElement as v,forwardRef as S,isValidElement as w,useCallback as x,useRef as k}from\"react\";import{classNames as N}from'./class-names.js';import{match as M}from'./match.js';var O=(a=>(a[a.None=0]=\"None\",a[a.RenderStrategy=1]=\"RenderStrategy\",a[a.Static=2]=\"Static\",a))(O||{}),A=(e=>(e[e.Unmount=0]=\"Unmount\",e[e.Hidden=1]=\"Hidden\",e))(A||{});function L(){let n=U();return x(r=>C({mergeRefs:n,...r}),[n])}function C({ourProps:n,theirProps:r,slot:e,defaultTag:a,features:s,visible:t=!0,name:l,mergeRefs:i}){i=i!=null?i:$;let o=P(r,n);if(t)return F(o,e,a,l,i);let y=s!=null?s:0;if(y&2){let{static:f=!1,...u}=o;if(f)return F(u,e,a,l,i)}if(y&1){let{unmount:f=!0,...u}=o;return M(f?0:1,{[0](){return null},[1](){return F({...u,hidden:!0,style:{display:\"none\"}},e,a,l,i)}})}return F(o,e,a,l,i)}function F(n,r={},e,a,s){let{as:t=e,children:l,refName:i=\"ref\",...o}=h(n,[\"unmount\",\"static\"]),y=n.ref!==void 0?{[i]:n.ref}:{},f=typeof l==\"function\"?l(r):l;\"className\"in o&&o.className&&typeof o.className==\"function\"&&(o.className=o.className(r)),o[\"aria-labelledby\"]&&o[\"aria-labelledby\"]===o.id&&(o[\"aria-labelledby\"]=void 0);let u={};if(r){let d=!1,p=[];for(let[c,T]of Object.entries(r))typeof T==\"boolean\"&&(d=!0),T===!0&&p.push(c.replace(/([A-Z])/g,g=>`-${g.toLowerCase()}`));if(d){u[\"data-headlessui-state\"]=p.join(\" \");for(let c of p)u[`data-${c}`]=\"\"}}if(t===b&&(Object.keys(m(o)).length>0||Object.keys(m(u)).length>0))if(!w(f)||Array.isArray(f)&&f.length>1){if(Object.keys(m(o)).length>0)throw new Error(['Passing props on \"Fragment\"!',\"\",`The current component <${a} /> is rendering a \"Fragment\".`,\"However we need to passthrough the following props:\",Object.keys(m(o)).concat(Object.keys(m(u))).map(d=>`  - ${d}`).join(`\n`),\"\",\"You can apply a few solutions:\",['Add an `as=\"...\"` prop, to ensure that we render an actual element instead of a \"Fragment\".',\"Render a single element as the child so that we can forward the props onto that element.\"].map(d=>`  - ${d}`).join(`\n`)].join(`\n`))}else{let d=f.props,p=d==null?void 0:d.className,c=typeof p==\"function\"?(...R)=>N(p(...R),o.className):N(p,o.className),T=c?{className:c}:{},g=P(f.props,m(h(o,[\"ref\"])));for(let R in u)R in g&&delete u[R];return j(f,Object.assign({},g,u,y,{ref:s(H(f),y.ref)},T))}return v(t,Object.assign({},h(o,[\"ref\"]),t!==b&&y,t!==b&&u),f)}function U(){let n=k([]),r=x(e=>{for(let a of n.current)a!=null&&(typeof a==\"function\"?a(e):a.current=e)},[]);return(...e)=>{if(!e.every(a=>a==null))return n.current=e,r}}function $(...n){return n.every(r=>r==null)?void 0:r=>{for(let e of n)e!=null&&(typeof e==\"function\"?e(r):e.current=r)}}function P(...n){var a;if(n.length===0)return{};if(n.length===1)return n[0];let r={},e={};for(let s of n)for(let t in s)t.startsWith(\"on\")&&typeof s[t]==\"function\"?((a=e[t])!=null||(e[t]=[]),e[t].push(s[t])):r[t]=s[t];if(r.disabled||r[\"aria-disabled\"])for(let s in e)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(e[s]=[t=>{var l;return(l=t==null?void 0:t.preventDefault)==null?void 0:l.call(t)}]);for(let s in e)Object.assign(r,{[s](t,...l){let i=e[s];for(let o of i){if((t instanceof Event||(t==null?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;o(t,...l)}}});return r}function _(...n){var a;if(n.length===0)return{};if(n.length===1)return n[0];let r={},e={};for(let s of n)for(let t in s)t.startsWith(\"on\")&&typeof s[t]==\"function\"?((a=e[t])!=null||(e[t]=[]),e[t].push(s[t])):r[t]=s[t];for(let s in e)Object.assign(r,{[s](...t){let l=e[s];for(let i of l)i==null||i(...t)}});return r}function K(n){var r;return Object.assign(S(n),{displayName:(r=n.displayName)!=null?r:n.name})}function m(n){let r=Object.assign({},n);for(let e in r)r[e]===void 0&&delete r[e];return r}function h(n,r=[]){let e=Object.assign({},n);for(let a of r)a in e&&delete e[a];return e}function H(n){return E.version.split(\".\")[0]>=\"19\"?n.props.ref:n.ref}export{O as RenderFeatures,A as RenderStrategy,m as compact,K as forwardRefWithAs,_ as mergeProps,L as useRender};\n","import{forwardRefWithAs as i,useRender as p}from'../utils/render.js';let a=\"span\";var s=(e=>(e[e.None=1]=\"None\",e[e.Focusable=2]=\"Focusable\",e[e.Hidden=4]=\"Hidden\",e))(s||{});function l(t,r){var n;let{features:d=1,...e}=t,o={ref:r,\"aria-hidden\":(d&2)===2?!0:(n=e[\"aria-hidden\"])!=null?n:void 0,hidden:(d&4)===4?!0:void 0,style:{position:\"fixed\",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:\"hidden\",clip:\"rect(0, 0, 0, 0)\",whiteSpace:\"nowrap\",borderWidth:\"0\",...(d&4)===4&&(d&2)!==2&&{display:\"none\"}}};return p()({ourProps:o,theirProps:e,slot:{},defaultTag:a,name:\"Hidden\"})}let f=i(l);export{f as Hidden,s as HiddenFeatures};\n","import o,{createContext as H,useContext as E,useEffect as m,useState as u}from\"react\";import{createPortal as g}from\"react-dom\";import{useDisposables as h}from'../hooks/use-disposables.js';import{objectToFormEntries as x}from'../utils/form.js';import{compact as y}from'../utils/render.js';import{Hidden as l,HiddenFeatures as d}from'./hidden.js';let f=H(null);function W(t){let[e,r]=u(null);return o.createElement(f.Provider,{value:{target:e}},t.children,o.createElement(l,{features:d.Hidden,ref:r}))}function c({children:t}){let e=E(f);if(!e)return o.createElement(o.Fragment,null,t);let{target:r}=e;return r?g(o.createElement(o.Fragment,null,t),r):null}function j({data:t,form:e,disabled:r,onReset:n,overrides:F}){let[i,a]=u(null),p=h();return m(()=>{if(n&&i)return p.addEventListener(i,\"reset\",n)},[i,e,n]),o.createElement(c,null,o.createElement(C,{setForm:a,formId:e}),x(t).map(([s,v])=>o.createElement(l,{features:d.Hidden,...y({key:s,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,form:e,disabled:r,name:s,value:v,...F})})))}function C({setForm:t,formId:e}){return m(()=>{if(e){let r=document.getElementById(e);r&&t(r)}},[t,e]),e?null:o.createElement(l,{features:d.Hidden,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest(\"form\");n&&t(n)}})}export{j as FormFields,W as FormFieldsProvider,c as HoistFormFields};\n","import r,{useState as u}from\"react\";function f({children:o,freeze:e}){let n=l(e,o);return r.createElement(r.Fragment,null,n)}function l(o,e){let[n,t]=u(e);return!o&&n!==e&&t(e),o?n:e}export{f as Frozen,l as useFrozenData};\n","import n,{createContext as d,useContext as i}from\"react\";let e=d(void 0);function u(){return i(e)}function f({id:t,children:r}){return n.createElement(e.Provider,{value:t},r)}export{f as IdProvider,u as useProvidedId};\n","import r,{createContext as l,useContext as d}from\"react\";let n=l(null);n.displayName=\"OpenClosedContext\";var i=(e=>(e[e.Open=1]=\"Open\",e[e.Closed=2]=\"Closed\",e[e.Closing=4]=\"Closing\",e[e.Opening=8]=\"Opening\",e))(i||{});function u(){return d(n)}function c({value:o,children:t}){return r.createElement(n.Provider,{value:o},t)}function s({children:o}){return r.createElement(n.Provider,{value:null},o)}export{c as OpenClosedProvider,s as ResetOpenClosedProvider,i as State,u as useOpenClosed};\n","import{onDocumentReady as d}from'./document-ready.js';import*as u from'./dom.js';import{focusableSelector as i}from'./focus-management.js';let n=[];d(()=>{function e(t){if(!u.isHTMLorSVGElement(t.target)||t.target===document.body||n[0]===t.target)return;let r=t.target;r=r.closest(i),n.unshift(r!=null?r:t.target),n=n.filter(o=>o!=null&&o.isConnected),n.splice(10)}window.addEventListener(\"click\",e,{capture:!0}),window.addEventListener(\"mousedown\",e,{capture:!0}),window.addEventListener(\"focus\",e,{capture:!0}),document.body.addEventListener(\"click\",e,{capture:!0}),document.body.addEventListener(\"mousedown\",e,{capture:!0}),document.body.addEventListener(\"focus\",e,{capture:!0})});export{n as history};\n","import*as n from'./dom.js';function s(l){let e=l.parentElement,t=null;for(;e&&!n.isHTMLFieldSetElement(e);)n.isHTMLLegendElement(e)&&(t=e),e=e.parentElement;let i=(e==null?void 0:e.getAttribute(\"disabled\"))===\"\";return i&&r(t)?!1:i}function r(l){if(!l)return!1;let e=l.previousElementSibling;for(;e!==null;){if(n.isHTMLLegendElement(e))return!1;e=e.previousElementSibling}return!0}export{s as isDisabledReactIssue7711};\n","function t(n){function e(){document.readyState!==\"loading\"&&(n(),document.removeEventListener(\"DOMContentLoaded\",e))}typeof window!=\"undefined\"&&typeof document!=\"undefined\"&&(document.addEventListener(\"DOMContentLoaded\",e),e())}export{t as onDocumentReady};\n","function u(l){throw new Error(\"Unexpected object: \"+l)}var c=(i=>(i[i.First=0]=\"First\",i[i.Previous=1]=\"Previous\",i[i.Next=2]=\"Next\",i[i.Last=3]=\"Last\",i[i.Specific=4]=\"Specific\",i[i.Nothing=5]=\"Nothing\",i))(c||{});function f(l,n){let t=n.resolveItems();if(t.length<=0)return null;let r=n.resolveActiveIndex(),s=r!=null?r:-1;switch(l.focus){case 0:{for(let e=0;e<t.length;++e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 1:{s===-1&&(s=t.length);for(let e=s-1;e>=0;--e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 2:{for(let e=s+1;e<t.length;++e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 3:{for(let e=t.length-1;e>=0;--e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 4:{for(let e=0;e<t.length;++e)if(n.resolveId(t[e],e,t)===l.id)return e;return r}case 5:return null;default:u(l)}}export{c as Focus,f as calculateActiveIndex};\n","\"use client\";import m,{createContext as T,useContext as u,useMemo as c,useState as P}from\"react\";import{useEvent as g}from'../../hooks/use-event.js';import{useId as x}from'../../hooks/use-id.js';import{useIsoMorphicEffect as y}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as E}from'../../hooks/use-sync-refs.js';import{useDisabled as v}from'../../internal/disabled.js';import{forwardRefWithAs as R,useRender as I}from'../../utils/render.js';let a=T(null);a.displayName=\"DescriptionContext\";function f(){let r=u(a);if(r===null){let e=new Error(\"You used a <Description /> component, but it is not inside a relevant parent.\");throw Error.captureStackTrace&&Error.captureStackTrace(e,f),e}return r}function U(){var r,e;return(e=(r=u(a))==null?void 0:r.value)!=null?e:void 0}function w(){let[r,e]=P([]);return[r.length>0?r.join(\" \"):void 0,c(()=>function(t){let i=g(n=>(e(s=>[...s,n]),()=>e(s=>{let o=s.slice(),p=o.indexOf(n);return p!==-1&&o.splice(p,1),o}))),l=c(()=>({register:i,slot:t.slot,name:t.name,props:t.props,value:t.value}),[i,t.slot,t.name,t.props,t.value]);return m.createElement(a.Provider,{value:l},t.children)},[e])]}let S=\"p\";function C(r,e){let d=x(),t=v(),{id:i=`headlessui-description-${d}`,...l}=r,n=f(),s=E(e);y(()=>n.register(i),[i,n.register]);let o=t||!1,p=c(()=>({...n.slot,disabled:o}),[n.slot,o]),D={ref:s,...n.props,id:i};return I()({ourProps:D,theirProps:l,slot:p,defaultTag:S,name:n.name||\"Description\"})}let _=R(C),H=Object.assign(_,{});export{H as Description,U as useDescribedBy,w as useDescriptions};\n","var o=(r=>(r.Space=\" \",r.Enter=\"Enter\",r.Escape=\"Escape\",r.Backspace=\"Backspace\",r.Delete=\"Delete\",r.ArrowLeft=\"ArrowLeft\",r.ArrowUp=\"ArrowUp\",r.ArrowRight=\"ArrowRight\",r.ArrowDown=\"ArrowDown\",r.Home=\"Home\",r.End=\"End\",r.PageUp=\"PageUp\",r.PageDown=\"PageDown\",r.Tab=\"Tab\",r))(o||{});export{o as Keys};\n","\"use client\";import D,{createContext as k,useContext as v,useMemo as T,useState as _}from\"react\";import{useEvent as P}from'../../hooks/use-event.js';import{useId as A}from'../../hooks/use-id.js';import{useIsoMorphicEffect as B}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as F}from'../../hooks/use-sync-refs.js';import{useDisabled as M}from'../../internal/disabled.js';import{useProvidedId as S}from'../../internal/id.js';import*as m from'../../utils/dom.js';import{forwardRefWithAs as I,useRender as H}from'../../utils/render.js';let L=k(null);L.displayName=\"LabelContext\";function C(){let n=v(L);if(n===null){let l=new Error(\"You used a <Label /> component, but it is not inside a relevant parent.\");throw Error.captureStackTrace&&Error.captureStackTrace(l,C),l}return n}function N(n){var a,e,o;let l=(e=(a=v(L))==null?void 0:a.value)!=null?e:void 0;return((o=n==null?void 0:n.length)!=null?o:0)>0?[l,...n].filter(Boolean).join(\" \"):l}function Q({inherit:n=!1}={}){let l=N(),[a,e]=_([]),o=n?[l,...a].filter(Boolean):a;return[o.length>0?o.join(\" \"):void 0,T(()=>function(t){let p=P(i=>(e(u=>[...u,i]),()=>e(u=>{let d=u.slice(),f=d.indexOf(i);return f!==-1&&d.splice(f,1),d}))),b=T(()=>({register:p,slot:t.slot,name:t.name,props:t.props,value:t.value}),[p,t.slot,t.name,t.props,t.value]);return D.createElement(L.Provider,{value:b},t.children)},[e])]}let G=\"label\";function U(n,l){var E;let a=A(),e=C(),o=S(),y=M(),{id:t=`headlessui-label-${a}`,htmlFor:p=o!=null?o:(E=e.props)==null?void 0:E.htmlFor,passive:b=!1,...i}=n,u=F(l);B(()=>e.register(t),[t,e.register]);let d=P(s=>{let g=s.currentTarget;if(!(s.target!==s.currentTarget&&m.isInteractiveElement(s.target))&&(m.isHTMLLabelElement(g)&&s.preventDefault(),e.props&&\"onClick\"in e.props&&typeof e.props.onClick==\"function\"&&e.props.onClick(s),m.isHTMLLabelElement(g))){let r=document.getElementById(g.htmlFor);if(r){let x=r.getAttribute(\"disabled\");if(x===\"true\"||x===\"\")return;let h=r.getAttribute(\"aria-disabled\");if(h===\"true\"||h===\"\")return;(m.isHTMLInputElement(r)&&(r.type===\"file\"||r.type===\"radio\"||r.type===\"checkbox\")||r.role===\"radio\"||r.role===\"checkbox\"||r.role===\"switch\")&&r.click(),r.focus({preventScroll:!0})}}}),f=y||!1,R=T(()=>({...e.slot,disabled:f}),[e.slot,f]),c={ref:u,...e.props,id:t,htmlFor:p,onClick:d};return b&&(\"onClick\"in c&&(delete c.htmlFor,delete c.onClick),\"onClick\"in i&&delete i.onClick),H()({ourProps:c,theirProps:i,slot:R,defaultTag:p?G:\"div\",name:e.name||\"Label\"})}let j=I(U),V=Object.assign(j,{});export{V as Label,C as useLabelContext,N as useLabelledBy,Q as useLabels};\n","var g=(f=>(f[f.Left=0]=\"Left\",f[f.Right=2]=\"Right\",f))(g||{});export{g as MouseButton};\n","import{useEffect as u,useRef as n}from\"react\";import{microTask as o}from'../utils/micro-task.js';import{useEvent as f}from'./use-event.js';function c(t){let r=f(t),e=n(!1);u(()=>(e.current=!1,()=>{e.current=!0,o(()=>{e.current&&r()})}),[r])}export{c as useOnUnmount};\n","import*as t from\"react\";import{env as f}from'../utils/env.js';function s(){let r=typeof document==\"undefined\";return\"useSyncExternalStore\"in t?(o=>o.useSyncExternalStore)(t)(()=>()=>{},()=>!1,()=>!r):!1}function l(){let r=s(),[e,n]=t.useState(f.isHandoffComplete);return e&&f.isHandoffComplete===!1&&n(!1),t.useEffect(()=>{e!==!0&&n(!0)},[e]),t.useEffect(()=>f.handoff(),[]),r?!1:e}export{l as useServerHandoffComplete};\n","import t,{createContext as r,useContext as c}from\"react\";let e=r(!1);function a(){return c(e)}function l(o){return t.createElement(e.Provider,{value:o.force},o.children)}export{l as ForcePortalRoot,a as usePortalRoot};\n","\"use client\";import T,{Fragment as E,createContext as A,useContext as d,useEffect as G,useMemo as x,useRef as L,useState as c}from\"react\";import{createPortal as h}from\"react-dom\";import{useEvent as _}from'../../hooks/use-event.js';import{useIsoMorphicEffect as C}from'../../hooks/use-iso-morphic-effect.js';import{useOnUnmount as F}from'../../hooks/use-on-unmount.js';import{useOwnerDocument as U}from'../../hooks/use-owner.js';import{useServerHandoffComplete as N}from'../../hooks/use-server-handoff-complete.js';import{optionalRef as S,useSyncRefs as m}from'../../hooks/use-sync-refs.js';import{usePortalRoot as W}from'../../internal/portal-force-root.js';import*as j from'../../utils/dom.js';import{env as v}from'../../utils/env.js';import{forwardRefWithAs as y,useRender as R}from'../../utils/render.js';function I(e){let l=W(),o=d(H),[r,u]=c(()=>{var i;if(!l&&o!==null)return(i=o.current)!=null?i:null;if(v.isServer)return null;let t=e==null?void 0:e.getElementById(\"headlessui-portal-root\");if(t)return t;if(e===null)return null;let a=e.createElement(\"div\");return a.setAttribute(\"id\",\"headlessui-portal-root\"),e.body.appendChild(a)});return G(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),G(()=>{l||o!==null&&u(o.current)},[o,u,l]),r}let M=E,D=y(function(l,o){let{ownerDocument:r=null,...u}=l,t=L(null),a=m(S(s=>{t.current=s}),o),i=U(t),f=r!=null?r:i,p=I(f),[n]=c(()=>{var s;return v.isServer?null:(s=f==null?void 0:f.createElement(\"div\"))!=null?s:null}),P=d(g),O=N();C(()=>{!p||!n||p.contains(n)||(n.setAttribute(\"data-headlessui-portal\",\"\"),p.appendChild(n))},[p,n]),C(()=>{if(n&&P)return P.register(n)},[P,n]),F(()=>{var s;!p||!n||(j.isNode(n)&&p.contains(n)&&p.removeChild(n),p.childNodes.length<=0&&((s=p.parentElement)==null||s.removeChild(p)))});let b=R();return O?!p||!n?null:h(b({ourProps:{ref:a},theirProps:u,slot:{},defaultTag:M,name:\"Portal\"}),n):null});function J(e,l){let o=m(l),{enabled:r=!0,ownerDocument:u,...t}=e,a=R();return r?T.createElement(D,{...t,ownerDocument:u,ref:o}):a({ourProps:{ref:o},theirProps:t,slot:{},defaultTag:M,name:\"Portal\"})}let X=E,H=A(null);function k(e,l){let{target:o,...r}=e,t={ref:m(l)},a=R();return T.createElement(H.Provider,{value:o},a({ourProps:t,theirProps:r,defaultTag:X,name:\"Popover.Group\"}))}let g=A(null);function oe(){let e=d(g),l=L([]),o=_(t=>(l.current.push(t),e&&e.register(t),()=>r(t))),r=_(t=>{let a=l.current.indexOf(t);a!==-1&&l.current.splice(a,1),e&&e.unregister(t)}),u=x(()=>({register:o,unregister:r,portals:l}),[o,r,l]);return[l,x(()=>function({children:a}){return T.createElement(g.Provider,{value:u},a)},[u])]}let B=y(J),q=y(k),ne=Object.assign(B,{Group:q});export{ne as Portal,q as PortalGroup,oe as useNestedPortals};\n","var S=Object.defineProperty;var I=(t,i,e)=>i in t?S(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e;var c=(t,i,e)=>(I(t,typeof i!=\"symbol\"?i+\"\":i,e),e);import{Machine as h}from'../../machine.js';import{ActionTypes as R,stackMachines as A}from'../../machines/stack-machine.js';import{Focus as f,calculateActiveIndex as x}from'../../utils/calculate-active-index.js';import{sortByDomNode as E}from'../../utils/focus-management.js';import{match as g}from'../../utils/match.js';var C=(e=>(e[e.Open=0]=\"Open\",e[e.Closed=1]=\"Closed\",e))(C||{}),M=(e=>(e[e.Single=0]=\"Single\",e[e.Multi=1]=\"Multi\",e))(M||{}),F=(n=>(n[n.Pointer=0]=\"Pointer\",n[n.Focus=1]=\"Focus\",n[n.Other=2]=\"Other\",n))(F||{}),_=(l=>(l[l.OpenCombobox=0]=\"OpenCombobox\",l[l.CloseCombobox=1]=\"CloseCombobox\",l[l.GoToOption=2]=\"GoToOption\",l[l.SetTyping=3]=\"SetTyping\",l[l.RegisterOption=4]=\"RegisterOption\",l[l.UnregisterOption=5]=\"UnregisterOption\",l[l.DefaultToFirstOption=6]=\"DefaultToFirstOption\",l[l.SetActivationTrigger=7]=\"SetActivationTrigger\",l[l.UpdateVirtualConfiguration=8]=\"UpdateVirtualConfiguration\",l[l.SetInputElement=9]=\"SetInputElement\",l[l.SetButtonElement=10]=\"SetButtonElement\",l[l.SetOptionsElement=11]=\"SetOptionsElement\",l))(_||{});function T(t,i=e=>e){let e=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=i(t.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((u,a)=>u.dataRef.current.order-a.dataRef.current.order):E(n,u=>u.dataRef.current.domRef.current),r=e?o.indexOf(e):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let D={[1](t){var i;return(i=t.dataRef.current)!=null&&i.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},[0](t){var i,e;if((i=t.dataRef.current)!=null&&i.disabled||t.comboboxState===0)return t;if((e=t.dataRef.current)!=null&&e.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0,__demoMode:!1}}return{...t,comboboxState:0,__demoMode:!1}},[3](t,i){return t.isTyping===i.isTyping?t:{...t,isTyping:i.isTyping}},[2](t,i){var r,u,a,d;if((r=t.dataRef.current)!=null&&r.disabled||t.optionsElement&&!((u=t.dataRef.current)!=null&&u.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let{options:p,disabled:s}=t.virtual,b=i.focus===f.Specific?i.idx:x(i,{resolveItems:()=>p,resolveActiveIndex:()=>{var v,m;return(m=(v=t.activeOptionIndex)!=null?v:p.findIndex(y=>!s(y)))!=null?m:null},resolveDisabled:s,resolveId(){throw new Error(\"Function not implemented.\")}}),l=(a=i.trigger)!=null?a:2;return t.activeOptionIndex===b&&t.activationTrigger===l?t:{...t,activeOptionIndex:b,activationTrigger:l,isTyping:!1,__demoMode:!1}}let e=T(t);if(e.activeOptionIndex===null){let p=e.options.findIndex(s=>!s.dataRef.current.disabled);p!==-1&&(e.activeOptionIndex=p)}let n=i.focus===f.Specific?i.idx:x(i,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled}),o=(d=i.trigger)!=null?d:2;return t.activeOptionIndex===n&&t.activationTrigger===o?t:{...t,...e,isTyping:!1,activeOptionIndex:n,activationTrigger:o,__demoMode:!1}},[4]:(t,i)=>{var r,u,a,d;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,i.payload]};let e=i.payload,n=T(t,p=>(p.push(e),p));t.activeOptionIndex===null&&(a=(u=t.dataRef.current).isSelected)!=null&&a.call(u,i.payload.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(e));let o={...t,...n,activationTrigger:2};return(d=t.dataRef.current)!=null&&d.__demoMode&&t.dataRef.current.value===void 0&&(o.activeOptionIndex=0),o},[5]:(t,i)=>{var n;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:t.options.filter(o=>o.id!==i.id)};let e=T(t,o=>{let r=o.findIndex(u=>u.id===i.id);return r!==-1&&o.splice(r,1),o});return{...t,...e,activationTrigger:2}},[6]:(t,i)=>t.defaultToFirstOption===i.value?t:{...t,defaultToFirstOption:i.value},[7]:(t,i)=>t.activationTrigger===i.trigger?t:{...t,activationTrigger:i.trigger},[8]:(t,i)=>{var n,o;if(t.virtual===null)return{...t,virtual:{options:i.options,disabled:(n=i.disabled)!=null?n:()=>!1}};if(t.virtual.options===i.options&&t.virtual.disabled===i.disabled)return t;let e=t.activeOptionIndex;if(t.activeOptionIndex!==null){let r=i.options.indexOf(t.virtual.options[t.activeOptionIndex]);r!==-1?e=r:e=null}return{...t,activeOptionIndex:e,virtual:{options:i.options,disabled:(o=i.disabled)!=null?o:()=>!1}}},[9]:(t,i)=>t.inputElement===i.element?t:{...t,inputElement:i.element},[10]:(t,i)=>t.buttonElement===i.element?t:{...t,buttonElement:i.element},[11]:(t,i)=>t.optionsElement===i.element?t:{...t,optionsElement:i.element}};class O extends h{constructor(e){super(e);c(this,\"actions\",{onChange:e=>{let{onChange:n,compare:o,mode:r,value:u}=this.state.dataRef.current;return g(r,{[0]:()=>n==null?void 0:n(e),[1]:()=>{let a=u.slice(),d=a.findIndex(p=>o(p,e));return d===-1?a.push(e):a.splice(d,1),n==null?void 0:n(a)}})},registerOption:(e,n)=>(this.send({type:4,payload:{id:e,dataRef:n}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(n.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:e})}),goToOption:(e,n)=>(this.send({type:6,value:!1}),this.send({type:2,...e,trigger:n})),setIsTyping:e=>{this.send({type:3,isTyping:e})},closeCombobox:()=>{var e,n;this.send({type:1}),this.send({type:6,value:!1}),(n=(e=this.state.dataRef.current).onClose)==null||n.call(e)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:e=>{this.send({type:7,trigger:e})},selectActiveOption:()=>{let e=this.selectors.activeOptionIndex(this.state);if(e!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[e]);else{let{dataRef:n}=this.state.options[e];this.actions.onChange(n.current.value)}this.actions.goToOption({focus:f.Specific,idx:e})}},setInputElement:e=>{this.send({type:9,element:e})},setButtonElement:e=>{this.send({type:10,element:e})},setOptionsElement:e=>{this.send({type:11,element:e})}});c(this,\"selectors\",{activeDescendantId:e=>{var o,r;let n=this.selectors.activeOptionIndex(e);if(n!==null)return e.virtual?(r=e.options.find(u=>!u.dataRef.current.disabled&&e.dataRef.current.compare(u.dataRef.current.value,e.virtual.options[n])))==null?void 0:r.id:(o=e.options[n])==null?void 0:o.id},activeOptionIndex:e=>{if(e.defaultToFirstOption&&e.activeOptionIndex===null&&(e.virtual?e.virtual.options.length>0:e.options.length>0)){if(e.virtual){let{options:o,disabled:r}=e.virtual,u=o.findIndex(a=>{var d;return!((d=r==null?void 0:r(a))!=null&&d)});if(u!==-1)return u}let n=e.options.findIndex(o=>!o.dataRef.current.disabled);if(n!==-1)return n}return e.activeOptionIndex},activeOption:e=>{var o,r;let n=this.selectors.activeOptionIndex(e);return n===null?null:e.virtual?e.virtual.options[n!=null?n:0]:(r=(o=e.options[n])==null?void 0:o.dataRef.current.value)!=null?r:null},isActive:(e,n,o)=>{var u;let r=this.selectors.activeOptionIndex(e);return r===null?!1:e.virtual?r===e.dataRef.current.calculateIndex(n):((u=e.options[r])==null?void 0:u.id)===o},shouldScrollIntoView:(e,n,o)=>!(e.virtual||e.__demoMode||e.comboboxState!==0||e.activationTrigger===0||!this.selectors.isActive(e,n,o))});{let n=this.state.id,o=A.get(null);this.disposables.add(o.on(R.Push,r=>{!o.selectors.isTop(r,n)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>o.actions.push(n)),this.on(1,()=>o.actions.pop(n))}}static new({id:e,virtual:n=null,__demoMode:o=!1}){var r;return new O({id:e,dataRef:{current:{}},comboboxState:o?0:1,isTyping:!1,options:[],virtual:n?{options:n.options,disabled:(r=n.disabled)!=null?r:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:o})}reduce(e,n){return g(n.type,D,e,n)}}export{_ as ActionTypes,F as ActivationTrigger,O as ComboboxMachine,C as ComboboxState,M as ValueMode};\n","import{createContext as r,useContext as a,useMemo as m}from\"react\";import{useOnUnmount as c}from'../../hooks/use-on-unmount.js';import{ComboboxMachine as i}from'./combobox-machine.js';const u=r(null);function p(n){let o=a(u);if(o===null){let e=new Error(`<${n} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,b),e}return o}function b({id:n,virtual:o=null,__demoMode:e=!1}){let t=m(()=>i.new({id:n,virtual:o,__demoMode:e}),[]);return c(()=>t.dispose()),t}export{u as ComboboxContext,b as useComboboxMachine,p as useComboboxMachineContext};\n","\"use client\";import{useFocusRing as ve}from\"@react-aria/focus\";import{useHover as Pe}from\"@react-aria/interactions\";import{useVirtualizer as Le}from\"@tanstack/react-virtual\";import F,{Fragment as Ee,createContext as Oe,useCallback as ee,useContext as he,useMemo as K,useRef as me,useState as xe}from\"react\";import{flushSync as re}from\"react-dom\";import{useActivePress as Ve}from'../../hooks/use-active-press.js';import{useByComparator as we}from'../../hooks/use-by-comparator.js';import{useControllable as Be}from'../../hooks/use-controllable.js';import{useDefaultValue as Ne}from'../../hooks/use-default-value.js';import{useDisposables as ke}from'../../hooks/use-disposables.js';import{useElementSize as Ae}from'../../hooks/use-element-size.js';import{useEvent as O}from'../../hooks/use-event.js';import{useId as le}from'../../hooks/use-id.js';import{useInertOthers as Ue}from'../../hooks/use-inert-others.js';import{useIsoMorphicEffect as oe}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as He}from'../../hooks/use-latest-value.js';import{useOnDisappear as Ge}from'../../hooks/use-on-disappear.js';import{useOutsideClick as ze}from'../../hooks/use-outside-click.js';import{useOwnerDocument as ge}from'../../hooks/use-owner.js';import{Action as ie,useQuickRelease as Ke}from'../../hooks/use-quick-release.js';import{useRefocusableInput as Ie}from'../../hooks/use-refocusable-input.js';import{useResolveButtonType as We}from'../../hooks/use-resolve-button-type.js';import{useScrollLock as Xe}from'../../hooks/use-scroll-lock.js';import{useSyncRefs as ce}from'../../hooks/use-sync-refs.js';import{useTrackedPointer as $e}from'../../hooks/use-tracked-pointer.js';import{transitionDataAttributes as Je,useTransition as je}from'../../hooks/use-transition.js';import{useTreeWalker as qe}from'../../hooks/use-tree-walker.js';import{useWatch as Re}from'../../hooks/use-watch.js';import{useDisabled as Qe}from'../../internal/disabled.js';import{FloatingProvider as Ye,useFloatingPanel as Ze,useFloatingPanelProps as eo,useFloatingReference as oo,useResolvedAnchor as to}from'../../internal/floating.js';import{FormFields as no}from'../../internal/form-fields.js';import{Frozen as ro,useFrozenData as De}from'../../internal/frozen.js';import{useProvidedId as ao}from'../../internal/id.js';import{OpenClosedProvider as lo,State as fe,useOpenClosed as io}from'../../internal/open-closed.js';import{stackMachines as so}from'../../machines/stack-machine.js';import{useSlice as D}from'../../react-glue.js';import{history as _e}from'../../utils/active-element-history.js';import{isDisabledReactIssue7711 as uo}from'../../utils/bugs.js';import{Focus as L}from'../../utils/calculate-active-index.js';import{disposables as po}from'../../utils/disposables.js';import*as bo from'../../utils/dom.js';import{match as Te}from'../../utils/match.js';import{isMobile as mo}from'../../utils/platform.js';import{RenderFeatures as Fe,forwardRefWithAs as se,mergeProps as ye,useRender as ue}from'../../utils/render.js';import{useDescribedBy as co}from'../description/description.js';import{Keys as V}from'../keyboard.js';import{Label as fo,useLabelledBy as Ce,useLabels as To}from'../label/label.js';import{MouseButton as Se}from'../mouse.js';import{Portal as xo}from'../portal/portal.js';import{ActionTypes as go,ActivationTrigger as J,ComboboxState as l,ValueMode as N}from'./combobox-machine.js';import{ComboboxContext as yo,useComboboxMachine as Co,useComboboxMachineContext as pe}from'./combobox-machine-glue.js';let de=Oe(null);de.displayName=\"ComboboxDataContext\";function ae(C){let h=he(de);if(h===null){let e=new Error(`<${C} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,ae),e}return h}let Me=Oe(null);function vo(C){let h=pe(\"VirtualProvider\"),e=ae(\"VirtualProvider\"),{options:o}=e.virtual,A=D(h,a=>a.optionsElement),[R,v]=K(()=>{let a=A;if(!a)return[0,0];let u=window.getComputedStyle(a);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[A]),T=Le({enabled:o.length!==0,scrollPaddingStart:R,scrollPaddingEnd:v,count:o.length,estimateSize(){return 40},getScrollElement(){return h.state.optionsElement},overscan:12}),[I,m]=xe(0);oe(()=>{m(a=>a+1)},[o]);let g=T.getVirtualItems(),n=D(h,a=>a.activationTrigger===J.Pointer),f=D(h,h.selectors.activeOptionIndex);return g.length===0?null:F.createElement(Me.Provider,{value:T},F.createElement(\"div\",{style:{position:\"relative\",width:\"100%\",height:`${T.getTotalSize()}px`},ref:a=>{a&&(n||f!==null&&o.length>f&&T.scrollToIndex(f))}},g.map(a=>{var u;return F.createElement(Ee,{key:a.key},F.cloneElement((u=C.children)==null?void 0:u.call(C,{...C.slot,option:o[a.index]}),{key:`${I}-${a.key}`,\"data-index\":a.index,\"aria-setsize\":o.length,\"aria-posinset\":a.index+1,style:{position:\"absolute\",top:0,left:0,transform:`translateY(${a.start}px)`,overflowAnchor:\"none\"}}))})))}let Po=Ee;function Eo(C,h){let e=le(),o=Qe(),{value:A,defaultValue:R,onChange:v,form:T,name:I,by:m,invalid:g=!1,disabled:n=o||!1,onClose:f,__demoMode:a=!1,multiple:u=!1,immediate:S=!1,virtual:d=null,nullable:k,...W}=C,y=Ne(R),[x=u?[]:void 0,P]=Be(A,v,y),b=Co({id:e,virtual:d,__demoMode:a}),G=me({static:!1,hold:!1}),_=we(m),z=O(s=>d?m===null?d.options.indexOf(s):d.options.findIndex(c=>_(c,s)):b.state.options.findIndex(c=>_(c.dataRef.current.value,s))),U=ee(s=>Te(r.mode,{[N.Multi]:()=>x.some(c=>_(c,s)),[N.Single]:()=>_(x,s)}),[x]),w=D(b,s=>s.virtual),j=O(()=>f==null?void 0:f()),r=K(()=>({__demoMode:a,immediate:S,optionsPropsRef:G,value:x,defaultValue:y,disabled:n,invalid:g,mode:u?N.Multi:N.Single,virtual:d?w:null,onChange:P,isSelected:U,calculateIndex:z,compare:_,onClose:j}),[x,y,n,g,u,P,U,a,b,d,w,j]);oe(()=>{var s;d&&b.send({type:go.UpdateVirtualConfiguration,options:d.options,disabled:(s=d.disabled)!=null?s:null})},[d,d==null?void 0:d.options,d==null?void 0:d.disabled]),oe(()=>{b.state.dataRef.current=r},[r]);let[M,X,i,H]=D(b,s=>[s.comboboxState,s.buttonElement,s.inputElement,s.optionsElement]),q=so.get(null),Q=D(q,ee(s=>q.selectors.isTop(s,e),[q,e]));ze(Q,[X,i,H],()=>b.actions.closeCombobox());let Y=D(b,b.selectors.activeOptionIndex),$=D(b,b.selectors.activeOption),be=K(()=>({open:M===l.Open,disabled:n,invalid:g,activeIndex:Y,activeOption:$,value:x}),[r,n,x,g,$,M]),[Z,te]=To(),t=h===null?{}:{ref:h},B=ee(()=>{if(y!==void 0)return P==null?void 0:P(y)},[P,y]),E=ue();return F.createElement(te,{value:Z,props:{htmlFor:i==null?void 0:i.id},slot:{open:M===l.Open,disabled:n}},F.createElement(Ye,null,F.createElement(de.Provider,{value:r},F.createElement(yo.Provider,{value:b},F.createElement(lo,{value:Te(M,{[l.Open]:fe.Open,[l.Closed]:fe.Closed})},I!=null&&F.createElement(no,{disabled:n,data:x!=null?{[I]:x}:{},form:T,onReset:B}),E({ourProps:t,theirProps:W,slot:be,defaultTag:Po,name:\"Combobox\"}))))))}let Oo=\"input\";function ho(C,h){var Z,te;let e=pe(\"Combobox.Input\"),o=ae(\"Combobox.Input\"),A=le(),R=ao(),{id:v=R||`headlessui-combobox-input-${A}`,onChange:T,displayValue:I,disabled:m=o.disabled||!1,autoFocus:g=!1,type:n=\"text\",...f}=C,[a]=D(e,t=>[t.inputElement]),u=me(null),S=ce(u,h,oo(),e.actions.setInputElement),d=ge(a),[k,W]=D(e,t=>[t.comboboxState,t.isTyping]),y=ke(),x=O(()=>{e.actions.onChange(null),e.state.optionsElement&&(e.state.optionsElement.scrollTop=0),e.actions.goToOption({focus:L.Nothing})}),P=K(()=>{var t;return typeof I==\"function\"&&o.value!==void 0?(t=I(o.value))!=null?t:\"\":typeof o.value==\"string\"?o.value:\"\"},[o.value,I]);Re(([t,B],[E,s])=>{if(e.state.isTyping)return;let c=u.current;c&&((s===l.Open&&B===l.Closed||t!==E)&&(c.value=t),requestAnimationFrame(()=>{if(e.state.isTyping||!c||(d==null?void 0:d.activeElement)!==c)return;let{selectionStart:p,selectionEnd:ne}=c;Math.abs((ne!=null?ne:0)-(p!=null?p:0))===0&&p===0&&c.setSelectionRange(c.value.length,c.value.length)}))},[P,k,d,W]),Re(([t],[B])=>{if(t===l.Open&&B===l.Closed){if(e.state.isTyping)return;let E=u.current;if(!E)return;let s=E.value,{selectionStart:c,selectionEnd:p,selectionDirection:ne}=E;E.value=\"\",E.value=s,ne!==null?E.setSelectionRange(c,p,ne):E.setSelectionRange(c,p)}},[k]);let b=me(!1),G=O(()=>{b.current=!0}),_=O(()=>{y.nextFrame(()=>{b.current=!1})}),z=O(t=>{switch(e.actions.setIsTyping(!0),t.key){case V.Enter:if(e.state.comboboxState!==l.Open||b.current)return;if(t.preventDefault(),t.stopPropagation(),e.selectors.activeOptionIndex(e.state)===null){e.actions.closeCombobox();return}e.actions.selectActiveOption(),o.mode===N.Single&&e.actions.closeCombobox();break;case V.ArrowDown:return t.preventDefault(),t.stopPropagation(),Te(e.state.comboboxState,{[l.Open]:()=>e.actions.goToOption({focus:L.Next}),[l.Closed]:()=>e.actions.openCombobox()});case V.ArrowUp:return t.preventDefault(),t.stopPropagation(),Te(e.state.comboboxState,{[l.Open]:()=>e.actions.goToOption({focus:L.Previous}),[l.Closed]:()=>{re(()=>e.actions.openCombobox()),o.value||e.actions.goToOption({focus:L.Last})}});case V.Home:if(t.shiftKey)break;return t.preventDefault(),t.stopPropagation(),e.actions.goToOption({focus:L.First});case V.PageUp:return t.preventDefault(),t.stopPropagation(),e.actions.goToOption({focus:L.First});case V.End:if(t.shiftKey)break;return t.preventDefault(),t.stopPropagation(),e.actions.goToOption({focus:L.Last});case V.PageDown:return t.preventDefault(),t.stopPropagation(),e.actions.goToOption({focus:L.Last});case V.Escape:return e.state.comboboxState!==l.Open?void 0:(t.preventDefault(),e.state.optionsElement&&!o.optionsPropsRef.current.static&&t.stopPropagation(),o.mode===N.Single&&o.value===null&&x(),e.actions.closeCombobox());case V.Tab:if(e.state.comboboxState!==l.Open)return;o.mode===N.Single&&e.state.activationTrigger!==J.Focus&&e.actions.selectActiveOption(),e.actions.closeCombobox();break}}),U=O(t=>{T==null||T(t),o.mode===N.Single&&t.target.value===\"\"&&x(),e.actions.openCombobox()}),w=O(t=>{var E,s,c;let B=(E=t.relatedTarget)!=null?E:_e.find(p=>p!==t.currentTarget);if(!((s=e.state.optionsElement)!=null&&s.contains(B))&&!((c=e.state.buttonElement)!=null&&c.contains(B))&&e.state.comboboxState===l.Open)return t.preventDefault(),o.mode===N.Single&&o.value===null&&x(),e.actions.closeCombobox()}),j=O(t=>{var E,s,c;let B=(E=t.relatedTarget)!=null?E:_e.find(p=>p!==t.currentTarget);(s=e.state.buttonElement)!=null&&s.contains(B)||(c=e.state.optionsElement)!=null&&c.contains(B)||o.disabled||o.immediate&&e.state.comboboxState!==l.Open&&y.microTask(()=>{re(()=>e.actions.openCombobox()),e.actions.setActivationTrigger(J.Focus)})}),r=Ce(),M=co(),{isFocused:X,focusProps:i}=ve({autoFocus:g}),{isHovered:H,hoverProps:q}=Pe({isDisabled:m}),Q=D(e,t=>t.optionsElement),Y=K(()=>({open:k===l.Open,disabled:m,invalid:o.invalid,hover:H,focus:X,autofocus:g}),[o,H,X,g,m,o.invalid]),$=ye({ref:S,id:v,role:\"combobox\",type:n,\"aria-controls\":Q==null?void 0:Q.id,\"aria-expanded\":k===l.Open,\"aria-activedescendant\":D(e,e.selectors.activeDescendantId),\"aria-labelledby\":r,\"aria-describedby\":M,\"aria-autocomplete\":\"list\",defaultValue:(te=(Z=C.defaultValue)!=null?Z:o.defaultValue!==void 0?I==null?void 0:I(o.defaultValue):null)!=null?te:o.defaultValue,disabled:m||void 0,autoFocus:g,onCompositionStart:G,onCompositionEnd:_,onKeyDown:z,onChange:U,onFocus:j,onBlur:w},i,q);return ue()({ourProps:$,theirProps:f,slot:Y,defaultTag:Oo,name:\"Combobox.Input\"})}let Ao=\"button\";function Io(C,h){let e=pe(\"Combobox.Button\"),o=ae(\"Combobox.Button\"),[A,R]=xe(null),v=ce(h,R,e.actions.setButtonElement),T=le(),{id:I=`headlessui-combobox-button-${T}`,disabled:m=o.disabled||!1,autoFocus:g=!1,...n}=C,[f,a,u]=D(e,r=>[r.comboboxState,r.inputElement,r.optionsElement]),S=Ie(a),d=f===l.Open;Ke(d,{trigger:A,action:ee(r=>{if(A!=null&&A.contains(r.target))return ie.Ignore;if(a!=null&&a.contains(r.target))return ie.Ignore;let M=r.target.closest('[role=\"option\"]:not([data-disabled])');return bo.isHTMLElement(M)?ie.Select(M):u!=null&&u.contains(r.target)?ie.Ignore:ie.Close},[A,a,u]),close:e.actions.closeCombobox,select:e.actions.selectActiveOption});let k=O(r=>{switch(r.key){case V.Space:case V.Enter:r.preventDefault(),r.stopPropagation(),e.state.comboboxState===l.Closed&&re(()=>e.actions.openCombobox()),S();return;case V.ArrowDown:r.preventDefault(),r.stopPropagation(),e.state.comboboxState===l.Closed&&(re(()=>e.actions.openCombobox()),e.state.dataRef.current.value||e.actions.goToOption({focus:L.First})),S();return;case V.ArrowUp:r.preventDefault(),r.stopPropagation(),e.state.comboboxState===l.Closed&&(re(()=>e.actions.openCombobox()),e.state.dataRef.current.value||e.actions.goToOption({focus:L.Last})),S();return;case V.Escape:if(e.state.comboboxState!==l.Open)return;r.preventDefault(),e.state.optionsElement&&!o.optionsPropsRef.current.static&&r.stopPropagation(),re(()=>e.actions.closeCombobox()),S();return;default:return}}),W=O(r=>{r.preventDefault(),!uo(r.currentTarget)&&(r.button===Se.Left&&(e.state.comboboxState===l.Open?e.actions.closeCombobox():e.actions.openCombobox()),S())}),y=Ce([I]),{isFocusVisible:x,focusProps:P}=ve({autoFocus:g}),{isHovered:b,hoverProps:G}=Pe({isDisabled:m}),{pressed:_,pressProps:z}=Ve({disabled:m}),U=K(()=>({open:f===l.Open,active:_||f===l.Open,disabled:m,invalid:o.invalid,value:o.value,hover:b,focus:x}),[o,b,x,_,m,f]),w=ye({ref:v,id:I,type:We(C,A),tabIndex:-1,\"aria-haspopup\":\"listbox\",\"aria-controls\":u==null?void 0:u.id,\"aria-expanded\":f===l.Open,\"aria-labelledby\":y,disabled:m||void 0,autoFocus:g,onPointerDown:W,onKeyDown:k},P,G,z);return ue()({ourProps:w,theirProps:n,slot:U,defaultTag:Ao,name:\"Combobox.Button\"})}let Ro=\"div\",Do=Fe.RenderStrategy|Fe.Static;function _o(C,h){var E,s,c;let e=le(),{id:o=`headlessui-combobox-options-${e}`,hold:A=!1,anchor:R,portal:v=!1,modal:T=!0,transition:I=!1,...m}=C,g=pe(\"Combobox.Options\"),n=ae(\"Combobox.Options\"),f=to(R);f&&(v=!0);let[a,u]=Ze(f),[S,d]=xe(null),k=eo(),W=ce(h,f?a:null,g.actions.setOptionsElement,d),[y,x,P,b,G]=D(g,p=>[p.comboboxState,p.inputElement,p.buttonElement,p.optionsElement,p.activationTrigger]),_=ge(x||P),z=ge(b),U=io(),[w,j]=je(I,S,U!==null?(U&fe.Open)===fe.Open:y===l.Open);Ge(w,x,g.actions.closeCombobox);let r=n.__demoMode?!1:T&&y===l.Open;Xe(r,z);let M=n.__demoMode?!1:T&&y===l.Open;Ue(M,{allowed:ee(()=>[x,P,b],[x,P,b])}),oe(()=>{var p;n.optionsPropsRef.current.static=(p=C.static)!=null?p:!1},[n.optionsPropsRef,C.static]),oe(()=>{n.optionsPropsRef.current.hold=A},[n.optionsPropsRef,A]),qe(y===l.Open,{container:b,accept(p){return p.getAttribute(\"role\")===\"option\"?NodeFilter.FILTER_REJECT:p.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute(\"role\",\"none\")}});let X=Ce([P==null?void 0:P.id]),i=K(()=>({open:y===l.Open,option:void 0}),[y]),H=O(()=>{g.actions.setActivationTrigger(J.Pointer)}),q=O(p=>{p.preventDefault(),g.actions.setActivationTrigger(J.Pointer)}),Q=ye(f?k():{},{\"aria-labelledby\":X,role:\"listbox\",\"aria-multiselectable\":n.mode===N.Multi?!0:void 0,id:o,ref:W,style:{...m.style,...u,\"--input-width\":Ae(x,!0).width,\"--button-width\":Ae(P,!0).width},onWheel:G===J.Pointer?void 0:H,onMouseDown:q,...Je(j)}),Y=w&&y===l.Closed,$=De(Y,(E=n.virtual)==null?void 0:E.options),be=De(Y,n.value),Z=O(p=>n.compare(be,p)),te=K(()=>{if(!n.virtual)return n;if($===void 0)throw new Error(\"Missing `options` in virtual mode\");return $!==n.virtual.options?{...n,virtual:{...n.virtual,options:$}}:n},[n,$,(s=n.virtual)==null?void 0:s.options]);n.virtual&&Object.assign(m,{children:F.createElement(de.Provider,{value:te},F.createElement(vo,{slot:i},m.children))});let t=ue(),B=K(()=>n.mode===N.Multi?n:{...n,isSelected:Z},[n,Z]);return F.createElement(xo,{enabled:v?C.static||w:!1,ownerDocument:_},F.createElement(de.Provider,{value:B},t({ourProps:Q,theirProps:{...m,children:F.createElement(ro,{freeze:Y},typeof m.children==\"function\"?(c=m.children)==null?void 0:c.call(m,i):m.children)},slot:i,defaultTag:Ro,features:Do,visible:w,name:\"Combobox.Options\"})))}let Fo=\"div\";function So(C,h){var r,M,X;let e=ae(\"Combobox.Option\"),o=pe(\"Combobox.Option\"),A=le(),{id:R=`headlessui-combobox-option-${A}`,value:v,disabled:T=(X=(M=(r=e.virtual)==null?void 0:r.disabled)==null?void 0:M.call(r,v))!=null?X:!1,order:I=null,...m}=C,[g]=D(o,i=>[i.inputElement]),n=Ie(g),f=D(o,ee(i=>o.selectors.isActive(i,v,R),[v,R])),a=e.isSelected(v),u=me(null),S=He({disabled:T,value:v,domRef:u,order:I}),d=he(Me),k=ce(h,u,d?d.measureElement:null),W=O(()=>{o.actions.setIsTyping(!1),o.actions.onChange(v)});oe(()=>o.actions.registerOption(R,S),[S,R]);let y=D(o,ee(i=>o.selectors.shouldScrollIntoView(i,v,R),[v,R]));oe(()=>{if(y)return po().requestAnimationFrame(()=>{var i,H;(H=(i=u.current)==null?void 0:i.scrollIntoView)==null||H.call(i,{block:\"nearest\"})})},[y,u]);let x=O(i=>{i.preventDefault(),i.button===Se.Left&&(T||(W(),mo()||requestAnimationFrame(()=>n()),e.mode===N.Single&&o.actions.closeCombobox()))}),P=O(()=>{if(T)return o.actions.goToOption({focus:L.Nothing});let i=e.calculateIndex(v);o.actions.goToOption({focus:L.Specific,idx:i})}),b=$e(),G=O(i=>b.update(i)),_=O(i=>{if(!b.wasMoved(i)||T||f&&o.state.activationTrigger===J.Pointer)return;let H=e.calculateIndex(v);o.actions.goToOption({focus:L.Specific,idx:H},J.Pointer)}),z=O(i=>{b.wasMoved(i)&&(T||f&&(e.optionsPropsRef.current.hold||o.state.activationTrigger===J.Pointer&&o.actions.goToOption({focus:L.Nothing})))}),U=K(()=>({active:f,focus:f,selected:a,disabled:T}),[f,a,T]),w={id:R,ref:k,role:\"option\",tabIndex:T===!0?void 0:-1,\"aria-disabled\":T===!0?!0:void 0,\"aria-selected\":a,disabled:void 0,onMouseDown:x,onFocus:P,onPointerEnter:G,onMouseEnter:G,onPointerMove:_,onMouseMove:_,onPointerLeave:z,onMouseLeave:z};return ue()({ourProps:w,theirProps:m,slot:U,defaultTag:Fo,name:\"Combobox.Option\"})}let Mo=se(Eo),Lo=se(Io),Vo=se(ho),wo=fo,Bo=se(_o),No=se(So),wt=Object.assign(Mo,{Input:Vo,Button:Lo,Label:wo,Options:Bo,Option:No});export{wt as Combobox,Lo as ComboboxButton,Vo as ComboboxInput,wo as ComboboxLabel,No as ComboboxOption,Bo as ComboboxOptions};\n","import{useState as u}from\"react\";function l(e){let[t]=u(e);return t}export{l as useDefaultValue};\n","import{useRef as o,useState as f}from\"react\";import{useEvent as a}from'./use-event.js';function T(l,r,c){let[i,s]=f(c),e=l!==void 0,t=o(e),u=o(!1),d=o(!1);return e&&!t.current&&!u.current?(u.current=!0,t.current=e,console.error(\"A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.\")):!e&&t.current&&!d.current&&(d.current=!0,t.current=e,console.error(\"A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.\")),[e?l:i,a(n=>(e||s(n),r==null?void 0:r(n)))]}export{T as useControllable};\n","import{useRef as a,useState as m}from\"react\";import{getOwnerDocument as d}from'../utils/owner.js';import{useDisposables as g}from'./use-disposables.js';import{useEvent as u}from'./use-event.js';function E(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function P(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function w({disabled:e=!1}={}){let t=a(null),[n,l]=m(!1),r=g(),o=u(()=>{t.current=null,l(!1),r.dispose()}),f=u(s=>{if(r.dispose(),t.current===null){t.current=s.currentTarget,l(!0);{let i=d(s.currentTarget);r.addEventListener(i,\"pointerup\",o,!1),r.addEventListener(i,\"pointermove\",c=>{if(t.current){let p=E(c);l(P(p,t.current.getBoundingClientRect()))}},!1),r.addEventListener(i,\"pointercancel\",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:f,onPointerUp:o,onClick:o}}}export{w as useActivePress};\n","import{useEffect as l}from\"react\";import{disposables as u}from'../utils/disposables.js';import*as c from'../utils/dom.js';import{useLatestValue as d}from'./use-latest-value.js';function p(s,n,o){let i=d(t=>{let e=t.getBoundingClientRect();e.x===0&&e.y===0&&e.width===0&&e.height===0&&o()});l(()=>{if(!s)return;let t=n===null?null:c.isHTMLElement(n)?n:n.current;if(!t)return;let e=u();if(typeof ResizeObserver!=\"undefined\"){let r=new ResizeObserver(()=>i.current(t));r.observe(t),e.add(()=>r.disconnect())}if(typeof IntersectionObserver!=\"undefined\"){let r=new IntersectionObserver(()=>i.current(t));r.observe(t),e.add(()=>r.disconnect())}return()=>e.dispose()},[n,i,s])}export{p as useOnDisappear};\n","import{useEffect as T,useRef as E}from\"react\";import{getOwnerDocument as d}from'../utils/owner.js';import{useIsoMorphicEffect as N}from'./use-iso-morphic-effect.js';function F(c,{container:e,accept:t,walk:r}){let o=E(t),l=E(r);T(()=>{o.current=t,l.current=r},[t,r]),N(()=>{if(!e||!c)return;let n=d(e);if(!n)return;let f=o.current,p=l.current,i=Object.assign(m=>f(m),{acceptNode:f}),u=n.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,i,!1);for(;u.nextNode();)p(u.currentNode)},[e,c,o,l])}export{F as useTreeWalker};\n","/**\n * Fuse.js v7.1.0 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2025 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray\n    ? getTag(value) === '[object Array]'\n    : Array.isArray(value)\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value)\n}\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number'\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\n  )\n}\n\nfunction isObject(value) {\n  return typeof value === 'object'\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null\n}\n\nfunction isBlank(value) {\n  return !value.trim().length\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null\n    ? value === undefined\n      ? '[object Undefined]'\n      : '[object Null]'\n    : Object.prototype.toString.call(value)\n}\n\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\n\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\n  `Invalid value for key ${key}`;\n\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\n  `Pattern length exceeds max of ${max}.`;\n\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\n\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\n  `Property 'weight' in key '${key}' must be a positive integer`;\n\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n\n    let totalWeight = 0;\n\n    keys.forEach((key) => {\n      let obj = createKey(key);\n\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach((key) => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId]\n  }\n  keys() {\n    return this._keys\n  }\n  toJSON() {\n    return JSON.stringify(this._keys)\n  }\n}\n\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n  let getFn = null;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'))\n    }\n\n    const name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n    getFn = key.getFn;\n  }\n\n  return { path, id, weight, src, getFn }\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.')\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key\n}\n\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n\n      const value = obj[key];\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (\n        index === path.length - 1 &&\n        (isString(value) || isNumber(value) || isBoolean(value))\n      ) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n\n  return arr ? list : list[0]\n}\n\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\n\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When `true`, the algorithm will ignore diacritics (accents) in comparisons\n  ignoreDiacritics: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) =>\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\n};\n\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\n\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\n\nvar Config = {\n  ...BasicOptions,\n  ...MatchOptions,\n  ...FuzzyOptions,\n  ...AdvancedOptions\n};\n\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens)\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n\n      cache.set(numTokens, n);\n\n      return n\n    },\n    clear() {\n      cache.clear();\n    }\n  }\n}\n\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return\n    }\n\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]]\n  }\n  size() {\n    return this.records.length\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return\n    }\n\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = { i: docIndex, $: {} };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{ nestedArrIndex: -1, value }];\n\n        while (stack.length) {\n          const { nestedArrIndex, value } = stack.pop();\n\n          if (!isDefined(value)) {\n            continue\n          }\n\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (isString(value) && !isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n\n        record.$[keyIndex] = subRecord;\n      }\n    });\n\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    }\n  }\n}\n\nfunction createIndex(\n  keys,\n  docs,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex\n}\n\nfunction parseIndex(\n  data,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const { keys, records } = data;\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex\n}\n\nfunction computeScore$1(\n  pattern,\n  {\n    errors = 0,\n    currentLocation = 0,\n    expectedLocation = 0,\n    distance = Config.distance,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  const accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy\n  }\n\n  const proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy\n  }\n\n  return accuracy + proximity / distance\n}\n\nfunction convertMaskToIndices(\n  matchmask = [],\n  minMatchCharLength = Config.minMatchCharLength\n) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices\n}\n\n// Machine word size\nconst MAX_BITS = 32;\n\nfunction search(\n  text,\n  pattern,\n  patternAlphabet,\n  {\n    location = Config.location,\n    distance = Config.distance,\n    threshold = Config.threshold,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    includeMatches = Config.includeMatches,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\n  }\n\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n\n  const mask = 1 << (patternLen - 1);\n\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches\n      ? textLen\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << i) - 1;\n\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |=\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    if (score > currentThreshold) {\n      break\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result\n}\n\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\n  }\n\n  return mask\n}\n\nconst stripDiacritics = String.prototype.normalize\n    ? ((str) => str.normalize('NFD').replace(/[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C04\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00-\\u0D03\\u0D3B\\u0D3C\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF7-\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F]/g, ''))\n    : ((str) => str);\n\nclass BitapSearch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreDiacritics = Config.ignoreDiacritics,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreDiacritics,\n      ignoreLocation\n    };\n\n    pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    pattern = ignoreDiacritics ? stripDiacritics(pattern) : pattern;\n    this.pattern = pattern;\n\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return\n    }\n\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n\n    const len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  searchIn(text) {\n    const { isCaseSensitive, ignoreDiacritics, includeMatches } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n    text = ignoreDiacritics ? stripDiacritics(text) : text;\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n\n      return result\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n\n      if (isMatch) {\n        hasMatches = true;\n      }\n\n      totalScore += score;\n\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n\n    return result\n  }\n}\n\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex)\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex)\n  }\n  search(/*text*/) {}\n}\n\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact'\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^=(.*)$/\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!(.*)$/\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact'\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact'\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    }\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\nclass FuzzyMatch extends BaseMatch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreDiacritics = Config.ignoreDiacritics,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreDiacritics,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^(.*)$/\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text)\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include'\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^'(.*)$/\n  }\n  search(text) {\n    let location = 0;\n    let index;\n\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n\n    const isMatch = !!indices.length;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    }\n  }\n}\n\n// Order is important. DO NOT CHANGE.\nconst searchers = [\n  ExactMatch,\n  IncludeMatch,\n  PrefixExactMatch,\n  InversePrefixExactMatch,\n  InverseSuffixExactMatch,\n  SuffixExactMatch,\n  InverseExactMatch,\n  FuzzyMatch\n];\n\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map((item) => {\n    let query = item\n      .trim()\n      .split(SPACE_RE)\n      .filter((item) => item && !!item.trim());\n\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break\n        }\n      }\n    }\n\n    return results\n  })\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(\n    pattern,\n    {\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreDiacritics = Config.ignoreDiacritics,\n      includeMatches = Config.includeMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      ignoreLocation = Config.ignoreLocation,\n      findAllMatches = Config.findAllMatches,\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance\n    } = {}\n  ) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      ignoreDiacritics,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n\n    pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    pattern = ignoreDiacritics ? stripDiacritics(pattern) : pattern;\n    this.pattern = pattern;\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  static condition(_, options) {\n    return options.useExtendedSearch\n  }\n\n  searchIn(text) {\n    const query = this.query;\n\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      }\n    }\n\n    const { includeMatches, isCaseSensitive, ignoreDiacritics } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n    text = ignoreDiacritics ? stripDiacritics(text) : text;\n\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const { isMatch, indices, score } = searcher.search(text);\n\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n\n        return result\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    }\n  }\n}\n\nconst registeredSearchers = [];\n\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\n\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options)\n    }\n  }\n\n  return new BitapSearch(pattern, options)\n}\n\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\n\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nconst isExpression = (query) =>\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n\nconst isPath = (query) => !!query[KeyType.PATH];\n\nconst isLeaf = (query) =>\n  !isArray(query) && isObject(query) && !isExpression(query);\n\nconst convertToExplicit = (query) => ({\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, { auto = true } = {}) {\n  const next = (query) => {\n    let keys = Object.keys(query);\n\n    const isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query))\n    }\n\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\n      }\n\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj\n    }\n\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n\n    keys.forEach((key) => {\n      const value = query[key];\n\n      if (isArray(value)) {\n        value.forEach((item) => {\n          node.children.push(next(item));\n        });\n      }\n    });\n\n    return node\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query)\n}\n\n// Practical scoring function\nfunction computeScore(\n  results,\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\n) {\n  results.forEach((result) => {\n    let totalScore = 1;\n\n    result.matches.forEach(({ key, norm, score }) => {\n      const weight = key ? key.weight : null;\n\n      totalScore *= Math.pow(\n        score === 0 && weight ? Number.EPSILON : score,\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\n      );\n    });\n\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return\n  }\n\n  matches.forEach((match) => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return\n    }\n\n    const { indices, value } = match;\n\n    let obj = {\n      indices,\n      value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(\n  results,\n  docs,\n  {\n    includeMatches = Config.includeMatches,\n    includeScore = Config.includeScore\n  } = {}\n) {\n  const transformers = [];\n\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n\n  return results.map((result) => {\n    const { idx } = result;\n\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach((transformer) => {\n        transformer(result, data);\n      });\n    }\n\n    return data\n  })\n}\n\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = { ...Config, ...options };\n\n    if (\n      this.options.useExtendedSearch &&\n      !true\n    ) {\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE)\n    }\n\n    this._keyStore = new KeyStore(this.options.keys);\n\n    this.setCollection(docs, index);\n  }\n\n  setCollection(docs, index) {\n    this._docs = docs;\n\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE)\n    }\n\n    this._myIndex =\n      index ||\n      createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn,\n        fieldNormWeight: this.options.fieldNormWeight\n      });\n  }\n\n  add(doc) {\n    if (!isDefined(doc)) {\n      return\n    }\n\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n\n  remove(predicate = (/* doc, idx */) => false) {\n    const results = [];\n\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n\n        results.push(doc);\n      }\n    }\n\n    return results\n  }\n\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n\n  getIndex() {\n    return this._myIndex\n  }\n\n  search(query, { limit = -1 } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n\n    let results = isString(query)\n      ? isString(this._docs[0])\n        ? this._searchStringList(query)\n        : this._searchObjectList(query)\n      : this._searchLogical(query);\n\n    computeScore(results, { ignoreFieldNorm });\n\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    })\n  }\n\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { records } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({ v: text, i: idx, n: norm }) => {\n      if (!isDefined(text)) {\n        return\n      }\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{ score, value: text, norm, indices }]\n        });\n      }\n    });\n\n    return results\n  }\n\n  _searchLogical(query) {\n\n    const expression = parse(query, this.options);\n\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const { keyId, searcher } = node;\n\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n\n        if (matches && matches.length) {\n          return [\n            {\n              idx,\n              item,\n              matches\n            }\n          ]\n        }\n\n        return []\n      }\n\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return []\n        }\n      }\n      return res\n    };\n\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n\n    records.forEach(({ $: item, i: idx }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = { idx, item, matches: [] };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({ matches }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n\n    return results\n  }\n\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { keys, records } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({ $: item, i: idx }) => {\n      if (!isDefined(item)) {\n        return\n      }\n\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(\n          ...this._findMatches({\n            key,\n            value: item[keyIndex],\n            searcher\n          })\n        );\n      });\n\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n\n    return results\n  }\n  _findMatches({ key, value, searcher }) {\n    if (!isDefined(value)) {\n      return []\n    }\n\n    let matches = [];\n\n    if (isArray(value)) {\n      value.forEach(({ v: text, i: idx, n: norm }) => {\n        if (!isDefined(text)) {\n          return\n        }\n\n        const { isMatch, score, indices } = searcher.searchIn(text);\n\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const { v: text, n: norm } = value;\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        matches.push({ score, key, value: text, norm, indices });\n      }\n    }\n\n    return matches\n  }\n}\n\nFuse.version = '7.1.0';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\nexport { Fuse as default };\n","import * as React from \"react\";\nfunction XCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(XCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MagnifyingGlassIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MagnifyingGlassIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ArrowUturnRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M14.47 2.47a.75.75 0 0 1 1.06 0l6 6a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 1 1-1.06-1.06l4.72-4.72H9a5.25 5.25 0 1 0 0 10.5h3a.75.75 0 0 1 0 1.5H9a6.75 6.75 0 0 1 0-13.5h10.19l-4.72-4.72a.75.75 0 0 1 0-1.06Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowUturnRightIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ArrowUpCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm.53 5.47a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 1 0 1.06 1.06l1.72-1.72v5.69a.75.75 0 0 0 1.5 0v-5.69l1.72 1.72a.75.75 0 1 0 1.06-1.06l-3-3Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowUpCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ArrowDownCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-.53 14.03a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72V8.25a.75.75 0 0 0-1.5 0v5.69l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowDownCircleIcon);\nexport default ForwardRef;","import React, { useState, useEffect, useRef } from \"react\";\nimport { graphql, useStaticQuery, navigate } from \"gatsby\";\nimport {\n  Combobox,\n  ComboboxInput,\n  ComboboxOption,\n  ComboboxOptions,\n} from \"@headlessui/react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport Fuse from \"fuse.js\";\nimport {\n  ArrowUturnRightIcon,\n  ArrowDownCircleIcon,\n  ArrowUpCircleIcon,\n  XCircleIcon,\n  MagnifyingGlassIcon,\n} from \"@heroicons/react/24/solid\";\nimport { useClickAway } from \"@uidotdev/usehooks\";\n\nconst Empty = () => (\n  <div className=\"rounded-lg my-6 text-sm sm:text-base text-center\">\n    <p>\n      \n      <span className=\"font-bold text-purple-dark\"></span>\n      \n    </p>\n    <p className=\"mt-4\"></p>\n  </div>\n);\n\nexport default function Search() {\n  const data = useStaticQuery(graphql`\n    query sitePosts {\n      allMdx(sort: { fields: { date: DESC } }) {\n        posts: nodes {\n          excerpt(pruneLength: 10000)\n          frontmatter {\n            title\n          }\n          fields {\n            slug\n            date\n          }\n        }\n      }\n      site {\n        siteMetadata {\n          url\n        }\n      }\n    }\n  `);\n\n  const posts =\n    data.allMdx.posts.map((post) => ({\n      title: post.frontmatter.title,\n      url: `/${post.fields.slug}`,\n      content: post.excerpt,\n      date: post.fields.date,\n    })) || [];\n\n  const [query, setQuery] = useState(\"\");\n  const [selectedPost, setSelectedPost] = useState();\n  const [isOpen, setIsOpen] = useState(false);\n  const inputRef = useRef(null);\n\n  const fuse = new Fuse(posts, {\n    shouldSort: true,\n    threshold: 0.6,\n    location: 0,\n    distance: 1000,\n    maxPatternLength: 32,\n    minMatchCharLength: 1,\n    keys: [\"title\", \"content\", \"url\"],\n  });\n\n  const safeQuery = typeof query === \"string\" ? query : \"\";\n\n  const filteredOptions =\n    safeQuery.trim() === \"\"\n      ? posts\n      : fuse.search(safeQuery).map((result) => result.item);\n\n  const ref = useClickAway(() => {\n    setIsOpen(false);\n  });\n\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (document.activeElement.tagName === \"INPUT\") {\n        if (event.key === \"Escape\") {\n          event.preventDefault();\n          setIsOpen(false);\n        }\n        return;\n      }\n\n      if ((event.metaKey || event.ctrlKey) && event.key === \"k\") {\n        event.preventDefault();\n        setIsOpen(true);\n      } else if (event.key === \"s\" && !event.metaKey && !event.ctrlKey) {\n        event.preventDefault();\n        setIsOpen(true);\n      } else if (event.key === \"Escape\") {\n        setIsOpen(false);\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      inputRef.current.focus();\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"auto\";\n    }\n  }, [isOpen]);\n\n  const handleSelect = (post) => {\n    if (post) {\n      setSelectedPost(post);\n      setQuery(post.title);\n      navigate(post.url);\n    }\n  };\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          variants={{\n            open: {\n              opacity: 1,\n              scale: 1,\n              transition: {\n                duration: 0.24,\n                ease: \"easeOut\",\n              },\n            },\n            closed: {\n              opacity: 0,\n              scale: 0.95,\n              transition: {\n                duration: 0.24,\n                ease: \"easeOut\",\n              },\n            },\n          }}\n          initial=\"closed\"\n          animate=\"open\"\n          exit=\"closed\"\n          className=\"hidden lg:block fixed inset-0 bg-purple-dark/40 backdrop-blur-md\"\n        >\n          <div\n            ref={ref}\n            className=\"relative w-1/2 mx-auto mt-12 bg-white/70 backdrop-blur-lg rounded-lg shadow-lg p-4 pb-10 will-change-transform\"\n          >\n            <button\n              className=\"absolute -top-4 -right-5 cursor-pointer\"\n              onClick={() => setIsOpen(false)}\n              aria-label=\"Close search\"\n            >\n              <XCircleIcon className=\"text-white size-8\" />\n            </button>\n\n            <Combobox value={selectedPost} onChange={handleSelect}>\n              <div className=\"flex items-center rounded-lg px-4 py-3 bg-white/80 backdrop-blur-md shadow-sm\">\n                <MagnifyingGlassIcon className=\"size-6 text-purple-dark\" />\n                <ComboboxInput\n                  ref={inputRef}\n                  className=\"w-full border-none focus:outline-none px-2 bg-transparent\"\n                  placeholder=\"Search...\"\n                  displayValue={(post) => post?.title || \"\"}\n                  onKeyDown={(e) => {\n                    if (e.key === \"Tab\") {\n                      // Default behavior:\n                      // Selects the currently focused item and closes the combobox\n                      // disable it\n                      e.preventDefault();\n                    }\n                  }}\n                  onChange={(event) => {\n                    setQuery(event.target.value || \"\");\n                  }}\n                />\n              </div>\n              <div className=\"py-4 h-full overflow-auto mask-b-from-90%\">\n                <ComboboxOptions\n                  data-open\n                  transition\n                  className=\"origin-top transition duration-200 ease-out empty:invisible data-[closed]:scale-95 data-[closed]:opacity-0\"\n                  style={{ maxHeight: \"60vh\" }}\n                >\n                  {filteredOptions.map((post) => (\n                    <ComboboxOption\n                      key={post?.url}\n                      value={post}\n                      className=\"group flex flex-col gap-2 px-4 py-2 cursor-pointer rounded-lg data-[focus]:bg-purple-dark/30\"\n                    >\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-purple-dark/80 font-bold\">\n                          {post?.title || \"Untitled\"}\n                        </span>\n                        <span className=\"text-gray-darkest text-sm\">\n                          {post?.date || \"\"}\n                        </span>\n                      </div>\n                      <div className=\"flex gap-4\">\n                        <span className=\"text-sm text-purple-dark/70\">\n                          {(post?.content || \"\").slice(0, 80)}...\n                        </span>\n                        <div className=\"w-4 h-4 ml-auto\">\n                          <ArrowUturnRightIcon className=\"invisible size-5 ml-auto group-data-[focus]:visible\" />\n                        </div>\n                      </div>\n                    </ComboboxOption>\n                  ))}\n                  {filteredOptions.length === 0 && <Empty />}\n                </ComboboxOptions>\n              </div>\n            </Combobox>\n\n            <div className=\"absolute inset-x-0 px-4\">\n              <div className=\"h-8 flex items-center gap-6 px-4 bg-pink-dark/80 rounded-lg\">\n                <div className=\"flex items-center gap-1\">\n                  <ArrowUpCircleIcon className=\"size-6 text-white\" />\n                  <ArrowDownCircleIcon className=\"size-6 text-white\" />\n                  <span className=\"text-sm text-gray-light/90\">\n                    to Navigate\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <ArrowUturnRightIcon className=\"size-4 text-white\" />\n                  <span className=\"text-sm text-gray-light/90\">to Open</span>\n                </div>\n                <div className=\"ml-auto text-gray-lighter text-sm\">\n                  Press{\" \"}\n                  <span className=\"font-bold text-purple-dark/65\">Esc</span> to\n                  Clear/Close\n                </div>\n              </div>\n            </div>\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n","import * as React from \"react\";\n\nfunction isShallowEqual(object1, object2) {\n  const keys1 = Object.keys(object1);\n  const keys2 = Object.keys(object2);\n\n  if (keys1.length !== keys2.length) {\n    return false;\n  }\n\n  for (let key of keys1) {\n    if (object1[key] !== object2[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isTouchEvent({ nativeEvent }) {\n  return window.TouchEvent\n    ? nativeEvent instanceof TouchEvent\n    : \"touches\" in nativeEvent;\n}\n\nfunction isMouseEvent(event) {\n  return event.nativeEvent instanceof MouseEvent;\n}\n\nfunction throttle(cb, ms) {\n  let lastTime = 0;\n  return () => {\n    const now = Date.now();\n    if (now - lastTime >= ms) {\n      cb();\n      lastTime = now;\n    }\n  };\n}\n\nfunction isPlainObject(value) {\n  return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n\nfunction dispatchStorageEvent(key, newValue) {\n  window.dispatchEvent(new StorageEvent(\"storage\", { key, newValue }));\n}\n\nexport function useBattery() {\n  const [state, setState] = React.useState({\n    supported: true,\n    loading: true,\n    level: null,\n    charging: null,\n    chargingTime: null,\n    dischargingTime: null,\n  });\n\n  React.useEffect(() => {\n    if (!navigator.getBattery) {\n      setState((s) => ({\n        ...s,\n        supported: false,\n        loading: false,\n      }));\n      return;\n    }\n\n    let battery = null;\n\n    const handleChange = () => {\n      setState({\n        supported: true,\n        loading: false,\n        level: battery.level,\n        charging: battery.charging,\n        chargingTime: battery.chargingTime,\n        dischargingTime: battery.dischargingTime,\n      });\n    };\n\n    navigator.getBattery().then((b) => {\n      battery = b;\n      handleChange();\n\n      b.addEventListener(\"levelchange\", handleChange);\n      b.addEventListener(\"chargingchange\", handleChange);\n      b.addEventListener(\"chargingtimechange\", handleChange);\n      b.addEventListener(\"dischargingtimechange\", handleChange);\n    });\n\n    return () => {\n      if (battery) {\n        battery.removeEventListener(\"levelchange\", handleChange);\n        battery.removeEventListener(\"chargingchange\", handleChange);\n        battery.removeEventListener(\"chargingtimechange\", handleChange);\n        battery.removeEventListener(\"dischargingtimechange\", handleChange);\n      }\n    };\n  }, []);\n\n  return state;\n}\n\nexport function useClickAway(cb) {\n  const ref = React.useRef(null);\n  const refCb = React.useRef(cb);\n\n  React.useLayoutEffect(() => {\n    refCb.current = cb;\n  });\n\n  React.useEffect(() => {\n    const handler = (e) => {\n      const element = ref.current;\n      if (element && !element.contains(e.target)) {\n        refCb.current(e);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handler);\n    document.addEventListener(\"touchstart\", handler);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handler);\n      document.removeEventListener(\"touchstart\", handler);\n    };\n  }, []);\n\n  return ref;\n}\n\nfunction oldSchoolCopy(text) {\n  const tempTextArea = document.createElement(\"textarea\");\n  tempTextArea.value = text;\n  document.body.appendChild(tempTextArea);\n  tempTextArea.select();\n  document.execCommand(\"copy\");\n  document.body.removeChild(tempTextArea);\n}\n\nexport function useCopyToClipboard() {\n  const [state, setState] = React.useState(null);\n\n  const copyToClipboard = React.useCallback((value) => {\n    const handleCopy = async () => {\n      try {\n        if (navigator?.clipboard?.writeText) {\n          await navigator.clipboard.writeText(value);\n          setState(value);\n        } else {\n          throw new Error(\"writeText not supported\");\n        }\n      } catch (e) {\n        oldSchoolCopy(value);\n        setState(value);\n      }\n    };\n\n    handleCopy();\n  }, []);\n\n  return [state, copyToClipboard];\n}\n\nexport function useCounter(startingValue = 0, options = {}) {\n  const { min, max } = options;\n\n  if (typeof min === \"number\" && startingValue < min) {\n    throw new Error(\n      `Your starting value of ${startingValue} is less than your min of ${min}.`\n    );\n  }\n\n  if (typeof max === \"number\" && startingValue > max) {\n    throw new Error(\n      `Your starting value of ${startingValue} is greater than your max of ${max}.`\n    );\n  }\n\n  const [count, setCount] = React.useState(startingValue);\n\n  const increment = React.useCallback(() => {\n    setCount((c) => {\n      const nextCount = c + 1;\n\n      if (typeof max === \"number\" && nextCount > max) {\n        return c;\n      }\n\n      return nextCount;\n    });\n  }, [max]);\n\n  const decrement = React.useCallback(() => {\n    setCount((c) => {\n      const nextCount = c - 1;\n\n      if (typeof min === \"number\" && nextCount < min) {\n        return c;\n      }\n\n      return nextCount;\n    });\n  }, [min]);\n\n  const set = React.useCallback(\n    (nextCount) => {\n      setCount((c) => {\n        if (typeof max === \"number\" && nextCount > max) {\n          return c;\n        }\n\n        if (typeof min === \"number\" && nextCount < min) {\n          return c;\n        }\n\n        return nextCount;\n      });\n    },\n    [max, min]\n  );\n\n  const reset = React.useCallback(() => {\n    setCount(startingValue);\n  }, [startingValue]);\n\n  return [\n    count,\n    {\n      increment,\n      decrement,\n      set,\n      reset,\n    },\n  ];\n}\n\nexport function useDebounce(value, delay) {\n  const [debouncedValue, setDebouncedValue] = React.useState(value);\n\n  React.useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\nexport function useDefault(initialValue, defaultValue) {\n  const [state, setState] = React.useState(initialValue);\n\n  if (typeof state === \"undefined\" || state === null) {\n    return [defaultValue, setState];\n  }\n\n  return [state, setState];\n}\n\nexport function useDocumentTitle(title) {\n  React.useEffect(() => {\n    document.title = title;\n  }, [title]);\n}\n\nexport function useFavicon(url) {\n  React.useEffect(() => {\n    let link = document.querySelector(`link[rel~=\"icon\"]`);\n\n    if (!link) {\n      link = document.createElement(\"link\");\n      link.type = \"image/x-icon\";\n      link.rel = \"icon\";\n      link.href = url;\n      document.head.appendChild(link);\n    } else {\n      link.href = url;\n    }\n  }, [url]);\n}\n\nexport function useGeolocation(options = {}) {\n  const [state, setState] = React.useState({\n    loading: true,\n    accuracy: null,\n    altitude: null,\n    altitudeAccuracy: null,\n    heading: null,\n    latitude: null,\n    longitude: null,\n    speed: null,\n    timestamp: null,\n    error: null,\n  });\n\n  const optionsRef = React.useRef(options);\n\n  React.useEffect(() => {\n    const onEvent = ({ coords, timestamp }) => {\n      setState({\n        loading: false,\n        timestamp,\n        latitude: coords.latitude,\n        longitude: coords.longitude,\n        altitude: coords.altitude,\n        accuracy: coords.accuracy,\n        altitudeAccuracy: coords.altitudeAccuracy,\n        heading: coords.heading,\n        speed: coords.speed,\n      });\n    };\n\n    const onEventError = (error) => {\n      setState((s) => ({\n        ...s,\n        loading: false,\n        error,\n      }));\n    };\n\n    navigator.geolocation.getCurrentPosition(\n      onEvent,\n      onEventError,\n      optionsRef.current\n    );\n\n    const watchId = navigator.geolocation.watchPosition(\n      onEvent,\n      onEventError,\n      optionsRef.current\n    );\n\n    return () => {\n      navigator.geolocation.clearWatch(watchId);\n    };\n  }, []);\n\n  return state;\n}\n\nconst initialUseHistoryStateState = {\n  past: [],\n  present: null,\n  future: [],\n};\n\nconst useHistoryStateReducer = (state, action) => {\n  const { past, present, future } = state;\n\n  if (action.type === \"UNDO\") {\n    return {\n      past: past.slice(0, past.length - 1),\n      present: past[past.length - 1],\n      future: [present, ...future],\n    };\n  } else if (action.type === \"REDO\") {\n    return {\n      past: [...past, present],\n      present: future[0],\n      future: future.slice(1),\n    };\n  } else if (action.type === \"SET\") {\n    const { newPresent } = action;\n\n    if (action.newPresent === present) {\n      return state;\n    }\n\n    return {\n      past: [...past, present],\n      present: newPresent,\n      future: [],\n    };\n  } else if (action.type === \"CLEAR\") {\n    return {\n      ...initialUseHistoryStateState,\n      present: action.initialPresent,\n    };\n  } else {\n    throw new Error(\"Unsupported action type\");\n  }\n};\n\nexport function useHistoryState(initialPresent = {}) {\n  const initialPresentRef = React.useRef(initialPresent);\n\n  const [state, dispatch] = React.useReducer(useHistoryStateReducer, {\n    ...initialUseHistoryStateState,\n    present: initialPresentRef.current,\n  });\n\n  const canUndo = state.past.length !== 0;\n  const canRedo = state.future.length !== 0;\n\n  const undo = React.useCallback(() => {\n    if (canUndo) {\n      dispatch({ type: \"UNDO\" });\n    }\n  }, [canUndo]);\n\n  const redo = React.useCallback(() => {\n    if (canRedo) {\n      dispatch({ type: \"REDO\" });\n    }\n  }, [canRedo]);\n\n  const set = React.useCallback(\n    (newPresent) => dispatch({ type: \"SET\", newPresent }),\n    []\n  );\n\n  const clear = React.useCallback(\n    () =>\n      dispatch({ type: \"CLEAR\", initialPresent: initialPresentRef.current }),\n    []\n  );\n\n  return { state: state.present, set, undo, redo, clear, canUndo, canRedo };\n}\n\nexport function useHover() {\n  const [hovering, setHovering] = React.useState(false);\n  const previousNode = React.useRef(null);\n\n  const handleMouseEnter = React.useCallback(() => {\n    setHovering(true);\n  }, []);\n\n  const handleMouseLeave = React.useCallback(() => {\n    setHovering(false);\n  }, []);\n\n  const customRef = React.useCallback(\n    (node) => {\n      if (previousNode.current?.nodeType === Node.ELEMENT_NODE) {\n        previousNode.current.removeEventListener(\n          \"mouseenter\",\n          handleMouseEnter\n        );\n        previousNode.current.removeEventListener(\n          \"mouseleave\",\n          handleMouseLeave\n        );\n      }\n\n      if (node?.nodeType === Node.ELEMENT_NODE) {\n        node.addEventListener(\"mouseenter\", handleMouseEnter);\n        node.addEventListener(\"mouseleave\", handleMouseLeave);\n      }\n\n      previousNode.current = node;\n    },\n    [handleMouseEnter, handleMouseLeave]\n  );\n\n  return [customRef, hovering];\n}\n\nexport function useIdle(ms = 1000 * 60) {\n  const [idle, setIdle] = React.useState(false);\n\n  React.useEffect(() => {\n    let timeoutId;\n\n    const handleTimeout = () => {\n      setIdle(true);\n    };\n\n    const handleEvent = throttle((e) => {\n      setIdle(false);\n\n      window.clearTimeout(timeoutId);\n      timeoutId = window.setTimeout(handleTimeout, ms);\n    }, 500);\n\n    const handleVisibilityChange = () => {\n      if (!document.hidden) {\n        handleEvent();\n      }\n    };\n\n    timeoutId = window.setTimeout(handleTimeout, ms);\n\n    window.addEventListener(\"mousemove\", handleEvent);\n    window.addEventListener(\"mousedown\", handleEvent);\n    window.addEventListener(\"resize\", handleEvent);\n    window.addEventListener(\"keydown\", handleEvent);\n    window.addEventListener(\"touchstart\", handleEvent);\n    window.addEventListener(\"wheel\", handleEvent);\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n\n    return () => {\n      window.removeEventListener(\"mousemove\", handleEvent);\n      window.removeEventListener(\"mousedown\", handleEvent);\n      window.removeEventListener(\"resize\", handleEvent);\n      window.removeEventListener(\"keydown\", handleEvent);\n      window.removeEventListener(\"touchstart\", handleEvent);\n      window.removeEventListener(\"wheel\", handleEvent);\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n      window.clearTimeout(timeoutId);\n    };\n  }, [ms]);\n\n  return idle;\n}\n\nexport function useIntersectionObserver(options = {}) {\n  const { threshold = 1, root = null, rootMargin = \"0px\" } = options;\n  const [entry, setEntry] = React.useState(null);\n\n  const previousObserver = React.useRef(null);\n\n  const customRef = React.useCallback(\n    (node) => {\n      if (previousObserver.current) {\n        previousObserver.current.disconnect();\n        previousObserver.current = null;\n      }\n\n      if (node?.nodeType === Node.ELEMENT_NODE) {\n        const observer = new IntersectionObserver(\n          ([entry]) => {\n            setEntry(entry);\n          },\n          { threshold, root, rootMargin }\n        );\n\n        observer.observe(node);\n        previousObserver.current = observer;\n      }\n    },\n    [threshold, root, rootMargin]\n  );\n\n  return [customRef, entry];\n}\n\nexport function useIsClient() {\n  const [isClient, setIsClient] = React.useState(false);\n\n  React.useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  return isClient;\n}\n\nexport function useIsFirstRender() {\n  const renderRef = React.useRef(true);\n\n  if (renderRef.current === true) {\n    renderRef.current = false;\n    return true;\n  }\n\n  return renderRef.current;\n}\n\nexport function useList(defaultList = []) {\n  const [list, setList] = React.useState(defaultList);\n\n  const set = React.useCallback((l) => {\n    setList(l);\n  }, []);\n\n  const push = React.useCallback((element) => {\n    setList((l) => [...l, element]);\n  }, []);\n\n  const removeAt = React.useCallback((index) => {\n    setList((l) => [...l.slice(0, index), ...l.slice(index + 1)]);\n  }, []);\n\n  const insertAt = React.useCallback((index, element) => {\n    setList((l) => [...l.slice(0, index), element, ...l.slice(index)]);\n  }, []);\n\n  const updateAt = React.useCallback((index, element) => {\n    setList((l) => l.map((e, i) => (i === index ? element : e)));\n  }, []);\n\n  const clear = React.useCallback(() => setList([]), []);\n\n  return [list, { set, push, removeAt, insertAt, updateAt, clear }];\n}\n\nconst setLocalStorageItem = (key, value) => {\n  const stringifiedValue = JSON.stringify(value);\n  window.localStorage.setItem(key, stringifiedValue);\n  dispatchStorageEvent(key, stringifiedValue);\n};\n\nconst removeLocalStorageItem = (key) => {\n  window.localStorage.removeItem(key);\n  dispatchStorageEvent(key, null);\n};\n\nconst getLocalStorageItem = (key) => {\n  return window.localStorage.getItem(key);\n};\n\nconst useLocalStorageSubscribe = (callback) => {\n  window.addEventListener(\"storage\", callback);\n  return () => window.removeEventListener(\"storage\", callback);\n};\n\nconst getLocalStorageServerSnapshot = () => {\n  throw Error(\"useLocalStorage is a client-only hook\");\n};\n\nexport function useLocalStorage(key, initialValue) {\n  const getSnapshot = () => getLocalStorageItem(key);\n\n  const store = React.useSyncExternalStore(\n    useLocalStorageSubscribe,\n    getSnapshot,\n    getLocalStorageServerSnapshot\n  );\n\n  const setState = React.useCallback(\n    (v) => {\n      try {\n        const nextState = typeof v === \"function\" ? v(JSON.parse(store)) : v;\n\n        if (nextState === undefined || nextState === null) {\n          removeLocalStorageItem(key);\n        } else {\n          setLocalStorageItem(key, nextState);\n        }\n      } catch (e) {\n        console.warn(e);\n      }\n    },\n    [key, store]\n  );\n\n  React.useEffect(() => {\n    if (\n      getLocalStorageItem(key) === null &&\n      typeof initialValue !== \"undefined\"\n    ) {\n      setLocalStorageItem(key, initialValue);\n    }\n  }, [key, initialValue]);\n\n  return [store ? JSON.parse(store) : initialValue, setState];\n}\n\nexport function useLockBodyScroll() {\n  React.useLayoutEffect(() => {\n    const originalStyle = window.getComputedStyle(document.body).overflow;\n    document.body.style.overflow = \"hidden\";\n    return () => {\n      document.body.style.overflow = originalStyle;\n    };\n  }, []);\n}\n\nexport function useLongPress(callback, options = {}) {\n  const { threshold = 400, onStart, onFinish, onCancel } = options;\n  const isLongPressActive = React.useRef(false);\n  const isPressed = React.useRef(false);\n  const timerId = React.useRef();\n\n  return React.useMemo(() => {\n    if (typeof callback !== \"function\") {\n      return {};\n    }\n\n    const start = (event) => {\n      if (!isMouseEvent(event) && !isTouchEvent(event)) return;\n\n      if (onStart) {\n        onStart(event);\n      }\n\n      isPressed.current = true;\n      timerId.current = setTimeout(() => {\n        callback(event);\n        isLongPressActive.current = true;\n      }, threshold);\n    };\n\n    const cancel = (event) => {\n      if (!isMouseEvent(event) && !isTouchEvent(event)) return;\n\n      if (isLongPressActive.current) {\n        if (onFinish) {\n          onFinish(event);\n        }\n      } else if (isPressed.current) {\n        if (onCancel) {\n          onCancel(event);\n        }\n      }\n\n      isLongPressActive.current = false;\n      isPressed.current = false;\n\n      if (timerId.current) {\n        window.clearTimeout(timerId.current);\n      }\n    };\n\n    const mouseHandlers = {\n      onMouseDown: start,\n      onMouseUp: cancel,\n      onMouseLeave: cancel,\n    };\n\n    const touchHandlers = {\n      onTouchStart: start,\n      onTouchEnd: cancel,\n    };\n\n    return {\n      ...mouseHandlers,\n      ...touchHandlers,\n    };\n  }, [callback, threshold, onCancel, onFinish, onStart]);\n}\n\nexport function useMap(initialState) {\n  const mapRef = React.useRef(new Map(initialState));\n  const [, reRender] = React.useReducer((x) => x + 1, 0);\n\n  mapRef.current.set = (...args) => {\n    Map.prototype.set.apply(mapRef.current, args);\n    reRender();\n    return mapRef.current;\n  };\n\n  mapRef.current.clear = (...args) => {\n    Map.prototype.clear.apply(mapRef.current, args);\n    reRender();\n  };\n\n  mapRef.current.delete = (...args) => {\n    const res = Map.prototype.delete.apply(mapRef.current, args);\n    reRender();\n\n    return res;\n  };\n\n  return mapRef.current;\n}\n\nexport function useMeasure() {\n  const [dimensions, setDimensions] = React.useState({\n    width: null,\n    height: null,\n  });\n\n  const previousObserver = React.useRef(null);\n\n  const customRef = React.useCallback((node) => {\n    if (previousObserver.current) {\n      previousObserver.current.disconnect();\n      previousObserver.current = null;\n    }\n\n    if (node?.nodeType === Node.ELEMENT_NODE) {\n      const observer = new ResizeObserver(([entry]) => {\n        if (entry && entry.borderBoxSize) {\n          const { inlineSize: width, blockSize: height } =\n            entry.borderBoxSize[0];\n\n          setDimensions({ width, height });\n        }\n      });\n\n      observer.observe(node);\n      previousObserver.current = observer;\n    }\n  }, []);\n\n  return [customRef, dimensions];\n}\n\nexport function useMediaQuery(query) {\n  const subscribe = React.useCallback(\n    (callback) => {\n      const matchMedia = window.matchMedia(query);\n\n      matchMedia.addEventListener(\"change\", callback);\n      return () => {\n        matchMedia.removeEventListener(\"change\", callback);\n      };\n    },\n    [query]\n  );\n\n  const getSnapshot = () => {\n    return window.matchMedia(query).matches;\n  };\n\n  const getServerSnapshot = () => {\n    throw Error(\"useMediaQuery is a client-only hook\");\n  };\n\n  return React.useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);\n}\n\nexport function useMouse() {\n  const [state, setState] = React.useState({\n    x: 0,\n    y: 0,\n    elementX: 0,\n    elementY: 0,\n    elementPositionX: 0,\n    elementPositionY: 0,\n  });\n\n  const ref = React.useRef(null);\n\n  React.useLayoutEffect(() => {\n    const handleMouseMove = (event) => {\n      let newState = {\n        x: event.pageX,\n        y: event.pageY,\n      };\n\n      if (ref.current?.nodeType === Node.ELEMENT_NODE) {\n        const { left, top } = ref.current.getBoundingClientRect();\n        const elementPositionX = left + window.scrollX;\n        const elementPositionY = top + window.scrollY;\n        const elementX = event.pageX - elementPositionX;\n        const elementY = event.pageY - elementPositionY;\n\n        newState.elementX = elementX;\n        newState.elementY = elementY;\n        newState.elementPositionX = elementPositionX;\n        newState.elementPositionY = elementPositionY;\n      }\n\n      setState((s) => {\n        return {\n          ...s,\n          ...newState,\n        };\n      });\n    };\n\n    document.addEventListener(\"mousemove\", handleMouseMove);\n\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseMove);\n    };\n  }, []);\n\n  return [state, ref];\n}\n\nconst getConnection = () => {\n  return (\n    navigator?.connection ||\n    navigator?.mozConnection ||\n    navigator?.webkitConnection\n  );\n};\n\nconst useNetworkStateSubscribe = (callback) => {\n  window.addEventListener(\"online\", callback, { passive: true });\n  window.addEventListener(\"offline\", callback, { passive: true });\n\n  const connection = getConnection();\n\n  if (connection) {\n    connection.addEventListener(\"change\", callback, { passive: true });\n  }\n\n  return () => {\n    window.removeEventListener(\"online\", callback);\n    window.removeEventListener(\"offline\", callback);\n\n    if (connection) {\n      connection.removeEventListener(\"change\", callback);\n    }\n  };\n};\n\nconst getNetworkStateServerSnapshot = () => {\n  throw Error(\"useNetworkState is a client-only hook\");\n};\n\nexport function useNetworkState() {\n  const cache = React.useRef({});\n\n  const getSnapshot = () => {\n    const online = navigator.onLine;\n    const connection = getConnection();\n\n    const nextState = {\n      online,\n      downlink: connection?.downlink,\n      downlinkMax: connection?.downlinkMax,\n      effectiveType: connection?.effectiveType,\n      rtt: connection?.rtt,\n      saveData: connection?.saveData,\n      type: connection?.type,\n    };\n\n    if (isShallowEqual(cache.current, nextState)) {\n      return cache.current;\n    } else {\n      cache.current = nextState;\n      return nextState;\n    }\n  };\n\n  return React.useSyncExternalStore(\n    useNetworkStateSubscribe,\n    getSnapshot,\n    getNetworkStateServerSnapshot\n  );\n}\n\nexport function useObjectState(initialValue) {\n  const [state, setState] = React.useState(initialValue);\n\n  const handleUpdate = React.useCallback((arg) => {\n    if (typeof arg === \"function\") {\n      setState((s) => {\n        const newState = arg(s);\n\n        if (isPlainObject(newState)) {\n          return {\n            ...s,\n            ...newState,\n          };\n        }\n      });\n    }\n\n    if (isPlainObject(arg)) {\n      setState((s) => ({\n        ...s,\n        ...arg,\n      }));\n    }\n  }, []);\n\n  return [state, handleUpdate];\n}\n\nexport function useOrientation() {\n  const [orientation, setOrientation] = React.useState({\n    angle: 0,\n    type: \"landscape-primary\",\n  });\n\n  React.useLayoutEffect(() => {\n    const handleChange = () => {\n      const { angle, type } = window.screen.orientation;\n      setOrientation({\n        angle,\n        type,\n      });\n    };\n\n    const handle_orientationchange = () => {\n      setOrientation({\n        type: \"UNKNOWN\",\n        angle: window.orientation,\n      });\n    };\n\n    if (window.screen?.orientation) {\n      handleChange();\n      window.screen.orientation.addEventListener(\"change\", handleChange);\n    } else {\n      handle_orientationchange();\n      window.addEventListener(\"orientationchange\", handle_orientationchange);\n    }\n\n    return () => {\n      if (window.screen?.orientation) {\n        window.screen.orientation.removeEventListener(\"change\", handleChange);\n      } else {\n        window.removeEventListener(\n          \"orientationchange\",\n          handle_orientationchange\n        );\n      }\n    };\n  }, []);\n\n  return orientation;\n}\n\nconst usePreferredLanguageSubscribe = (cb) => {\n  window.addEventListener(\"languagechange\", cb);\n  return () => window.removeEventListener(\"languagechange\", cb);\n};\n\nconst getPreferredLanguageSnapshot = () => {\n  return navigator.language;\n};\n\nconst getPreferredLanguageServerSnapshot = () => {\n  throw Error(\"usePreferredLanguage is a client-only hook\");\n};\n\nexport function usePreferredLanguage() {\n  return React.useSyncExternalStore(\n    usePreferredLanguageSubscribe,\n    getPreferredLanguageSnapshot,\n    getPreferredLanguageServerSnapshot\n  );\n}\n\nexport function usePrevious(value) {\n  const [current, setCurrent] = React.useState(value);\n  const [previous, setPrevious] = React.useState(null);\n\n  if (value !== current) {\n    setPrevious(current);\n    setCurrent(value);\n  }\n\n  return previous;\n}\n\nexport function useQueue(initialValue = []) {\n  const [queue, setQueue] = React.useState(initialValue);\n\n  const add = React.useCallback((element) => {\n    setQueue((q) => [...q, element]);\n  }, []);\n\n  const remove = React.useCallback(() => {\n    let removedElement;\n\n    setQueue(([first, ...q]) => {\n      removedElement = first;\n      return q;\n    });\n\n    return removedElement;\n  }, []);\n\n  const clear = React.useCallback(() => {\n    setQueue([]);\n  }, []);\n\n  return {\n    add,\n    remove,\n    clear,\n    first: queue[0],\n    last: queue[queue.length - 1],\n    size: queue.length,\n    queue,\n  };\n}\n\nexport function useRenderCount() {\n  const count = React.useRef(0);\n\n  count.current++;\n\n  return count.current;\n}\n\nexport function useRenderInfo(name = \"Unknown\") {\n  const count = React.useRef(0);\n  const lastRender = React.useRef();\n  const now = Date.now();\n\n  count.current++;\n\n  React.useEffect(() => {\n    lastRender.current = Date.now();\n  });\n\n  const sinceLastRender = lastRender.current ? now - lastRender.current : 0;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    const info = {\n      name,\n      renders: count.current,\n      sinceLastRender,\n      timestamp: now,\n    };\n\n    console.log(info);\n\n    return info;\n  }\n}\n\nexport function useScript(src, options = {}) {\n  const [status, setStatus] = React.useState(\"loading\");\n  const optionsRef = React.useRef(options);\n\n  React.useEffect(() => {\n    let script = document.querySelector(`script[src=\"${src}\"]`);\n\n    const domStatus = script?.getAttribute(\"data-status\");\n    if (domStatus) {\n      setStatus(domStatus);\n      return;\n    }\n\n    if (script === null) {\n      script = document.createElement(\"script\");\n      script.src = src;\n      script.async = true;\n      script.setAttribute(\"data-status\", \"loading\");\n      document.body.appendChild(script);\n\n      const handleScriptLoad = () => {\n        script.setAttribute(\"data-status\", \"ready\");\n        setStatus(\"ready\");\n        removeEventListeners();\n      };\n\n      const handleScriptError = () => {\n        script.setAttribute(\"data-status\", \"error\");\n        setStatus(\"error\");\n        removeEventListeners();\n      };\n\n      const removeEventListeners = () => {\n        script.removeEventListener(\"load\", handleScriptLoad);\n        script.removeEventListener(\"error\", handleScriptError);\n      };\n\n      script.addEventListener(\"load\", handleScriptLoad);\n      script.addEventListener(\"error\", handleScriptError);\n\n      const removeOnUnmount = optionsRef.current.removeOnUnmount;\n\n      return () => {\n        if (removeOnUnmount === true) {\n          script.remove();\n          removeEventListeners();\n        }\n      };\n    } else {\n      setStatus(\"unknown\");\n    }\n  }, [src]);\n\n  return status;\n}\n\nconst setSessionStorageItem = (key, value) => {\n  const stringifiedValue = JSON.stringify(value);\n  window.sessionStorage.setItem(key, stringifiedValue);\n  dispatchStorageEvent(key, stringifiedValue);\n};\n\nconst removeSessionStorageItem = (key) => {\n  window.sessionStorage.removeItem(key);\n  dispatchStorageEvent(key, null);\n};\n\nconst getSessionStorageItem = (key) => {\n  return window.sessionStorage.getItem(key);\n};\n\nconst useSessionStorageSubscribe = (callback) => {\n  window.addEventListener(\"storage\", callback);\n  return () => window.removeEventListener(\"storage\", callback);\n};\n\nconst getSessionStorageServerSnapshot = () => {\n  throw Error(\"useSessionStorage is a client-only hook\");\n};\n\nexport function useSessionStorage(key, initialValue) {\n  const getSnapshot = () => getSessionStorageItem(key);\n\n  const store = React.useSyncExternalStore(\n    useSessionStorageSubscribe,\n    getSnapshot,\n    getSessionStorageServerSnapshot\n  );\n\n  const setState = React.useCallback(\n    (v) => {\n      try {\n        const nextState = typeof v === \"function\" ? v(JSON.parse(store)) : v;\n\n        if (nextState === undefined || nextState === null) {\n          removeSessionStorageItem(key);\n        } else {\n          setSessionStorageItem(key, nextState);\n        }\n      } catch (e) {\n        console.warn(e);\n      }\n    },\n    [key, store]\n  );\n\n  React.useEffect(() => {\n    if (\n      getSessionStorageItem(key) === null &&\n      typeof initialValue !== \"undefined\"\n    ) {\n      setSessionStorageItem(key, initialValue);\n    }\n  }, [key, initialValue]);\n\n  return [store ? JSON.parse(store) : initialValue, setState];\n}\n\nexport function useSet(values) {\n  const setRef = React.useRef(new Set(values));\n  const [, reRender] = React.useReducer((x) => x + 1, 0);\n\n  setRef.current.add = (...args) => {\n    const res = Set.prototype.add.apply(setRef.current, args);\n    reRender();\n\n    return res;\n  };\n\n  setRef.current.clear = (...args) => {\n    Set.prototype.clear.apply(setRef.current, args);\n    reRender();\n  };\n\n  setRef.current.delete = (...args) => {\n    const res = Set.prototype.delete.apply(setRef.current, args);\n    reRender();\n\n    return res;\n  };\n\n  return setRef.current;\n}\n\nexport function useThrottle(value, interval = 500) {\n  const [throttledValue, setThrottledValue] = React.useState(value);\n  const lastUpdated = React.useRef(null);\n\n  React.useEffect(() => {\n    const now = Date.now();\n\n    if (lastUpdated.current && now >= lastUpdated.current + interval) {\n      lastUpdated.current = now;\n      setThrottledValue(value);\n    } else {\n      const id = window.setTimeout(() => {\n        lastUpdated.current = now;\n        setThrottledValue(value);\n      }, interval);\n\n      return () => window.clearTimeout(id);\n    }\n  }, [value, interval]);\n\n  return throttledValue;\n}\n\nexport function useToggle(initialValue) {\n  const [on, setOn] = React.useState(() => {\n    if (typeof initialValue === \"boolean\") {\n      return initialValue;\n    }\n\n    return Boolean(initialValue);\n  });\n\n  const handleToggle = React.useCallback((value) => {\n    if (typeof value === \"boolean\") {\n      return setOn(value);\n    }\n\n    return setOn((v) => !v);\n  }, []);\n\n  return [on, handleToggle];\n}\n\nconst useVisibilityChangeSubscribe = (callback) => {\n  document.addEventListener(\"visibilitychange\", callback);\n\n  return () => {\n    document.removeEventListener(\"visibilitychange\", callback);\n  };\n};\n\nconst getVisibilityChangeSnapshot = () => {\n  return document.visibilityState;\n};\n\nconst getVisibilityChangeServerSnapshot = () => {\n  throw Error(\"useVisibilityChange is a client-only hook\");\n};\n\nexport function useVisibilityChange() {\n  const visibilityState = React.useSyncExternalStore(\n    useVisibilityChangeSubscribe,\n    getVisibilityChangeSnapshot,\n    getVisibilityChangeServerSnapshot\n  );\n\n  return visibilityState === \"visible\";\n}\n\nexport function useWindowScroll() {\n  const [state, setState] = React.useState({\n    x: null,\n    y: null,\n  });\n\n  const scrollTo = React.useCallback((...args) => {\n    if (typeof args[0] === \"object\") {\n      window.scrollTo(args[0]);\n    } else if (typeof args[0] === \"number\" && typeof args[1] === \"number\") {\n      window.scrollTo(args[0], args[1]);\n    } else {\n      throw new Error(\n        `Invalid arguments passed to scrollTo. See here for more info. https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollTo`\n      );\n    }\n  }, []);\n\n  React.useLayoutEffect(() => {\n    const handleScroll = () => {\n      setState({ x: window.scrollX, y: window.scrollY });\n    };\n\n    handleScroll();\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  return [state, scrollTo];\n}\n\nexport function useWindowSize() {\n  const [size, setSize] = React.useState({\n    width: null,\n    height: null,\n  });\n\n  React.useLayoutEffect(() => {\n    const handleResize = () => {\n      setSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n\n    handleResize();\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n\n  return size;\n}\n","/**\n * @license lucide-react v0.486.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst toCamelCase = (string) => string.replace(\n  /^([A-Z])|[\\s-_]+(\\w)/g,\n  (match, p1, p2) => p2 ? p2.toUpperCase() : p1.toLowerCase()\n);\nconst toPascalCase = (string) => {\n  const camelCase = toCamelCase(string);\n  return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n};\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index;\n}).join(\" \").trim();\n\nexport { mergeClasses, toCamelCase, toKebabCase, toPascalCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-react v0.486.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.486.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { mergeClasses } from './shared/src/utils.js';\n\nconst Icon = forwardRef(\n  ({\n    color = \"currentColor\",\n    size = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => {\n    return createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: mergeClasses(\"lucide\", className),\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    );\n  }\n);\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-react v0.486.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n];\nconst X = createLucideIcon(\"x\", __iconNode);\n\nexport { __iconNode, X as default };\n//# sourceMappingURL=x.js.map\n","/**\n * @license lucide-react v0.486.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from './shared/src/utils.js';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ className, ...props }, ref) => createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className\n      ),\n      ...props\n    })\n  );\n  Component.displayName = toPascalCase(iconName);\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","import React, { useState, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { X } from \"lucide-react\";\nimport { GatsbyImage } from \"gatsby-plugin-image\";\nimport { useStaticQuery, graphql } from \"gatsby\";\n\nexport default function Toast({ message = \" \" }) {\n  const [show, setShow] = useState(false);\n\n  const data = useStaticQuery(graphql`\n    query {\n      allMdx(sort: { fields: { date: DESC } }, limit: 1) {\n        edges {\n          node {\n            fields {\n              slug\n            }\n          }\n        }\n      }\n      me: file(relativePath: { eq: \"lattespirit.jpg\" }) {\n        childImageSharp {\n          gatsbyImageData(placeholder: NONE, layout: FULL_WIDTH)\n        }\n      }\n    }\n  `);\n\n  const latestPostSlug = data.allMdx.edges[0]?.node?.fields?.slug;\n\n  useEffect(() => {\n    const cachedSlug = localStorage.getItem(\"latestPostSlug\");\n    if (cachedSlug && cachedSlug !== latestPostSlug) {\n      setShow(true);\n    }\n    localStorage.setItem(\"latestPostSlug\", latestPostSlug);\n  }, [latestPostSlug]);\n\n  return (\n    <AnimatePresence>\n      {show && (\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          exit={{ opacity: 0, y: 20 }}\n          transition={{ duration: 0.3 }}\n          className=\"fixed top-6 right-0 md:right-6 mx-4 md:mx-0 px-4 py-2 bg-white/20 backdrop-blur-md rounded-xl flex items-center space-x-3 shadow-lg border border-white/20 text-sm md:text-base\"\n        >\n          <GatsbyImage\n            image={data.me.childImageSharp.gatsbyImageData}\n            className=\"w-8 h-8 rounded-full\"\n            alt=\"Jeffrey Yeung\"\n          />\n          <span className=\"text-pink-light\">{message}</span>\n          <button\n            className=\"text-white bg-white/20 hover:bg-white/40 rounded-full p-1 cursor-pointer transition\"\n            aria-label=\"Close\"\n            onClick={() => setShow(false)}\n          >\n            <X size={16} />\n          </button>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n","import React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport Head from \"./Head\";\nimport Navbar from \"./Navbar\";\nimport Footer from \"./Footer\";\nimport Search from \"./Search\";\nimport Toast from \"./Toast\";\nimport { motion } from \"motion/react\";\nimport { useLocation } from \"@reach/router\";\nimport { StaticImage } from \"gatsby-plugin-image\";\n\nconst variants = {\n  initial: {\n    y: -20,\n  },\n  animate: {\n    y: 0,\n    transition: {\n      duration: 0.4,\n      type: \"spring\",\n      bounce: 0,\n      stiffness: 100,\n      damp: 20,\n      delay: 0.16,\n    },\n  },\n};\n\nconst Layout = ({ children }) => {\n  const location = useLocation();\n\n  return (\n    <div className=\"flex flex-col min-h-screen relative\">\n      \n      <motion.div \n        className=\"fixed inset-0 -z-10\"\n        initial={{ scale: 1.08 }}\n        animate={{ scale: 1 }}\n        transition={{ duration: 0.56, ease: [0.25, 0.46, 0.45, 0.94] }}\n      >\n        <StaticImage\n          src=\"../images/background.jpg\"\n          alt=\"Background\"\n          placeholder=\"dominantColor\"\n          layout=\"fullWidth\"\n          loading=\"eager\"\n          quality={90}\n          className=\"w-full h-full object-cover\"\n        />\n      </motion.div>\n      \n      <Head />\n      <Helmet>\n        <html lang=\"zh\" />\n      </Helmet>\n\n      <Navbar />\n\n      <motion.main\n        key={location.pathname}\n        variants={variants}\n        initial=\"initial\"\n        animate=\"animate\"\n        className=\"mb-20 will-change-transform\"\n      >\n        {children}\n      </motion.main>\n\n      <Search />\n\n      <Toast />\n\n      <Footer />\n    </div>\n  )};\n  \nexport default Layout;","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * @public\n */\nconst MotionConfigContext = createContext({\n    transformPagePoint: (p) => p,\n    isStatic: false,\n    reducedMotion: \"never\",\n});\n\nexport { MotionConfigContext };\n","function hasWindow() {\n  return typeof window !== 'undefined';\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nconst invalidOverflowDisplayValues = /*#__PURE__*/new Set(['inline', 'contents']);\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !invalidOverflowDisplayValues.has(display);\n}\nconst tableElements = /*#__PURE__*/new Set(['table', 'td', 'th']);\nfunction isTableElement(element) {\n  return tableElements.has(getNodeName(element));\n}\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(element) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (_e) {\n      return false;\n    }\n  });\n}\nconst transformProperties = ['transform', 'translate', 'scale', 'rotate', 'perspective'];\nconst willChangeValues = ['transform', 'translate', 'scale', 'rotate', 'perspective', 'filter'];\nconst containValues = ['paint', 'layout', 'strict', 'content'];\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  // https://drafts.csswg.org/css-transforms-2/#individual-transforms\n  return transformProperties.some(value => css[value] ? css[value] !== 'none' : false) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || willChangeValues.some(value => (css.willChange || '').includes(value)) || containValues.some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nconst lastTraversableNodeNames = /*#__PURE__*/new Set(['html', 'body', '#document']);\nfunction isLastTraversableNode(node) {\n  return lastTraversableNodeNames.has(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\n","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * @public\n */\nconst PresenceContext = \n/* @__PURE__ */ createContext(null);\n\nexport { PresenceContext };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          if (!ignoreCrossAxisOverflow ||\n          // We leave the current main axis only if every placement on that axis\n          // overflows the main axis.\n          overflowsData.every(d => getSideAxis(d.placement) === initialSideAxis ? d.overflows[0] > 0 : true)) {\n            // Try next placement and re-run the lifecycle.\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nconst originSides = /*#__PURE__*/new Set(['left', 'top']);\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = originSides.has(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = originSides.has(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","import { rectToClientRect, arrow as arrow$1, autoPlacement as autoPlacement$1, detectOverflow as detectOverflow$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll, ignoreScrollbarX) {\n  if (ignoreScrollbarX === void 0) {\n    ignoreScrollbarX = false;\n  }\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - (ignoreScrollbarX ? 0 :\n  // RTL <body> scrollbar.\n  getWindowScrollBarX(documentElement, htmlRect));\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll, true) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nconst absoluteOrFixed = /*#__PURE__*/new Set(['absolute', 'fixed']);\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && absoluteOrFixed.has(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\nfunction rectsAreEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        // It's possible that even though the ratio is reported as 1, the\n        // element is not actually fully within the IntersectionObserver's root\n        // area anymore. This can happen under performance constraints. This may\n        // be a bug in the browser's IntersectionObserver implementation. To\n        // work around this, we compare the element's bounding rect now with\n        // what it was at the time we created the IntersectionObserver. If they\n        // are not equal then the element moved, so we refresh.\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n","import { isShadowRoot, isHTMLElement } from '@floating-ui/utils/dom';\n\nfunction activeElement(doc) {\n  let activeElement = doc.activeElement;\n  while (((_activeElement = activeElement) == null || (_activeElement = _activeElement.shadowRoot) == null ? void 0 : _activeElement.activeElement) != null) {\n    var _activeElement;\n    activeElement = activeElement.shadowRoot.activeElement;\n  }\n  return activeElement;\n}\nfunction contains(parent, child) {\n  if (!parent || !child) {\n    return false;\n  }\n  const rootNode = child.getRootNode == null ? void 0 : child.getRootNode();\n\n  // First, attempt with faster native method\n  if (parent.contains(child)) {\n    return true;\n  }\n\n  // then fallback to custom implementation with Shadow DOM support\n  if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    while (next) {\n      if (parent === next) {\n        return true;\n      }\n      // @ts-ignore\n      next = next.parentNode || next.host;\n    }\n  }\n\n  // Give up, the result is false\n  return false;\n}\n// Avoid Chrome DevTools blue warning.\nfunction getPlatform() {\n  const uaData = navigator.userAgentData;\n  if (uaData != null && uaData.platform) {\n    return uaData.platform;\n  }\n  return navigator.platform;\n}\nfunction getUserAgent() {\n  const uaData = navigator.userAgentData;\n  if (uaData && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(_ref => {\n      let {\n        brand,\n        version\n      } = _ref;\n      return brand + \"/\" + version;\n    }).join(' ');\n  }\n  return navigator.userAgent;\n}\n\n// License: https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/utils/src/isVirtualEvent.ts\nfunction isVirtualClick(event) {\n  // FIXME: Firefox is now emitting a deprecation warning for `mozInputSource`.\n  // Try to find a workaround for this. `react-aria` source still has the check.\n  if (event.mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n  if (isAndroid() && event.pointerType) {\n    return event.type === 'click' && event.buttons === 1;\n  }\n  return event.detail === 0 && !event.pointerType;\n}\nfunction isVirtualPointerEvent(event) {\n  if (isJSDOM()) return false;\n  return !isAndroid() && event.width === 0 && event.height === 0 || isAndroid() && event.width === 1 && event.height === 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'mouse' ||\n  // iOS VoiceOver returns 0.333 for width/height.\n  event.width < 1 && event.height < 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'touch';\n}\nfunction isSafari() {\n  // Chrome DevTools does not complain about navigator.vendor\n  return /apple/i.test(navigator.vendor);\n}\nfunction isAndroid() {\n  const re = /android/i;\n  return re.test(getPlatform()) || re.test(getUserAgent());\n}\nfunction isMac() {\n  return getPlatform().toLowerCase().startsWith('mac') && !navigator.maxTouchPoints;\n}\nfunction isJSDOM() {\n  return getUserAgent().includes('jsdom/');\n}\nfunction isMouseLikePointerType(pointerType, strict) {\n  // On some Linux machines with Chromium, mouse inputs return a `pointerType`\n  // of \"pen\": https://github.com/floating-ui/floating-ui/issues/2015\n  const values = ['mouse', 'pen'];\n  if (!strict) {\n    values.push('', undefined);\n  }\n  return values.includes(pointerType);\n}\nfunction isReactEvent(event) {\n  return 'nativeEvent' in event;\n}\nfunction isRootElement(element) {\n  return element.matches('html,body');\n}\nfunction getDocument(node) {\n  return (node == null ? void 0 : node.ownerDocument) || document;\n}\nfunction isEventTargetWithin(event, node) {\n  if (node == null) {\n    return false;\n  }\n  if ('composedPath' in event) {\n    return event.composedPath().includes(node);\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support composedPath, but browsers without shadow dom don't\n  const e = event;\n  return e.target != null && node.contains(e.target);\n}\nfunction getTarget(event) {\n  if ('composedPath' in event) {\n    return event.composedPath()[0];\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support\n  // `composedPath()`, but browsers without shadow DOM don't.\n  return event.target;\n}\nconst TYPEABLE_SELECTOR = \"input:not([type='hidden']):not([disabled]),\" + \"[contenteditable]:not([contenteditable='false']),textarea:not([disabled])\";\nfunction isTypeableElement(element) {\n  return isHTMLElement(element) && element.matches(TYPEABLE_SELECTOR);\n}\nfunction stopEvent(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nfunction isTypeableCombobox(element) {\n  if (!element) return false;\n  return element.getAttribute('role') === 'combobox' && isTypeableElement(element);\n}\n\nexport { TYPEABLE_SELECTOR, activeElement, contains, getDocument, getPlatform, getTarget, getUserAgent, isAndroid, isEventTargetWithin, isJSDOM, isMac, isMouseLikePointerType, isReactEvent, isRootElement, isSafari, isTypeableCombobox, isTypeableElement, isVirtualClick, isVirtualPointerEvent, stopEvent };\n","import { isObject } from 'motion-utils';\n\n/**\n * Checks if an element is an HTML element in a way\n * that works across iframes\n */\nfunction isHTMLElement(element) {\n    return isObject(element) && \"offsetHeight\" in element;\n}\n\nexport { isHTMLElement };\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nconst yAxisSides = /*#__PURE__*/new Set(['top', 'bottom']);\nfunction getSideAxis(placement) {\n  return yAxisSides.has(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nconst lrPlacement = ['left', 'right'];\nconst rlPlacement = ['right', 'left'];\nconst tbPlacement = ['top', 'bottom'];\nconst btPlacement = ['bottom', 'top'];\nfunction getSideList(side, isStart, rtl) {\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rlPlacement : lrPlacement;\n      return isStart ? lrPlacement : rlPlacement;\n    case 'left':\n    case 'right':\n      return isStart ? tbPlacement : btPlacement;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","const isBrowser = typeof window !== \"undefined\";\n\nexport { isBrowser };\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/use-sync-external-store-with-selector.production.js');\n} else {\n  module.exports = require('./cjs/use-sync-external-store-with-selector.development.js');\n}\n","import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","import { useContext, useId, useEffect, useCallback } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence(subscribe = true) {\n    const context = useContext(PresenceContext);\n    if (context === null)\n        return [true, null];\n    const { isPresent, onExitComplete, register } = context;\n    // It's safe to call the following hooks conditionally (after an early return) because the context will always\n    // either be null or non-null for the lifespan of the component.\n    const id = useId();\n    useEffect(() => {\n        if (subscribe) {\n            return register(id);\n        }\n    }, [subscribe]);\n    const safeToRemove = useCallback(() => subscribe && onExitComplete && onExitComplete(id), [id, onExitComplete, subscribe]);\n    return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n    return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n    return context === null ? true : context.isPresent;\n}\n\nexport { isPresent, useIsPresent, usePresence };\n","function isObject(value) {\n    return typeof value === \"object\" && value !== null;\n}\n\nexport { isObject };\n","\"use client\";\nimport { createContext } from 'react';\n\nconst LayoutGroupContext = createContext({});\n\nexport { LayoutGroupContext };\n"],"names":["transformPropOrder","transformProps","Set","radToDeg","rad","Math","PI","rotate","v","angle","atan2","rebaseAngle","matrix2dParsers","x","y","translateX","translateY","scaleX","scaleY","scale","abs","rotateZ","skewX","atan","skewY","skew","sqrt","matrix3dParsers","z","translateZ","rotateX","rotateY","defaultTransformValue","name","includes","parseValueFromTransform","transform","matrix3dMatch","match","parsers","matrix2dMatch","valueParser","values","split","map","convertTransformToNumber","value","parseFloat","trim","checkStringStartsWith","token","key","startsWith","isCSSVariableName","startsAsVariableToken","isCSSVariableToken","singleCssVariableRegex","test","convertBoundingBoxToBox","top","left","right","bottom","min","max","mixNumber","from","to","progress","isIdentityScale","undefined","hasScale","hasTransform","has2DTranslate","is2DTranslate","scalePoint","point","originPoint","applyPointDelta","translate","boxScale","applyAxisDelta","axis","applyBoxDelta","box","TREE_SCALE_SNAP_MIN","TREE_SCALE_SNAP_MAX","translateAxis","distance","transformAxis","axisTranslate","axisScale","axisOrigin","transformBox","originX","originY","measureViewportBox","instance","transformPoint","topLeft","bottomRight","transformBoxPoints","getBoundingClientRect","positionalKeys","clamp","number","parse","alpha","default","createUnitType","unit","endsWith","length","degrees","percent","px","vh","vw","progressPercentage","testValueType","type","dimensionValueTypes","findDimensionValueType","find","isNumericalString","splitCSSVariableRegex","getVariableValue","current","element","depth","fallback","exec","token1","token2","parseCSSVariable","resolved","window","getComputedStyle","getPropertyValue","trimmed","isNumOrPxType","transformKeys","nonTranslationalTransformKeys","filter","has","positionalValues","width","paddingLeft","paddingRight","height","paddingTop","paddingBottom","_bbox","noop","any","MotionGlobalConfig","stepsOrder","statsBuffer","addProjectionMetrics","createRenderBatcher","scheduleNextBatch","allowKeepAlive","runNextFrame","useDefaultElapsed","state","delta","timestamp","isProcessing","flagRunNextFrame","steps","reduce","acc","stepName","thisFrame","nextFrame","flushNextFrame","toKeepAlive","WeakSet","latestFrameData","numCalls","triggerCallback","callback","step","schedule","keepAlive","immediate","queue","add","cancel","delete","process","frameData","forEach","frameloop","push","clear","createRenderStep","setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender","processBatch","useManualTiming","performance","now","i","cancelFrame","frameSteps","requestAnimationFrame","toResolve","isScheduled","anyNeedsMeasurement","isForced","measureAllKeyframes","resolversToMeasure","Array","resolver","needsMeasurement","elementsToMeasure","transformsToRestore","Map","removedTransforms","visualElement","getValue","get","set","removeNonTranslationalTransform","measureInitialState","restore","measureEndState","suspendedScrollY","scrollTo","complete","readAllKeyframes","readKeyframes","KeyframeResolver","constructor","unresolvedKeyframes","onComplete","motionValue","isAsync","this","scheduleResolve","currentValue","finalKeyframe","valueAsRead","readValue","keyframes","fillWildcards","setFinalKeyframe","renderEndStyles","isForcedComplete","resume","isZeroValueString","isNone","sanitize","round","floatRegex","singleColorRegex","isColorString","testProp","Boolean","isNullish","Object","prototype","hasOwnProperty","call","splitColor","aName","bName","cName","a","b","c","rgbUnit","clampRgbUnit","rgba","red","green","blue","alpha$1","hex","r","g","substring","parseInt","hsla","hue","saturation","lightness","color","getAnimatableNone","parsed","colorRegex","NUMBER_TOKEN","COLOR_TOKEN","complexRegex","analyseComplexValue","originalValue","toString","indexes","var","types","replace","parsedValue","parseComplexValue","createTransformer","source","numSections","output","convertNumbersToZero","complex","isNaN","transformer","maxDefaults","applyDefaultFilter","slice","defaultValue","functionRegex","functions","join","numberValueTypes","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","maxWidth","maxHeight","padding","margin","marginTop","marginRight","marginBottom","marginLeft","backgroundPositionX","backgroundPositionY","scaleZ","perspective","transformPerspective","opacity","originZ","zIndex","fillOpacity","strokeOpacity","numOctaves","defaultValueTypes","backgroundColor","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","WebkitFilter","getDefaultValueType","defaultValueType","invalidTemplates","DOMKeyframesResolver","super","keyframe","resolveNoneKeyframes","origin","target","originType","targetType","noneKeyframeIndexes","animatableTemplate","noneIndex","makeNoneKeyframesAnimatable","pageYOffset","measuredOrigin","measureKeyframe","jump","finalKeyframeIndex","unsetTransformName","unsetTransformValue","isMotionValue","getVelocity","clearTime","time","newTime","queueMicrotask","addUniqueItem","arr","item","indexOf","removeItem","index","splice","SubscriptionManager","subscriptions","handler","notify","numSubscriptions","getSize","velocityPerSecond","velocity","frameDuration","collectMotionValues","MotionValue","init","options","canTrackVelocity","events","updateAndNotify","currentTime","updatedAt","setPrevFrameValue","prev","setCurrent","change","dependents","dependent","dirty","hasAnimated","owner","prevFrameValue","prevUpdatedAt","onChange","subscription","on","eventName","unsubscribe","stop","clearListeners","eventManagers","attach","passiveEffect","stopPassiveEffect","setWithVelocity","endAnimation","addDependent","removeDependent","getPrevious","start","startAnimation","Promise","resolve","animation","animationStart","then","animationComplete","clearAnimation","animationCancel","isAnimating","destroy","valueTypes","microtask","cancelMicrotask","featureProps","exit","drag","focus","hover","tap","pan","inView","layout","featureDefinitions","isEnabled","props","some","createBox","prefersReducedMotion","hasReducedMotionListener","visualElementStore","WeakMap","isAnimationControls","isVariantLabel","isArray","variantPriorityOrder","variantProps","isControllingVariants","animate","isVariantNode","variants","getValueState","resolveVariantFromProps","definition","custom","propEventHandlers","VisualElement","scrapeMotionValuesFromProps","_props","_prevProps","_visualElement","parent","presenceContext","reducedMotionConfig","blockInitialAnimation","visualState","children","shouldReduceMotion","features","valueSubscriptions","prevMotionValues","propEventSubscriptions","notifyUpdate","latestValues","triggerBuild","renderInstance","renderState","style","projection","renderScheduledAt","scheduleRender","baseTarget","initialValues","initial","variantChildren","manuallyAnimateOnMount","willChange","initialMotionValues","mount","removeFromVariantTree","addVariantChild","bindToMotionValue","matchMedia","motionMediaQuery","setReducedMotionPreferences","matches","addEventListener","initPrefersReducedMotion","addChild","unmount","remove","removeChild","feature","isMounted","child","enteringChildren","valueIsTransform","onBindTransform","removeOnChange","latestValue","onUpdate","isTransformDirty","removeSyncCheck","MotionCheckAppearSync","sortNodePosition","other","sortInstanceNodePosition","updateFeatures","featureDefinition","Feature","FeatureConstructor","build","measureInstanceViewportBox","getStaticValue","setStaticValue","transformTemplate","prevProps","prevPresenceContext","listener","next","nextValue","prevValue","addValue","hasValue","existingValue","liveStyle","removeValue","updateMotionValuesFromProps","handleChildMotionValue","getProps","getVariant","getDefaultTransition","transition","getTransformPagePoint","transformPagePoint","getClosestVariantNode","closestVariantNode","removeValueFromRenderState","getBaseTargetFromProps","readValueFromInstance","setBaseTarget","getBaseTarget","valueFromInitial","variant","args","scheduleRenderMicrotask","DOMVisualElement","arguments","compareDocumentPosition","vars","childSubscription","latest","textContent","getValueAsType","translateAlias","numTransforms","buildHTMLStyles","transformOrigin","hasTransformOrigin","valueAsType","transformString","transformIsDefault","valueIsDefault","buildTransform","renderHTML","styleProp","elementStyle","applyProjectionStyles","setProperty","scaleCorrectors","isForcedMotionValue","layoutId","newValues","HTMLVisualElement","isProjecting","readTransformValue","computedStyle","camelToDash","str","toLowerCase","dashKeys","offset","array","camelKeys","buildSVGAttrs","attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset","isSVGTag","viewBox","attrs","spacing","useDashCase","keys","buildSVGPath","camelCaseAttributes","tag","charAt","toUpperCase","SVGVisualElement","defaultType","getAttribute","_styleProp","setAttribute","renderSVG","tagName","lowercaseSVGElements","isSVGComponent","Component","createDomVisualElement","allowProjection","Fragment","LazyContext","createContext","strict","MotionContext","useCreateMotionContext","context","inherit","getCurrentTreeVariants","useContext","useMemo","variantLabelsAsDependency","prop","createHtmlRenderState","copyRawValuesOnly","useStyle","assign","useInitialMotionValues","useHTMLProps","htmlProps","dragListener","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","tabIndex","onTap","onTapStart","whileTap","createSvgRenderState","useSVGProps","_isStatic","visualProps","rawStyles","validMotionProps","isValidMotionProp","shouldForward","isValidProp","require","useRender","ref","isStatic","forwardMotionProps","filteredProps","isDom","filterProps","elementProps","renderedChildren","createElement","resolveMotionValue","makeLatestValues","scrapeMotionValues","motionValues","isControllingVariants$1","isVariantNode$1","isInitialAnimationBlocked","variantToSet","list","transitionEnd","valueTarget","makeUseVisualState","config","PresenceContext","make","createRenderState","makeState","useHTMLVisualState","useSVGVisualState","motionComponentSymbol","Symbol","for","isRefObject","useMotionRef","externalRef","useCallback","onMount","optimizedAppearDataAttribute","SwitchLayoutGroupContext","useVisualElement","createVisualElement","ProjectionNodeConstructor","lazyContext","MotionConfigContext","reducedMotion","visualElementRef","useRef","renderer","initialLayoutGroupConfig","initialPromotionConfig","dragConstraints","layoutScroll","layoutRoot","layoutCrossfade","getClosestProjectingNode","setOptions","alwaysMeasureLayout","animationType","crossfade","createProjectionNode","useInsertionEffect","optimisedAppearId","wantsHandoff","MotionHandoffIsComplete","MotionHasOptimisedAnimation","MotionIsMounted","animationState","animateChanges","useEffect","MotionHandoffMarkAsComplete","createMotionComponent","preloadedFeatures","loadFeatures","useVisualState","MotionDOMComponent","MeasureLayout","configAndProps","useLayoutId","useStrictMode","layoutProjection","combined","ProjectionNode","getProjectionFunctionality","jsxs","Provider","jsx","displayName","ForwardRefMotionComponent","forwardRef","layoutGroupId","LayoutGroupContext","L","id","createMotionProxy","Proxy","componentCache","factory","_target","resolveVariant","getValueTransition","isKeyframesTarget","setMotionValue","resolveFinalValueInKeyframes","addValueToWillChange","WillChange","newWillChange","getOptimisedAppearId","makeAnimationInstant","duration","combineFunctions","pipe","transformers","seconds","millisecondsToSeconds","milliseconds","activeAnimations","mainThread","waapi","hueToRgb","p","q","t","mixImmediate","mixLinearColor","fromExpo","expo","colorTypes","asRGBA","model","hslaToRgba","mixColor","fromRGBA","toRGBA","blended","invisibleValues","getMixer","mixComplex","mixArray","mixObject","numValues","blendValue","template","originStats","targetStats","mixVisibility","orderedOrigin","pointers","originIndex","originValue","matchOrder","mix","mixer","frameloopDriver","passTimestamp","generateLinearEasing","easing","resolution","points","numPoints","maxGeneratorDuration","calcGeneratorDuration","generator","done","Infinity","calcGeneratorVelocity","resolveValue","prevT","springDefaults","granular","safeMin","findSpring","bounce","mass","envelope","derivative","dampingRatio","undampedFreq","exponentialDecay","calcAngularFreq","exp","d","e","pow","f","initialGuess","result","rootIterations","approximateRoot","stiffness","damping","durationKeys","physicsKeys","isSpringType","spring","optionsOrVisualDuration","visualDuration","restSpeed","restDelta","isResolvedFromDuration","springOptions","root","derived","getSpringOptions","initialVelocity","initialDelta","undampedAngularFreq","isGranularScale","resolveSpring","angularFreq","sin","cos","dampedAngularFreq","freqForT","sinh","cosh","calculatedDuration","currentVelocity","isBelowVelocityThreshold","isBelowDisplacementThreshold","toTransition","inertia","power","timeConstant","bounceDamping","bounceStiffness","modifyTarget","nearestBoundary","amplitude","ideal","calcDelta","calcLatest","applyFriction","timeReachedBoundary","spring$1","checkCatchBoundary","hasUpdatedFrame","applyToOptions","generatorOptions","createGenerator","ease","createGeneratorEasing","calcBezier","a1","a2","cubicBezier","mX1","mY1","mX2","mY2","getTForX","aX","lowerBound","upperBound","currentX","currentT","binarySubdivide","easeIn","easeOut","easeInOut","mirrorEasing","reverseEasing","backOut","backIn","backInOut","anticipate","circIn","acos","circOut","circInOut","isBezierDefinition","easingLookup","linear","easingDefinitionToFunction","x1","y1","x2","y2","toFromDifference","interpolate","input","isClamp","inputLength","isZeroDeltaRange","reverse","mixers","customMixer","mixerFactory","numMixers","easingFunction","createMixers","interpolator","progressInRange","defaultOffset","remaining","offsetProgress","fillOffset","keyframeValues","times","easingFunctions","isEasingArray","absoluteTimes","o","convertOffsetToTimes","mapTimeToKeyframe","isNotNull","getFinalKeyframe","repeat","repeatType","speed","resolvedKeyframes","transitionTypeMap","decay","tween","replaceTransitionType","WithPromise","updateFinished","finished","_finished","notifyFinished","onResolve","onReject","percentToProgress","JSAnimation","startTime","isStopped","holdTime","playbackSpeed","tick","teardown","onStop","initAnimation","play","autoplay","pause","repeatDelay","keyframes$1","generatorFactory","mixKeyframes","mirroredGenerator","resolvedDuration","totalDuration","updateTime","animationTime","sample","delay","timeWithoutDelay","isInDelayPhase","elapsed","frameGenerator","currentIteration","floor","iterationProgress","isAnimationFinished","finish","reject","driver","newSpeed","hasChanged","onPlay","onCancel","stopDriver","sampleTime","attachTimeline","timeline","allowFlatten","observe","memo","supportsScrollTimeline","ScrollTimeline","supportsFlags","memoSupports","supportsFlag","memoized","supportsLinearEasing","document","cubicBezierAsString","supportedWaapiEasing","mapEasingToNativeEasing","segmentEasing","startWaapiAnimation","valueName","pseudoElement","keyframeOptions","iterations","direction","finally","isGenerator","NativeAnimation","finishedTime","isPseudoElement","applyGeneratorOptions","onfinish","updateMotionValue","isCSSVar","setStyle","commitStyles","effect","getComputedTiming","Number","playbackRate","playState","newStartTime","updateTiming","unsupportedEasingFunctions","replaceStringEasing","NativeAnimationExtended","sampleAnimation","isAnimatable","acceleratedValues","supportsWaapi","Element","AsyncMotionValueAnimation","_animation","stopTimeline","keyframeResolver","createdAt","optionsWithDefaults","KeyframeResolver$1","forced","onKeyframesResolved","sync","isHandoff","resolvedAt","originKeyframe","targetKeyframe","isOriginAnimatable","isTargetAnimatable","hasKeyframesChanged","canAnimate","instantAnimations","resolvedOptions","subject","HTMLElement","supportsBrowserAnimation","catch","pendingTimeline","_onReject","underDampedSpring","keyframesTransition","valueKey","animateMotionValue","valueTransition","when","_delay","delayChildren","staggerChildren","staggerDirection","isTransitionDefined","shouldSkip","skipAnimations","isSync","shouldBlockAnimation","protectedKeys","needsAnimating","shouldBlock","animateTarget","targetAndTransition","transitionOverride","animations","animationTypeState","getState","MotionHandoffAnimation","appearId","all","setTarget","calcChildStagger","sort","numChildren","size","maxStaggerDuration","animateVariant","getAnimation","getChildAnimations","forwardDelay","animateChildren","first","last","shallowCompare","prevLength","numVariantProps","getVariantContext","reversePriorityOrder","numAnimationTypes","animateList","resolvedDefinition","animateVisualElement","createAnimationState","createState","isInitialRender","buildResolvedTypeValues","changedActiveType","removedKeys","encounteredKeys","removedVariantIndex","typeState","propIsVariant","activeDelta","isActive","isInherited","prevProp","variantDidChange","checkVariantsDidChange","shouldAnimateType","handledRemovedValues","definitionList","resolvedValues","prevResolvedValues","allKeys","markToAnimate","valueHasChanged","willAnimateViaParent","parentVariant","fallbackAnimation","initialTransition","fallbackTarget","shouldAnimate","setActive","setAnimateFunction","makeAnimator","reset","createTypeState","whileInView","whileHover","whileDrag","whileFocus","node","updateAnimationControlsSubscription","unmountControls","subscribe","prevAnimate","isPresent","onExitComplete","prevIsPresent","exitAnimation","register","isDragging","isDragActive","addDomEvent","passive","removeEventListener","isPrimaryPointer","event","pointerType","button","isPrimary","extractEventInfo","pageX","pageY","addPointerEvent","addPointerInfo","calcLength","calcAxisDelta","calcBoxDelta","calcRelativeAxis","relative","calcRelativeAxisPosition","calcRelativePosition","eachAxis","getContextWindow","ownerDocument","defaultView","PanSession","handlers","contextWindow","dragSnapToOrigin","distanceThreshold","startEvent","lastMoveEvent","lastMoveEventInfo","updatePoint","info","getPanInfo","history","isPanStarted","isDistancePastThreshold","xDelta","yDelta","distance2D","onStart","onMove","handlePointerMove","handlePointerUp","end","onEnd","onSessionEnd","resumeAnimation","panInfo","initialInfo","onSessionStart","removeListeners","updateHandlers","subtractPoint","lastDevicePoint","startDevicePoint","timeDelta","timestampedPoint","lastPoint","calcRelativeAxisConstraints","calcViewportAxisConstraints","layoutAxis","constraintsAxis","defaultElastic","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","label","elementDragControls","VisualElementDragControls","openDragLock","currentDirection","constraints","hasMutatedConstraints","elastic","latestPointerEvent","latestPanInfo","originEvent","snapToCursor","panSession","pauseAnimation","stopAnimation","dragPropagation","onDragStart","resolveConstraints","isAnimationBlocked","getAxisMotionValue","measuredAxis","layoutBox","dragDirectionLock","onDirectionLock","onDrag","lockThreshold","getCurrentDirection","updateAxis","getAnimationState","finalEvent","finalPanInfo","onDragEnd","_point","shouldDrag","axisValue","applyConstraints","measure","prevConstraints","resolveRefConstraints","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","rootProjectionNode","viewportBox","scroll","measurePageBox","measuredConstraints","calcViewportConstraints","userConstraints","convertBoxToBoundingBox","dragMomentum","dragTransition","onDragTransitionEnd","momentumAnimations","startAxisValueAnimation","dragKey","externalMotionValue","scalePositionWithinConstraints","boxProgress","sourceLength","targetLength","calcOrigin","updateScroll","updateLayout","addListeners","stopPointerListener","measureDragConstraints","stopMeasureLayoutListener","stopResizeListener","stopLayoutUpdateListener","hasLayoutChanged","asyncHandler","globalProjectionState","hasAnimatedSinceResize","hasEverUpdated","pixelsToPercent","pixels","correctBorderRadius","correct","correctBoxShadow","treeScale","projectionDelta","original","shadow","xScale","yScale","averageScale","hasTakenAnySnapshot","MeasureLayoutWithContext","componentDidMount","layoutGroup","switchLayoutGroup","correctors","isCSSVariable","addScaleCorrector","defaultScaleCorrectors","group","didUpdate","safeToRemove","getSnapshotBeforeUpdate","layoutDependency","willUpdate","promote","relegate","stack","getStack","members","componentDidUpdate","currentAnimation","isLead","componentWillUnmount","promoteContext","scheduleCheckAfterUnmount","deregister","applyTo","boxShadow","isSVGElement","compareByDepth","FlatTree","isDirty","timeout","checkElapsed","borders","numBorders","asNumber","isPx","getRadius","radiusName","easeCrossfadeIn","compress","easeCrossfadeOut","copyAxisInto","originAxis","copyBoxInto","originBox","copyAxisDeltaInto","originDelta","removePointDelta","removeAxisTransforms","transforms","scaleKey","originKey","sourceAxis","removeAxisDelta","xKeys","yKeys","removeBoxTransforms","sourceBox","isAxisDeltaZero","isDeltaZero","axisEquals","axisEqualsRounded","boxEqualsRounded","aspectRatio","axisDeltaEquals","NodeStack","prevLead","lead","indexOfNode","findIndex","member","preserveFollowOpacity","show","resumeFrom","preserveOpacity","snapshot","animationValues","isUpdating","isLayoutDirty","hide","exitAnimationComplete","resumingFrom","removeLeadSnapshot","metrics","nodes","calculatedTargetDeltas","calculatedProjections","transformAxes","resetDistortingTransform","sharedAnimationValues","cancelTreeOptimisedTransformAnimations","projectionNode","hasCheckedOptimisedAppear","MotionCancelOptimisedAnimation","attachResizeListener","defaultParent","measureScroll","checkIsScrollRoot","resetTransform","animationId","animationCommitId","isTreeAnimating","isProjectionDirty","isSharedProjectionDirty","updateManuallyBlocked","updateBlockedByResize","isSVG","needsReset","shouldResetTransform","eventHandlers","hasTreeAnimated","updateScheduled","scheduleUpdate","projectionUpdateScheduled","checkUpdateFailed","clearAllSnapshots","updateProjection","propagateDirtyNodes","resolveTargetDelta","calcProjection","cleanDirtyNodes","resolvedRelativeTargetAt","hasProjected","isVisible","animationProgress","sharedNodes","path","notifyListeners","subscriptionManager","hasListeners","cancelDelay","innerWidth","resizeUnblockUpdate","newInnerWidth","finishAnimation","registerSharedNode","hasRelativeLayoutChanged","newLayout","isTreeAnimationBlocked","relativeTarget","layoutTransition","defaultLayoutTransition","onLayoutAnimationStart","onLayoutAnimationComplete","hasTargetChanged","targetLayout","hasOnlyRelativeTargetChanged","animationOptions","setAnimationOrigin","blockUpdate","unblockUpdate","isUpdateBlocked","startUpdate","resetSkewAndRotation","getTransformTemplate","shouldNotifyListeners","prevTransformTemplateValue","updateSnapshot","clearMeasurements","clearIsLayoutDirty","resetTransformStyle","notifyLayoutUpdate","clearSnapshot","removeLeadSnapshots","scheduleUpdateProjection","measuredBox","prevLayout","layoutCorrected","phase","isRoot","wasRoot","isResetRequested","hasProjection","transformTemplateValue","transformTemplateHasChanged","removeTransform","pageBox","removeElementScroll","roundAxis","checkNodeWasScrollRoot","boxWithoutScroll","applyTransform","transformOnly","withTransforms","boxWithoutTransform","setTargetDelta","targetDelta","forceRelativeParentToResolveTarget","relativeParent","forceRecalculation","getLead","isShared","attemptToResolveRelativeTarget","getClosestProjectingParent","relativeTargetOrigin","targetWithTransforms","canSkip","pendingAnimation","prevTreeScaleX","prevTreeScaleY","treePath","isSharedTransition","treeLength","display","applyTreeDeltas","prevProjectionDelta","createProjectionDeltas","notifyAll","projectionDeltaWithTransform","snapshotLatestValues","mixedValues","relativeLayout","isSharedLayoutAnimation","isOnlyMember","shouldCrossfadeOpacity","hasOpacityCrossfade","prevRelativeTarget","mixTargetDelta","mixAxisDelta","mixAxis","mixBox","follow","opacityExit","borderLabel","followRadius","leadRadius","mixValues","motionValue$1","animateSingleValue","completeAnimation","applyTransformsToTarget","shouldAnimatePositionOnly","xLength","yLength","shouldPreserveFollowOpacity","getPrevLead","hasDistortingTransform","resetValues","targetStyle","visibility","pointerEvents","valuesToRender","latestTransform","xTranslate","yTranslate","zTranslate","elementScaleX","elementScaleY","buildProjectionTransform","corrected","num","resetTree","measuredLayout","axisSnapshot","layoutDelta","visualDelta","parentSnapshot","parentLayout","relativeSnapshot","onBeforeLayoutMeasure","userAgentContains","string","navigator","userAgent","roundPoint","maxDistance","DocumentProjectionNode","documentElement","scrollLeft","body","scrollTop","HTMLProjectionNode","documentNode","position","removePointerDownListener","onPointerDown","pointerDownEvent","session","createPanHandlers","onPanSessionStart","onPanStart","onPan","onPanEnd","removeGroupControls","controls","dragControls","setupGesture","elementOrSelector","elements","scope","selectorCache","EventTarget","querySelectorAll","resolveElements","gestureAbortController","AbortController","signal","abort","isValidHover","handleHoverEvent","lifecycle","isNodeOrChild","parentElement","focusableElements","isPressing","filterEvents","firePointerEvent","dispatchEvent","PointerEvent","bubbles","isValidPressEvent","press","targetOrSelector","onPressStart","targets","eventOptions","cancelEvents","startPress","currentTarget","onPressEnd","onPointerEnd","endEvent","success","onPointerUp","onPointerCancel","upEvent","useGlobalTarget","cancelEvent","focusEvent","handleKeydown","handleKeyup","enableKeyboardPress","hasAttribute","handlePressEvent","HTMLButtonElement","disabled","observerCallbacks","observers","fireObserverCallback","entry","fireAllObserverCallbacks","entries","observeIntersection","rootInteresectionObserver","lookupRoot","rootObservers","JSON","stringify","IntersectionObserver","initIntersectionObserver","unobserve","thresholdNames","gestureAnimations","hasEnteredView","isInView","startObserver","viewport","rootMargin","amount","once","threshold","isIntersecting","onViewportEnter","onViewportLeave","prevViewport","hasViewportOptionChanged","_element","globalTapTarget","onFocus","isFocusVisible","onBlur","onHoverStart","onPointerEnter","enterEvent","onHoverEnd","onPointerLeave","leaveEvent","motion","W","hasNativeLazyLoadSupport","HTMLImageElement","s","className","P","h","loading","shouldLoad","A","n","l","objectFit","objectPosition","H","F","_ref5","alt","role","src","G","u","V","B","U","srcSet","decoding","Y","sources","sizes","_ref6","media","X","propTypes","isRequired","J","Z","Error","K","Q","ee","te","ae","_len","_key","apply","concat","ie","image","se","re","ne","oe","le","de","as","class","onStartLoad","onLoad","m","onError","w","E","k","S","M","N","$","images","I","_ref7","renderImageToString","swapPlaceholderImage","querySelector","wasCached","setTimeout","removeAttribute","_ref8","innerHTML","isLoading","isLoaded","cancelAnimationFrame","dangerouslySetInnerHTML","__html","suppressHydrationWarning","ce","he","ue","__imageData","__error","console","warn","ge","imgClassName","imgStyle","placeholder","pe","_len2","_key2","me","fe","we","UPPERCASE","LOWERCASE","LEADING_CAPITAL","IDENTIFIER","SEPARATORS","LEADING_SEPARATORS","RegExp","SEPARATORS_AND_IDENTIFIER","NUMBERS_AND_IDENTIFIER","camelCase","TypeError","pascalCase","preserveConsecutiveUppercase","locale","toLocaleLowerCase","toLocaleUpperCase","isLastCharLower","isLastCharUpper","isLastLastCharUpper","character","preserveCamelCase","lastIndex","m1","_","identifier","postProcess","module","exports","useLayoutEffect","deepEqual","$$typeof","getDPR","devicePixelRatio","roundByDPR","dpr","useLatestRef","useFloating","placement","strategy","middleware","platform","reference","externalReference","floating","externalFloating","whileElementsMounted","open","data","setData","middlewareData","isPositioned","latestMiddleware","setLatestMiddleware","_reference","_setReference","_floating","_setFloating","setReference","referenceRef","setFloating","floatingRef","referenceEl","floatingEl","dataRef","hasWhileElementsMounted","whileElementsMountedRef","platformRef","openRef","fullData","isMountedRef","refs","floatingStyles","initialStyles","deps","shift","flip","useIsomorphicLayoutEffect","React","objectIs","is","useSyncExternalStore","useDebugValue","useSyncExternalStoreWithSelector","getSnapshot","getServerSnapshot","selector","isEqual","instRef","inst","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","PopChildMeasure","childRef","offsetParent","parentWidth","offsetWidth","sizeRef","offsetHeight","offsetTop","offsetLeft","PopChild","anchorX","useId","nonce","dataset","motionPopId","head","appendChild","sheet","insertRule","contains","PresenceChild","presenceAffectsLayout","mode","presenceChildren","newChildrenMap","isReusedContext","childId","isComplete","getChildKey","onlyElements","filtered","Children","isValidElement","AnimatePresence","propagate","isParentPresent","presentChildren","presentKeys","pendingPresentChildren","exitComplete","diffedChildren","setDiffedChildren","useState","setRenderedChildren","exitingChildren","nextChildren","forceRender","isEveryExitComplete","isExitComplete","useSiteMetadata","useStaticQuery","site","siteMetadata","MotionLink","Link","Navbar","setOpen","title","links","url","showInLargeScreen","menu","onClick","toggleMenu","xmlns","strokeWidth","strokeLinecap","strokeLinejoin","div","closed","closeMenu","author","href","rel","Date","getFullYear","$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c","$8ae05eaa5c114e9c$var$_React_useInsertionEffect","$8ae05eaa5c114e9c$var$useEarlyEffect","$8ae05eaa5c114e9c$export$7f54fc3180508a52","fn","$8a9cb279dc87e130$export$525bc4921d56d4a","nativeEvent","isDefaultPrevented","defaultPrevented","isPropagationStopped","cancelBubble","persist","$8a9cb279dc87e130$export$c2b7abe5d61ec696","defineProperty","$8a9cb279dc87e130$export$715c682d09d639cc","stateRef","isFocused","observer","disconnect","dispatchBlur","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","onBlurHandler","MutationObserver","_stateRef_current_observer","relatedTargetEl","activeElement","FocusEvent","relatedTarget","attributes","attributeFilter","$8a9cb279dc87e130$export$fda7da73ab5d4c48","$c87311424ea30a05$var$testUserAgent","_window_navigator_userAgentData","brands","brand","$c87311424ea30a05$var$testPlatform","$c87311424ea30a05$var$cached","res","$c87311424ea30a05$export$9ac100e40613ea10","$c87311424ea30a05$export$186c6964ca17d99","$c87311424ea30a05$export$7bef049ce92e4224","maxTouchPoints","$c87311424ea30a05$export$fedb369cb70207f1","$c87311424ea30a05$export$6446a186d09e379e","$431fbd86ca7dc216$export$b204af158042fbac","el","_el_ownerDocument","$431fbd86ca7dc216$export$f21a1ffae260145a","$431fbd86ca7dc216$export$af51f0f06c0f328a","nodeType","Node","DOCUMENT_FRAGMENT_NODE","$507fabe10e71c6fb$var$currentModality","$507fabe10e71c6fb$var$changeHandlers","$507fabe10e71c6fb$export$d90243b58daecda7","$507fabe10e71c6fb$var$hasEventBeforeFocus","$507fabe10e71c6fb$var$hasBlurredWindowRecently","$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS","Tab","Escape","$507fabe10e71c6fb$var$triggerChangeHandlers","modality","$507fabe10e71c6fb$var$handleKeyboardEvent","metaKey","altKey","ctrlKey","$507fabe10e71c6fb$var$isValidKey","$507fabe10e71c6fb$var$handlePointerEvent","$507fabe10e71c6fb$var$handleClickEvent","mozInputSource","isTrusted","buttons","detail","$507fabe10e71c6fb$var$handleFocusEvent","$507fabe10e71c6fb$var$handleWindowBlur","$507fabe10e71c6fb$var$setupGlobalFocusEvents","windowObject","documentObject","$507fabe10e71c6fb$var$tearDownWindowFocusTracking","loadListener","$507fabe10e71c6fb$export$b9b3dfddab17db27","readyState","$507fabe10e71c6fb$export$2f1888112f558a7d","$507fabe10e71c6fb$var$nonTextInputTypes","$507fabe10e71c6fb$export$ec71b4b83ac08ec3","opts","isTextInput","document1","IHTMLInputElement","IHTMLTextAreaElement","IHTMLElement","IKeyboardEvent","KeyboardEvent","isContentEditable","$507fabe10e71c6fb$var$isKeyboardFocusEvent","$f4e2df6bd15f8569$var$_shadowDOM","$f4e2df6bd15f8569$export$98658e8c59125e6a","$d4ee10de306f2510$export$4282f70798064fe0","otherNode","currentNode","assignedSlot","parentNode","host","$d4ee10de306f2510$export$cd4e5573fbe2b576","doc","_activeElement_shadowRoot","shadowRoot","$d4ee10de306f2510$export$e58f029f0fbfdb29","composedPath","$a1ea59d68270f0dd$export$f8168d8dd8fd66e6","isDisabled","onFocusProp","onBlurProp","onFocusChange","onSyntheticFocus","focusProps","$03deb23ff14920c4$export$4eaf04e54aa8eed6","globalListeners","addGlobalListener","eventTarget","removeGlobalListener","_globalListeners_current_get","removeAllGlobalListeners","$9ab94262bd0047c7$export$420e68273165f4ec","onBlurWithin","onFocusWithin","onFocusWithinChange","isFocusWithin","capture","focusWithinProps","$f7dceffc5ad7768b$export$4e328f61c538687f","autoFocus","within","setFocused","isFocusVisibleState","setFocusVisible","updateState","$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents","$6179b936705e76d3$var$hoverCount","$6179b936705e76d3$var$handleGlobalPointerEvent","$6179b936705e76d3$var$setupGlobalTouchEvents","$6179b936705e76d3$export$ae780daf29e6d456","onHoverChange","isHovered","setHovered","ignoreEmulatedMouseEvents","hoverProps","triggerHoverEnd","triggerHoverStart","getDeps","initialDeps","memoizedFunction","_a","_b","_c","_d","depTime","debug","newDeps","dep","resultTime","depEndTime","resultEndTime","resultFpsPercentage","pad","String","updateDeps","notUndefined","msg","targetWindow","ms","timeoutId","clearTimeout","getRect","defaultKeyExtractor","defaultRangeExtractor","range","startIndex","overscan","endIndex","count","observeElementRect","cb","scrollElement","rect","ResizeObserver","run","borderBoxSize","inlineSize","blockSize","useAnimationFrameWithResizeObserver","addEventListenerOptions","supportsScrollend","observeElementOffset","useScrollendEvent","isScrollingResetDelay","createHandler","isScrolling","horizontal","isRtl","endHandler","registerScrollendEvent","measureElement","elementScroll","adjustments","behavior","toOffset","Virtualizer","unsubs","measurementsCache","itemSizeCache","pendingMeasuredCacheIndexes","scrollRect","scrollOffset","scrollDirection","scrollAdjustments","elementsCache","_ro","_measureElement","opts2","initialOffset","paddingStart","paddingEnd","scrollPaddingStart","scrollPaddingEnd","getItemKey","rangeExtractor","initialRect","scrollMargin","gap","indexAttribute","initialMeasurementsCache","lanes","enabled","maybeNotify","calculateRange","cleanup","_didMount","_willUpdate","getScrollElement","cached","_scrollToOffset","getScrollOffset","getFurthestMeasurement","measurements","furthestMeasurementsFound","furthestMeasurements","measurement","lane","previousFurthestMeasurement","getMeasurementOptions","getMeasurements","furthestMeasurement","measuredSize","estimateSize","outerSize","getOffset","findNearestBinarySearch","endPerLane","pos","startPerLane","getVirtualIndexes","indexFromElement","attributeName","indexStr","prevNode","isConnected","resizeItem","shouldAdjustScrollPositionOnItemSizeChange","getVirtualItems","virtualItems","len","getVirtualItemForOffset","getOffsetForAlignment","align","itemSize","maxOffset","getTotalSize","getOffsetForIndex","isDynamicMode","scrollToOffset","scrollToIndex","initialAlign","attempts","tryScroll","currentAlign","offsetInfo","currentOffset","afterInfo","approxEqual","scheduleRetry","scrollBy","endByLane","val","scrollToFn","low","high","getCurrentValue","middle","useVirtualizerBase","rerender","instance2","flushSync","enumerable","configurable","writable","detect","handoffState","currentId","nextId","isServer","isClient","handoff","isHandoffComplete","microTask","dispose","disposables","send","j","iterator","getPrototypeOf","captureStackTrace","Push","Pop","pop","isTop","inStack","new","selectors","actions","inert","allowed","disallowed","nodeName","First","Previous","Next","Last","WrapAround","NoScroll","AutoFocus","Overflow","Success","Underflow","Strict","Loose","Keyboard","Mouse","headlessuiFocusVisible","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_PRECEDING","getRootNode","composed","preventDefault","touches","clientX","clientY","changedTouches","Ignore","Select","Close","kind","selectionStart","selectionEnd","preventScroll","setSelectionRange","before","clientWidth","after","meta","containers","flatMap","scrollBehavior","scrollY","closest","hash","URL","headlessuiPortal","scrollHeight","clientHeight","scrollWidth","scrollIntoView","block","dispatch","PUSH","POP","SCROLL_PREVENT","SCROLL_ALLOW","TEARDOWN","overflow","every","screenX","screenY","globalThis","getAnimations","None","Closed","Enter","Leave","hasFlag","addFlag","removeFlag","flags","setFlag","toggleFlag","prepare","inFlight","CSSTransition","allSettled","enter","leave","styles","getReferenceProps","getFloatingProps","slot","Re","outerHTML","Ae","ceil","inner","mainAxis","crossAxis","overflowRef","minItemsVisible","referenceOverflowThreshold","onFallbackChange","scrollPaddingBottom","childElementCount","childNodes","availableWidth","availableHeight","anchor","toISOString","RenderStrategy","Static","Unmount","Hidden","ourProps","theirProps","defaultTag","visible","mergeRefs","static","hidden","refName","T","R","Event","Focusable","clip","whiteSpace","form","onReset","overrides","setForm","formId","readOnly","getElementById","freeze","Open","Closing","Opening","previousElementSibling","unshift","Specific","Nothing","resolveItems","resolveActiveIndex","resolveDisabled","resolveId","D","Space","Backspace","Delete","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End","PageUp","PageDown","htmlFor","click","Left","Right","O","Group","Single","Multi","Pointer","Focus","Other","OpenCombobox","CloseCombobox","GoToOption","SetTyping","RegisterOption","UnregisterOption","DefaultToFirstOption","SetActivationTrigger","UpdateVirtualConfiguration","SetInputElement","SetButtonElement","SetOptionsElement","activeOptionIndex","order","domRef","comboboxState","isTyping","activationTrigger","__demoMode","calculateIndex","optionsElement","optionsPropsRef","virtual","idx","trigger","payload","isSelected","defaultToFirstOption","inputElement","buttonElement","compare","registerOption","goToOption","setIsTyping","closeCombobox","onClose","openCombobox","setActivationTrigger","selectActiveOption","setInputElement","setButtonElement","setOptionsElement","activeDescendantId","activeOption","shouldScrollIntoView","C","Me","vo","paddingBlockStart","paddingBlockEnd","option","overflowAnchor","Po","Do","Mo","by","invalid","multiple","nullable","error","hold","be","activeIndex","Lo","action","close","select","timeStamp","stopPropagation","pressed","pressProps","active","onKeyDown","Vo","displayValue","selectionDirection","shiftKey","autofocus","onCompositionStart","onCompositionEnd","wo","Bo","portal","modal","container","accept","walk","acceptNode","createTreeWalker","NodeFilter","SHOW_ELEMENT","nextNode","FILTER_REJECT","FILTER_SKIP","FILTER_ACCEPT","onWheel","onMouseDown","No","wasMoved","selected","onMouseEnter","onPointerMove","onMouseMove","onMouseLeave","wt","Input","Button","Label","Options","Option","getTag","isString","isNumber","isBoolean","isObject","isObjectLike","isDefined","isBlank","hasOwn","KeyStore","_keys","_keyMap","totalWeight","obj","createKey","weight","keyId","toJSON","getFn","createKeyPath","createKeyId","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","AdvancedOptions","useExtendedSearch","deepGet","baseToString","ignoreLocation","ignoreFieldNorm","fieldNormWeight","Config","isCaseSensitive","ignoreDiacritics","includeScore","shouldSort","sortFn","score","includeMatches","findAllMatches","minMatchCharLength","location","SPACE","FuseIndex","norm","mantissa","cache","numTokens","isCreated","setIndexRecords","setSources","docs","records","setKeys","_keysMap","create","docIndex","_addString","_addObject","removeAt","getValueForItemAtKeyId","record","keyIndex","subRecords","nestedArrIndex","subRecord","createIndex","myIndex","computeScore$1","pattern","errors","currentLocation","expectedLocation","accuracy","proximity","MAX_BITS","search","text","patternAlphabet","PATTERN_LENGTH_TOO_LARGE","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","lastBitArr","finalScore","binMax","mask","binMin","binMid","bitArr","charMatch","isMatch","indices","matchmask","convertMaskToIndices","createPatternAlphabet","char","stripDiacritics","normalize","BitapSearch","chunks","addChunk","alphabet","remainder","substr","searchIn","allIndices","totalScore","hasMatches","BaseMatch","isMultiMatch","getMatch","multiRegex","isSingleMatch","singleRegex","FuzzyMatch","_bitapSearch","IncludeMatch","searchers","searchersLen","SPACE_RE","MultiMatchSet","ExtendedSearch","query","results","queryItem","found","searcher","parseQuery","condition","numMatches","qLen","pLen","registeredSearchers","createSearcher","searcherClass","LogicalOperator","KeyType","isExpression","convertToExplicit","auto","isQueryPath","isPath","isLeaf","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","operator","transformMatches","refIndex","transformScore","Fuse","_keyStore","setCollection","_docs","_myIndex","predicate","getIndex","limit","_searchStringList","_searchObjectList","_searchLogical","EPSILON","computeScore","format","expression","evaluate","_findMatches","resultMap","expResults","XCircleIcon","titleId","svgRef","fillRule","clipRule","version","parseIndex","MagnifyingGlassIcon","ArrowUturnRightIcon","ArrowUpCircleIcon","ArrowDownCircleIcon","Empty","Search","posts","allMdx","post","frontmatter","fields","slug","content","excerpt","date","setQuery","selectedPost","setSelectedPost","isOpen","setIsOpen","inputRef","fuse","maxPatternLength","safeQuery","filteredOptions","refCb","useClickAway","handleKeyDown","Combobox","navigate","ComboboxInput","ComboboxOptions","ComboboxOption","toPascalCase","p1","p2","toCamelCase","mergeClasses","classes","defaultAttributes","Icon","absoluteStrokeWidth","iconNode","rest","iconName","createLucideIcon","Toast","_ref","_data$allMdx$edges$","_data$allMdx$edges$$n","_data$allMdx$edges$$n2","message","setShow","latestPostSlug","edges","cachedSlug","localStorage","getItem","setItem","GatsbyImage","childImageSharp","gatsbyImageData","damp","useLocation","StaticImage","quality","Head","Helmet","lang","main","pathname","Footer","hasWindow","getNodeName","isNode","getWindow","_node$ownerDocument","getDocumentElement","isElement","isHTMLElement","isShadowRoot","ShadowRoot","invalidOverflowDisplayValues","isOverflowElement","overflowX","overflowY","tableElements","isTableElement","topLayerSelectors","isTopLayer","_e","transformProperties","willChangeValues","containValues","isContainingBlock","elementOrCss","webkit","isWebKit","css","containerType","backdropFilter","contain","getContainingBlock","getParentNode","isLastTraversableNode","CSS","supports","lastTraversableNodeNames","getNodeScroll","scrollX","getNearestOverflowAncestor","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","frameElement","getFrameElement","visualViewport","computeCoordsFromPlacement","rtl","sideAxis","alignmentAxis","alignLength","side","isVertical","commonX","commonY","commonAlign","coords","async","detectOverflow","_await$platform$isEle","rects","boundary","rootBoundary","elementContext","altBoundary","paddingObject","clippingClientRect","getClippingRect","contextElement","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","originSides","getCssDimensions","hasOffset","shouldFallback","unwrapElement","domElement","isFinite","noOffsets","getVisualOffsets","includeScale","isFixedStrategy","clientRect","visualOffsets","isFixed","floatingOffsetParent","shouldAddVisualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","clientLeft","clientTop","getWindowScrollBarX","leftScroll","getHTMLOffset","ignoreScrollbarX","htmlRect","absoluteOrFixed","getClientRectFromClippingAncestor","clippingAncestor","html","visualViewportBased","getViewportRect","getDocumentRect","getInnerBoundingClientRect","hasFixedPositionAncestor","stopNode","getRectRelativeToOffsetParent","isOffsetParentAnElement","offsets","setLeftRTLScrollbarOffset","offsetRect","htmlOffset","isStaticPositioned","getTrueOffsetParent","polyfill","rawOffsetParent","svgOffsetParent","topLayer","clippingAncestors","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","currentNodeIsContaining","ancestor","getClippingElementAncestors","firstClippingAncestor","clippingRect","accRect","getElementRects","getOffsetParentFn","getDimensionsFn","getDimensions","floatingDimensions","getClientRects","isRTL","rectsAreEqual","autoUpdate","ancestorScroll","ancestorResize","elementResize","layoutShift","animationFrame","ancestors","cleanupIo","io","_io","refresh","skip","elementRectForRootMargin","isFirstUpdate","handleObserve","ratio","intersectionRatio","observeMove","frameId","reobserveFrame","resizeObserver","firstEntry","_resizeObserver","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","_middlewareData$offse","_middlewareData$arrow","diffCoords","alignment","mainAxisMulti","crossAxisMulti","rawValue","convertValueToCoords","arrow","alignmentOffset","checkMainAxis","checkCrossAxis","limiter","detectOverflowOptions","mainAxisCoord","crossAxisCoord","maxSide","limitedCoords","_middlewareData$flip","initialPlacement","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment","initialSideAxis","isBasePlacement","hasFallbackAxisSideDirection","placements","overflows","overflowsData","sides","_middlewareData$flip2","_overflowsData$filter","nextIndex","nextPlacement","resetPlacement","_overflowsData$filter2","currentSideAxis","_state$middlewareData","_state$middlewareData2","isYAxis","heightSide","widthSide","maximumClippingHeight","maximumClippingWidth","overflowAvailableHeight","overflowAvailableWidth","noShift","xMin","xMax","yMin","yMax","nextDimensions","mergedOptions","platformWithCache","validMiddleware","statefulPlacement","resetCount","nextX","nextY","computePosition","getUserAgent","uaData","userAgentData","createCoords","oppositeSideMap","oppositeAlignmentMap","param","getSide","getAlignment","getOppositeAxis","getAxisLength","yAxisSides","getSideAxis","getAlignmentAxis","getAlignmentSides","mainAlignmentSide","getOppositePlacement","getExpandedPlacements","oppositePlacement","getOppositeAlignmentPlacement","lrPlacement","rlPlacement","tbPlacement","btPlacement","getOppositeAxisPlacements","isStart","getSideList","getPaddingObject","expandPaddingObject","rectToClientRect","isBrowser","useConstant","usePresence"],"sourceRoot":""}